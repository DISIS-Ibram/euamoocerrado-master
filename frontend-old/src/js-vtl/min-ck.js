// @codekit-append "lib/sammy.js",
// @codekit-append "psub.js",
// @codekit-append "lib/TweenMax.js",
// @codekit-append "lib/raphael.js",
// @codekit-append "lib/raphael-svg-import.js",
// @codekit-append "raphael-extensions.js",
// @codekit-append "lib/underscore-min.js",
// @codekit-append "varios.js",
// @codekit-append "vtl_base_classes.js",
// @codekit-append "vtl_util.js",
// @codekit-append "vtl_lago_layer.js",
// @codekit-append "vtl_html_layer.js",
// @codekit-append "vtl_percurso.js",
// @codekit-append "vtl_gpx_reader.js",
// @codekit-append "vtl_director.js",
// @codekit-append "jquery.mousewhell.js",
/* **********************************************
     Begin sammy.js
********************************************** */// -- Sammy.js -- /sammy.js
// http://sammyjs.org
// Version: 0.7.4
// Built: 2013-01-27 13:34:16 -0500
// name: sammy
// version: 0.7.4
// Sammy.js / http://sammyjs.org
function Event(){this.events=[];this.builtinEvts=[]}function vtlBindScope(e,t,n){n=n||window;PubSub.subscribe(e,function(e,r){t.call(n,r)})}function log(e){$("#info").text(e)}function mousewhelllw(e){function o(t){var n=t||window.event,s=[].slice.call(arguments,1),o=0,u=0,a=0,f=0,l=0,c;t=e.event.fix(n);t.type="mousewheel";n.wheelDelta&&(o=n.wheelDelta);n.detail&&(o=n.detail*-1);if(n.deltaY){a=n.deltaY*-1;o=a}if(n.deltaX){u=n.deltaX;o=u*-1}n.wheelDeltaY!==undefined&&(a=n.wheelDeltaY);n.wheelDeltaX!==undefined&&(u=n.wheelDeltaX*-1);f=Math.abs(o);if(!r||f<r)r=f;l=Math.max(Math.abs(a),Math.abs(u));if(!i||l<i)i=l;c=o>0?"floor":"ceil";o=Math[c](o/r);u=Math[c](u/i);a=Math[c](a/i);s.unshift(t,o,u,a);return(e.event.dispatch||e.event.handle).apply(this,s)}var t=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],n="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],r,i;if(e.event.fixHooks)for(var s=t.length;s;)e.event.fixHooks[t[--s]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=n.length;e;)this.addEventListener(n[--e],o,!1);else this.onmousewheel=o},teardown:function(){if(this.removeEventListener)for(var e=n.length;e;)this.removeEventListener(n[--e],o,!1);else this.onmousewheel=null}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(function(e,t){(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):e.sammy=t.Sammy=n(e)})(function(e){var n,r="([^/]+)",i=/:([\w\d]+)/g,s=/\?([^#]*)?$/,o=function(e){return Array.prototype.slice.call(e)},u=function(e){return Object.prototype.toString.call(e)==="[object Function]"},a=function(e){return Object.prototype.toString.call(e)==="[object Array]"},f=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},l=function(e){return decodeURIComponent((e||"").replace(/\+/g," "))},c=encodeURIComponent,h=function(e){return String(e).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},p=function(e){return function(){return this.route.apply(this,[e].concat(Array.prototype.slice.call(arguments)))}},d={},v=!!t.history&&!!history.pushState,m=[];return n=function(){var t=o(arguments),r,i;n.apps=n.apps||{};if(t.length===0||t[0]&&u(t[0]))return n.apply(n,["body"].concat(t));if(typeof (i=t.shift())=="string")return r=n.apps[i]||new n.Application,r.element_selector=i,t.length>0&&e.each(t,function(e,t){r.use(t)}),r.element_selector!=i&&delete n.apps[i],n.apps[r.element_selector]=r,r},n.VERSION="0.7.4",n.addLogger=function(e){m.push(e)},n.log=function(){var t=o(arguments);t.unshift("["+Date()+"]"),e.each(m,function(e,r){r.apply(n,t)})},typeof t.console!="undefined"?u(t.console.log.apply)?n.addLogger(function(){t.console.log.apply(t.console,arguments)}):n.addLogger(function(){t.console.log(arguments)}):typeof console!="undefined"&&n.addLogger(function(){console.log.apply(console,arguments)}),e.extend(n,{makeArray:o,isFunction:u,isArray:a}),n.Object=function(t){return e.extend(this,t||{})},e.extend(n.Object.prototype,{escapeHTML:h,h:h,toHash:function(){var t={};return e.each(this,function(e,n){u(n)||(t[e]=n)}),t},toHTML:function(){var t="";return e.each(this,function(e,n){u(n)||(t+="<strong>"+e+"</strong> "+n+"<br />")}),t},keys:function(e){var t=[];for(var n in this)(!u(this[n])||!e)&&t.push(n);return t},has:function(t){return this[t]&&e.trim(this[t].toString())!==""},join:function(){var e=o(arguments),t=e.shift();return e.join(t)},log:function(){n.log.apply(n,arguments)},toString:function(t){var n=[];return e.each(this,function(e,r){(!u(r)||t)&&n.push('"'+e+'": '+r.toString())}),"Sammy.Object: {"+n.join(",")+"}"}}),n.targetIsThisWindow=function(n){var r=e(n.target).attr("target");return!r||r===t.name||r==="_self"?!0:r==="_blank"?!1:r==="top"&&t===t.top?!0:!1},n.DefaultLocationProxy=function(e,t){this.app=e,this.is_native=!1,this.has_history=v,this._startPolling(t)},n.DefaultLocationProxy.fullPath=function(e){var t=e.toString().match(/^[^#]*(#.+)$/),n=t?t[1]:"";return[e.pathname,e.search,n].join("")},e.extend(n.DefaultLocationProxy.prototype,{bind:function(){var r=this,i=this.app,s=n.DefaultLocationProxy;e(t).bind("hashchange."+this.app.eventNamespace(),function(e,n){r.is_native===!1&&!n&&(r.is_native=!0,t.clearInterval(s._interval),s._interval=null),i.trigger("location-changed")}),v&&!i.disable_push_state&&(e(t).bind("popstate."+this.app.eventNamespace(),function(e){i.trigger("location-changed")}),e(document).delegate("a","click.history-"+this.app.eventNamespace(),function(e){if(e.isDefaultPrevented()||e.metaKey||e.ctrlKey)return;var o=s.fullPath(this);if(this.hostname==t.location.hostname&&i.lookupRoute("get",o)&&n.targetIsThisWindow(e))return e.preventDefault(),r.setLocation(o),!1})),s._bindings||(s._bindings=0),s._bindings++},unbind:function(){e(t).unbind("hashchange."+this.app.eventNamespace()),e(t).unbind("popstate."+this.app.eventNamespace()),e(document).undelegate("a","click.history-"+this.app.eventNamespace()),n.DefaultLocationProxy._bindings--,n.DefaultLocationProxy._bindings<=0&&(t.clearInterval(n.DefaultLocationProxy._interval),n.DefaultLocationProxy._interval=null)},getLocation:function(){return n.DefaultLocationProxy.fullPath(t.location)},setLocation:function(e){/^([^#\/]|$)/.test(e)&&(v&&!this.app.disable_push_state?e="/"+e:e="#!/"+e);if(e!=this.getLocation()){if(!(v&&!this.app.disable_push_state&&/^\//.test(e)))return t.location=e;history.pushState({path:e},t.title,e),this.app.trigger("location-changed")}},_startPolling:function(r){var i=this;if(!n.DefaultLocationProxy._interval){r||(r=10);var s=function(){var r=i.getLocation();(typeof n.DefaultLocationProxy._last_location=="undefined"||r!=n.DefaultLocationProxy._last_location)&&t.setTimeout(function(){e(t).trigger("hashchange",[!0])},0),n.DefaultLocationProxy._last_location=r};s(),n.DefaultLocationProxy._interval=t.setInterval(s,r)}}}),n.Application=function(e){var t=this;this.routes={},this.listeners=new n.Object({}),this.arounds=[],this.befores=[],this.namespace=(new Date).getTime()+"-"+parseInt(Math.random()*1e3,10),this.context_prototype=function(){n.EventContext.apply(this,arguments)},this.context_prototype.prototype=new n.EventContext,u(e)&&e.apply(this,[this]),this._location_proxy||this.setLocationProxy(new n.DefaultLocationProxy(this,this.run_interval_every)),this.debug&&this.bindToAllEvents(function(e,n){t.log(t.toString(),e.cleaned_type,n||{})})},n.Application.prototype=e.extend({},n.Object.prototype,{ROUTE_VERBS:["get","post","put","delete"],APP_EVENTS:["run","unload","lookup-route","run-route","route-found","event-context-before","event-context-after","changed","error","check-form-submission","redirect","location-changed"],_last_route:null,_location_proxy:null,_running:!1,element_selector:"body",debug:!1,raise_errors:!1,run_interval_every:50,disable_push_state:!1,template_engine:null,toString:function(){return"Sammy.Application:"+this.element_selector},$element:function(t){return t?e(this.element_selector).find(t):e(this.element_selector)},use:function(){var e=o(arguments),t=e.shift(),r=t||"";try{e.unshift(this),typeof t=="string"&&(r="Sammy."+t,t=n[t]),t.apply(this,e)}catch(i){typeof t=="undefined"?this.error("Plugin Error: called use() but plugin ("+r.toString()+") is not defined",i):u(t)?this.error("Plugin Error",i):this.error("Plugin Error: called use() but '"+r.toString()+"' is not a function",i)}return this},setLocationProxy:function(e){var t=this._location_proxy;this._location_proxy=e,this.isRunning()&&(t&&t.unbind(),this._location_proxy.bind())},log:function(){n.log.apply(n,Array.prototype.concat.apply([this.element_selector],arguments))},route:function(t,n){var s=this,o=[],a,f,l=Array.prototype.slice.call(arguments,2);l.length===0&&u(n)&&(n=t,l=[n],t="any"),t=t.toLowerCase();if(n.constructor==String){i.lastIndex=0;while((f=i.exec(n))!==null)o.push(f[1]);n=new RegExp(n.replace(i,r)+"$")}return e.each(l,function(e,t){typeof t=="string"&&(l[e]=s[t])}),a=function(e){var t={verb:e,path:n,callback:l,param_names:o};s.routes[e]=s.routes[e]||[],s.routes[e].push(t)},t==="any"?e.each(this.ROUTE_VERBS,function(e,t){a(t)}):a(t),this},get:p("get"),post:p("post"),put:p("put"),del:p("delete"),any:p("any"),mapRoutes:function(t){var n=this;return e.each(t,function(e,t){n.route.apply(n,t)}),this},eventNamespace:function(){return["sammy-app",this.namespace].join("-")},bind:function(e,t,n){var r=this;typeof n=="undefined"&&(n=t);var i=function(){var e,t,i;e=arguments[0],i=arguments[1],i&&i.context?(t=i.context,delete i.context):t=new r.context_prototype(r,"bind",e.type,i,e.target),e.cleaned_type=e.type.replace(r.eventNamespace(),""),n.apply(t,[e,i])};return this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(i),this.isRunning()&&this._listen(e,i),this},trigger:function(e,t){return this.$element().trigger([e,this.eventNamespace()].join("."),[t]),this},refresh:function(){return this.last_location=null,this.trigger("location-changed"),this},before:function(e,t){return u(e)&&(t=e,e={}),this.befores.push([e,t]),this},after:function(e){return this.bind("event-context-after",e)},around:function(e){return this.arounds.push(e),this},onComplete:function(e){return this._onComplete=e,this},isRunning:function(){return this._running},helpers:function(t){return e.extend(this.context_prototype.prototype,t),this},helper:function(e,t){return this.context_prototype.prototype[e]=t,this},run:function(r){if(this.isRunning())return!1;var i=this;return e.each(this.listeners.toHash(),function(t,n){e.each(n,function(e,n){i._listen(t,n)})}),this.trigger("run",{start_url:r}),this._running=!0,this.last_location=null,!/\#(.+)/.test(this.getLocation())&&typeof r!="undefined"&&this.setLocation(r),this._checkLocation(),this._location_proxy.bind(),this.bind("location-changed",function(){i._checkLocation()}),this.bind("submit",function(t){if(!n.targetIsThisWindow(t))return!0;var r=i._checkFormSubmission(e(t.target).closest("form"));return r===!1?t.preventDefault():!1}),e(t).bind("unload",function(){i.unload()}),this.trigger("changed")},unload:function(){if(!this.isRunning())return!1;var t=this;return this.trigger("unload"),this._location_proxy.unbind(),this.$element().unbind("submit").removeClass(t.eventNamespace()),e.each(this.listeners.toHash(),function(n,r){e.each(r,function(e,r){t._unlisten(n,r)})}),this._running=!1,this},destroy:function(){return this.unload(),delete n.apps[this.element_selector],this},bindToAllEvents:function(t){var n=this;return e.each(this.APP_EVENTS,function(e,r){n.bind(r,t)}),e.each(this.listeners.keys(!0),function(r,i){e.inArray(i,n.APP_EVENTS)==-1&&n.bind(i,t)}),this},routablePath:function(e){return e.replace(s,"")},lookupRoute:function(e,t){var n=this,r=!1,i=0,s,o;if(typeof this.routes[e]!="undefined"){s=this.routes[e].length;for(;i<s;i++){o=this.routes[e][i];if(n.routablePath(t).match(o.path)){r=o;break}}}return r},runRoute:function(t,n,r,i){var s=this,o=this.lookupRoute(t,n),u,a,f,c,h,p,d,v,m;this.debug&&this.log("runRoute",[t,n].join(" ")),this.trigger("run-route",{verb:t,path:n,params:r}),typeof r=="undefined"&&(r={}),e.extend(r,this._parseQueryString(n));if(o){this.trigger("route-found",{route:o}),(v=o.path.exec(this.routablePath(n)))!==null&&(v.shift(),e.each(v,function(e,t){o.param_names[e]?r[o.param_names[e]]=l(t):(r.splat||(r.splat=[]),r.splat.push(l(t)))})),u=new this.context_prototype(this,t,n,r,i),f=this.arounds.slice(0),h=this.befores.slice(0),d=[u],r.splat&&(d=d.concat(r.splat)),a=function(){var e,t,n;while(h.length>0){p=h.shift();if(s.contextMatchesOptions(u,p[0])){e=p[1].apply(u,[u]);if(e===!1)return!1}}return s.last_route=o,u.trigger("event-context-before",{context:u}),typeof o.callback=="function"&&(o.callback=[o.callback]),o.callback&&o.callback.length&&(t=-1,n=function(){t++,o.callback[t]?e=o.callback[t].apply(u,d):s._onComplete&&typeof (s._onComplete==="function")&&s._onComplete(u)},d.push(n),n()),u.trigger("event-context-after",{context:u}),e},e.each(f.reverse(),function(e,t){var n=a;a=function(){return t.apply(u,[n])}});try{m=a()}catch(g){this.error(["500 Error",t,n].join(" "),g)}return m}return this.notFound(t,n)},contextMatchesOptions:function(t,n,r){var i=n;if(typeof i=="string"||f(i))i={path:i};typeof r=="undefined"&&(r=!0);if(e.isEmptyObject(i))return!0;if(a(i.path)){var s,o,u,l;s=[];for(o=0,l=i.path.length;o<l;o+=1)u=e.extend({},i,{path:i.path[o]}),s.push(this.contextMatchesOptions(t,u));var c=e.inArray(!0,s)>-1?!0:!1;return r?c:!c}if(i.only)return this.contextMatchesOptions(t,i.only,!0);if(i.except)return this.contextMatchesOptions(t,i.except,!1);var h=!0,p=!0;return i.path&&(f(i.path)||(i.path=new RegExp(i.path.toString()+"$")),h=i.path.test(t.path)),i.verb&&(typeof i.verb=="string"?p=i.verb===t.verb:p=i.verb.indexOf(t.verb)>-1),r?p&&h:!p||!h},getLocation:function(){return this._location_proxy.getLocation()},setLocation:function(e){return this._location_proxy.setLocation(e)},swap:function(e,t){var n=this.$element().html(e);return u(t)&&t(e),n},templateCache:function(e,t){return typeof t!="undefined"?d[e]=t:d[e]},clearTemplateCache:function(){return d={}},notFound:function(e,t){var n=this.error(["404 Not Found",e,t].join(" "));return e==="get"?n:!0},error:function(e,t){t||(t=new Error),t.message=[e,t.message].join(" "),this.trigger("error",{message:t.message,error:t});if(this.raise_errors)throw t;this.log(t.message,t)},_checkLocation:function(){var e,t;e=this.getLocation();if(!this.last_location||this.last_location[0]!="get"||this.last_location[1]!=e)this.last_location=["get",e],t=this.runRoute("get",e);return t},_getFormVerb:function(t){var n=e(t),r,i;i=n.find('input[name="_method"]'),i.length>0&&(r=i.val()),r||(r=n[0].getAttribute("method"));if(!r||r==="")r="get";return e.trim(r.toString().toLowerCase())},_checkFormSubmission:function(t){var n,r,i,s,o;return this.trigger("check-form-submission",{form:t}),n=e(t),r=n.attr("action")||"",i=this._getFormVerb(n),this.debug&&this.log("_checkFormSubmission",n,r,i),i==="get"?(s=this._serializeFormParams(n),s!==""&&(r+="?"+s),this.setLocation(r),o=!1):(s=e.extend({},this._parseFormParams(n)),o=this.runRoute(i,r,s,t.get(0))),typeof o=="undefined"?!1:o},_serializeFormParams:function(e){var t="",n=e.serializeArray(),r;if(n.length>0){t=this._encodeFormPair(n[0].name,n[0].value);for(r=1;r<n.length;r++)t=t+"&"+this._encodeFormPair(n[r].name,n[r].value)}return t},_encodeFormPair:function(e,t){return c(e)+"="+c(t)},_parseFormParams:function(e){var t={},n=e.serializeArray(),r;for(r=0;r<n.length;r++)t=this._parseParamPair(t,n[r].name,n[r].value);return t},_parseQueryString:function(e){var t={},n,r,i,o;n=e.match(s);if(n&&n[1]){r=n[1].split("&");for(o=0;o<r.length;o++)i=r[o].split("="),t=this._parseParamPair(t,l(i[0]),l(i[1]||""))}return t},_parseParamPair:function(e,t,n){return typeof e[t]!="undefined"?a(e[t])?e[t].push(n):e[t]=[e[t],n]:e[t]=n,e},_listen:function(e,t){return this.$element().bind([e,this.eventNamespace()].join("."),t)},_unlisten:function(e,t){return this.$element().unbind([e,this.eventNamespace()].join("."),t)}}),n.RenderContext=function(e){this.event_context=e,this.callbacks=[],this.previous_content=null,this.content=null,this.next_engine=!1,this.waiting=!1},n.RenderContext.prototype=e.extend({},n.Object.prototype,{then:function(e){if(!u(e)){if(!(typeof e=="string"&&e in this.event_context))return this;var n=this.event_context[e];e=function(e){return n.apply(this.event_context,[e])}}var r=this;return this.waiting?this.callbacks.push(e):(this.wait(),t.setTimeout(function(){var t=e.apply(r,[r.content,r.previous_content]);t!==!1&&r.next(t)},0)),this},wait:function(){this.waiting=!0},next:function(e){this.waiting=!1,typeof e!="undefined"&&(this.previous_content=this.content,this.content=e),this.callbacks.length>0&&this.then(this.callbacks.shift())},load:function(t,n,r){var i=this;return this.then(function(){var s,o,a,f;u(n)?(r=n,n={}):n=e.extend({},n),r&&this.then(r);if(typeof t=="string")return a=t.match(/\.json$/)||n.json,s=a?n.cache===!0:n.cache!==!1,i.next_engine=i.event_context.engineFor(t),delete n.cache,delete n.json,n.engine&&(i.next_engine=n.engine,delete n.engine),s&&(o=this.event_context.app.templateCache(t))?o:(this.wait(),e.ajax(e.extend({url:t,data:{},dataType:a?"json":"text",type:"get",success:function(e){s&&i.event_context.app.templateCache(t,e),i.next(e)}},n)),!1);if(t.nodeType)return t.innerHTML;if(t.selector)return i.next_engine=t.attr("data-engine"),n.clone===!1?t.remove()[0].innerHTML.toString():t[0].innerHTML.toString()})},loadPartials:function(e){var t;if(e){this.partials=this.partials||{};for(t in e)(function(t,n){t.load(e[n]).then(function(e){this.partials[n]=e})})(this,t)}return this},render:function(e,t,n,r){return u(e)&&!t?this.then(e):(u(t)?(r=n,n=t,t=null):n&&!u(n)&&(r=n,n=null),this.loadPartials(r).load(e).interpolate(t,e).then(n))},partial:function(e,t,n,r){return u(n)?this.render(e,t,r).swap(n):u(t)?this.render(e,{},n).swap(t):this.render(e,t,n).swap()},send:function(){var e=this,t=o(arguments),n=t.shift();return a(t[0])&&(t=t[0]),this.then(function(r){return t.push(function(t){e.next(t)}),e.wait(),n.apply(n,t),!1})},collect:function(t,n,r){var i=this,s=function(){u(t)&&(n=t,t=this.content);var r=[],s=!1;return e.each(t,function(e,t){var o=n.apply(i,[e,t]);return o.jquery&&o.length==1&&(o=o[0],s=!0),r.push(o),o}),s?r:r.join("")};return r?s():this.then(s)},renderEach:function(t,n,r,i){return a(n)&&(i=r,r=n,n=null),this.load(t).then(function(s){var o=this;r||(r=a(this.previous_content)?this.previous_content:[]);if(!i)return this.collect(r,function(e,r){var i={},o=this.next_engine||t;return n?i[n]=r:i=r,this.event_context.interpolate(s,i,o)},!0);e.each(r,function(e,r){var u={},a=this.next_engine||t;n?u[n]=r:u=r,i(r,o.event_context.interpolate(s,u,a))})})},interpolate:function(e,t,n){var r=this;return this.then(function(i,s){!e&&s&&(e=s),this.next_engine&&(t=this.next_engine,this.next_engine=!1);var o=r.event_context.interpolate(i,e,t,this.partials);return n?s+o:o})},swap:function(e){return this.then(function(t){return this.event_context.swap(t,e),t}).trigger("changed",{})},appendTo:function(t){return this.then(function(n){e(t).append(n)}).trigger("changed",{})},prependTo:function(t){return this.then(function(n){e(t).prepend(n)}).trigger("changed",{})},replace:function(t){return this.then(function(n){e(t).html(n)}).trigger("changed",{})},trigger:function(e,t){return this.then(function(n){return typeof t=="undefined"&&(t={content:n}),this.event_context.trigger(e,t),n})}}),n.EventContext=function(e,t,r,i,s){this.app=e,this.verb=t,this.path=r,this.params=new n.Object(i),this.target=s},n.EventContext.prototype=e.extend({},n.Object.prototype,{$element:function(){return this.app.$element(o(arguments).shift())},engineFor:function(e){var t=this,n;if(u(e))return e;e=(e||t.app.template_engine).toString();if(n=e.match(/\.([^\.\?\#]+)$/))e=n[1];return e&&u(t[e])?t[e]:t.app.template_engine?this.engineFor(t.app.template_engine):function(e,t){return e}},interpolate:function(e,t,n,r){return this.engineFor(n).apply(this,[e,t,r])},render:function(e,t,r,i){return(new n.RenderContext(this)).render(e,t,r,i)},renderEach:function(e,t,r,i){return(new n.RenderContext(this)).renderEach(e,t,r,i)},load:function(e,t,r){return(new n.RenderContext(this)).load(e,t,r)},loadPartials:function(e){return(new n.RenderContext(this)).loadPartials(e)},partial:function(e,t,r,i){return(new n.RenderContext(this)).partial(e,t,r,i)},send:function(){var e=new n.RenderContext(this);return e.send.apply(e,arguments)},redirect:function(){var t,n=o(arguments),r=this.app.getLocation(),i=n.length;if(i>1){var s=0,u=[],a=[],f={},l=!1;for(;s<i;s++)typeof n[s]=="string"?u.push(n[s]):(e.extend(f,n[s]),l=!0);t=u.join("/");if(l){for(var c in f)a.push(this.app._encodeFormPair(c,f[c]));t+="?"+a.join("&")}}else t=n[0];this.trigger("redirect",{to:t}),this.app.last_location=[this.verb,this.path],this.app.setLocation(t),(new RegExp(t)).test(r)&&this.app.trigger("location-changed")},trigger:function(e,t){return typeof t=="undefined"&&(t={}),t.context||(t.context=this),this.app.trigger(e,t)},eventNamespace:function(){return this.app.eventNamespace()},swap:function(e,t){return this.app.swap(e,t)},notFound:function(){return this.app.notFound(this.verb,this.path)},json:function(t){return e.parseJSON(t)},toString:function(){return"Sammy.EventContext: "+[this.verb,this.path,this.params].join(" ")}}),n})})(jQuery,window);(function(e,t){"use strict";typeof exports=="object"?module.exports=t():typeof define=="function"&&define.amd?define(t):e.PubSub=t()})(typeof window=="object"&&window||this,function(){"use strict";function i(e){return function(){throw e}}function s(e,t,n){try{e(t,n)}catch(r){setTimeout(i(r),0)}}function o(e,t,n){e(t,n)}function u(e,n,r,i){var u=t[n],a=i?o:s,f,l;if(!t.hasOwnProperty(n))return;for(f=0,l=u.length;f<l;f++)a(u[f].func,e,r)}function a(e,t,n){return function(){var i=String(e),s=i.lastIndexOf(".");u(e,e,t,n);while(s!==-1){i=i.substr(0,s);s=i.lastIndexOf(".");u(e,i,t)}}}function f(e){var n=String(e),r=t.hasOwnProperty(n),i=n.lastIndexOf(".");while(!r&&i!==-1){n=n.substr(0,i);i=n.lastIndexOf(".");r=t.hasOwnProperty(n)}return r}function l(e,t,n,r){var i=a(e,t,r),s=f(e);h(e,t,n,r);if(!s)return!1;n===!0?i():setTimeout(i,0);return!0}function c(e,t,n){return function(){e[t].call(e,n)}}function h(e,t,r,i){for(var s=n.length-1;s>=0;s--){var o=n[s].obj,u=n[s].msg,a=new RegExp("\\b"+e+"\\b","g");if(u===""||a.test(u))if(typeof o[e]=="function"){var f=c(o,e,t);setTimeout(f,0)}}}var e={name:"PubSubJS",version:"1.3.4"},t={},n=[],r=-1;e.publish=function(t,n){return l(t,n,!1,e.immediateExceptions)};e.publishSync=function(t,n){return l(t,n,!0,e.immediateExceptions)};e.subscribeAnObject=function(e,t){t=t||"";for(var r=n.length-1;r>=0;r--){var i=n[r].obj;if(i==e){var s=n[r].msg;if(s===""||t==="")t="";else{var o=s+" "+t,u=o.replace(/\s\s*/," ").split();t=u.unique().join(" ")}n.splice([r],1)}}n.push({obj:e,msg:t})};e.unsubscribeAnObject=function(e){for(var t=n.length-1;t>=0;t--){var r=n[t].obj;r==e}};e.subscribe=function(e,n){t.hasOwnProperty(e)||(t[e]=[]);var i=String(++r);t[e].push({token:i,func:n});return i};e.unsubscribe=function(e){var n=typeof e=="string",r=n?"token":"func",i=n?e:!0,s=!1,o,u;for(o in t)if(t.hasOwnProperty(o))for(u=t[o].length-1;u>=0;u--)if(t[o][u][r]===e){t[o].splice(u,1);s=i;if(n)return s}return s};return e});Array.prototype.unique===undefined&&(Array.prototype.unique=function(){var e=[],t=this.length;for(var n=0;n<t;n++){for(var r=n+1;r<t;r++)this[n]===this[r]&&(r=++n);e.push(this[n])}return e});Array.prototype.remove===undefined&&(Array.prototype.remove=function(e,t){var n=this.slice((t||e)+1||this.length);this.length=e<0?this.length+e:e;return this.push.apply(this,n)});(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,n){var r=function(e,t,r){n.call(this,e,t,r);this._cycle=0;this._yoyo=this.vars.yoyo===!0;this._repeat=this.vars.repeat||0;this._repeatDelay=this.vars.repeatDelay||0;this._dirty=!0},i=function(e){return e.jquery||typeof e.each=="function"&&e[0]&&e[0].nodeType&&e[0].style},s=function(e){var t=[];e.each(function(){t.push(this)});return t},o=r.prototype=n.to({},.1,{}),u=[];r.version="1.9.2";o.constructor=r;o.kill()._gc=!1;r.killTweensOf=r.killDelayedCallsTo=n.killTweensOf;r.getTweensOf=n.getTweensOf;r.ticker=n.ticker;o.invalidate=function(){this._yoyo=this.vars.yoyo===!0;this._repeat=this.vars.repeat||0;this._repeatDelay=this.vars.repeatDelay||0;this._uncache(!0);return n.prototype.invalidate.call(this)};o.updateTo=function(e,t){var r=this.ratio,i;if(t&&this.timeline&&this._startTime<this._timeline._time){this._startTime=this._timeline._time;this._uncache(!1);this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay)}for(i in e)this.vars[i]=e[i];if(this._initted)if(t)this._initted=!1;else{this._notifyPluginsOfEnabled&&this._firstPT&&n._onPluginEvent("_onDisable",this);if(this._time/this._duration>.998){var s=this._time;this.render(0,!0,!1);this._initted=!1;this.render(s,!0,!1)}else if(this._time>0){this._initted=!1;this._init();var o=1/(1-r),u=this._firstPT,a;while(u){a=u.s+u.c;u.c*=o;u.s=a-u.c;u=u._next}}}return this};o.render=function(e,t,n){var r=this._dirty?this.totalDuration():this._totalDuration,i=this._time,s=this._totalTime,o=this._cycle,a,f,l,c,h,p,d;if(e>=r){this._totalTime=r;this._cycle=this._repeat;if(this._yoyo&&(this._cycle&1)!==0){this._time=0;this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0}else{this._time=this._duration;this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1}if(!this._reversed){a=!0;f="onComplete"}if(this._duration===0){(e===0||this._rawPrevTime<0)&&this._rawPrevTime!==e&&(n=!0);this._rawPrevTime=e}}else if(e<1e-7){this._totalTime=this._time=this._cycle=0;this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0;if(s!==0||this._duration===0&&this._rawPrevTime>0){f="onReverseComplete";a=this._reversed}if(e<0){this._active=!1;if(this._duration===0){this._rawPrevTime>=0&&(n=!0);this._rawPrevTime=e}}else this._initted||(n=!0)}else{this._totalTime=this._time=e;if(this._repeat!==0){c=this._duration+this._repeatDelay;this._cycle=this._totalTime/c>>0;this._cycle!==0&&this._cycle===this._totalTime/c&&this._cycle--;this._time=this._totalTime-this._cycle*c;this._yoyo&&(this._cycle&1)!==0&&(this._time=this._duration-this._time);this._time>this._duration?this._time=this._duration:this._time<0&&(this._time=0)}if(this._easeType){h=this._time/this._duration;p=this._easeType;d=this._easePower;if(p===1||p===3&&h>=.5)h=1-h;p===3&&(h*=2);d===1?h*=h:d===2?h*=h*h:d===3?h*=h*h*h:d===4&&(h*=h*h*h*h);p===1?this.ratio=1-h:p===2?this.ratio=h:this._time/this._duration<.5?this.ratio=h/2:this.ratio=1-h/2}else this.ratio=this._ease.getRatio(this._time/this._duration)}if(i===this._time&&!n){s!==this._totalTime&&this._onUpdate&&(t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||u));return}if(!this._initted){this._init();if(!this._initted)return;this._time&&!a?this.ratio=this._ease.getRatio(this._time/this._duration):a&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(this._time===0?0:1))}this._active||this._paused||(this._active=!0);if(s===0){this._startAt&&(e>=0?this._startAt.render(e,t,n):f||(f="_dummyGS"));this.vars.onStart&&(this._totalTime!==0||this._duration===0)&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||u))}l=this._firstPT;while(l){l.f?l.t[l.p](l.c*this.ratio+l.s):l.t[l.p]=l.c*this.ratio+l.s;l=l._next}if(this._onUpdate){e<0&&this._startAt&&this._startAt.render(e,t,n);t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||u)}this._cycle!==o&&(t||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||u));if(f&&!this._gc){e<0&&this._startAt&&!this._onUpdate&&this._startAt.render(e,t,n);if(a){this._timeline.autoRemoveChildren&&this._enabled(!1,!1);this._active=!1}!t&&this.vars[f]&&this.vars[f].apply(this.vars[f+"Scope"]||this,this.vars[f+"Params"]||u)}};r.to=function(e,t,n){return new r(e,t,n)};r.from=function(e,t,n){n.runBackwards=!0;n.immediateRender=n.immediateRender!=0;return new r(e,t,n)};r.fromTo=function(e,t,n,i){i.startAt=n;i.immediateRender=i.immediateRender!=0&&n.immediateRender!=0;return new r(e,t,i)};r.staggerTo=r.allTo=function(e,t,o,a,f,l,c){a=a||0;var h=o.delay||0,p=[],d=function(){o.onComplete&&o.onComplete.apply(o.onCompleteScope||this,o.onCompleteParams||u);f.apply(c||this,l||u)},v,m,g,y;if(!(e instanceof Array)){typeof e=="string"&&(e=n.selector(e)||e);i(e)&&(e=s(e))}v=e.length;for(g=0;g<v;g++){m={};for(y in o)m[y]=o[y];m.delay=h;g===v-1&&f&&(m.onComplete=d);p[g]=new r(e[g],t,m);h+=a}return p};r.staggerFrom=r.allFrom=function(e,t,n,i,s,o,u){n.runBackwards=!0;n.immediateRender=n.immediateRender!=0;return r.staggerTo(e,t,n,i,s,o,u)};r.staggerFromTo=r.allFromTo=function(e,t,n,i,s,o,u,a){i.startAt=n;i.immediateRender=i.immediateRender!=0&&n.immediateRender!=0;return r.staggerTo(e,t,i,s,o,u,a)};r.delayedCall=function(e,t,n,i,s){return new r(t,0,{delay:e,onComplete:t,onCompleteParams:n,onCompleteScope:i,onReverseComplete:t,onReverseCompleteParams:n,onReverseCompleteScope:i,immediateRender:!1,useFrames:s,overwrite:0})};r.set=function(e,t){return new r(e,0,t)};r.isTweening=function(e){var t=n.getTweensOf(e),r=t.length,i;while(--r>-1){i=t[r];if(i._active||i._startTime===i._timeline._time&&i._timeline._active)return!0}return!1};var a=function(e,t){var r=[],i=0,s=e._first;while(s){if(s instanceof n)r[i++]=s;else{t&&(r[i++]=s);r=r.concat(a(s,t));i=r.length}s=s._next}return r},f=r.getAllTweens=function(t){return a(e._rootTimeline,t).concat(a(e._rootFramesTimeline,t))};r.killAll=function(e,n,r,i){n==null&&(n=!0);r==null&&(r=!0);var s=f(i!=0),o=s.length,u=n&&r&&i,a,l,c;for(c=0;c<o;c++){l=s[c];if(u||l instanceof t||(a=l.target===l.vars.onComplete)&&r||n&&!a)e?l.totalTime(l.totalDuration()):l._enabled(!1,!1)}};r.killChildTweensOf=function(e,t){if(e==null)return;var o=n._tweenLookup,u,a,f,l,c;typeof e=="string"&&(e=n.selector(e)||e);i(e)&&(e=s(e));if(e instanceof Array){l=e.length;while(--l>-1)r.killChildTweensOf(e[l],t);return}u=[];for(f in o){a=o[f].target.parentNode;while(a){a===e&&(u=u.concat(o[f].tweens));a=a.parentNode}}c=u.length;for(l=0;l<c;l++){t&&u[l].totalTime(u[l].totalDuration());u[l]._enabled(!1,!1)}};var l=function(e,n,r,i){n===undefined&&(n=!0);r===undefined&&(r=!0);var s=f(i),o=n&&r&&i,u=s.length,a,l;while(--u>-1){l=s[u];(o||l instanceof t||(a=l.target===l.vars.onComplete)&&r||n&&!a)&&l.paused(e)}};r.pauseAll=function(e,t,n){l(!0,e,t,n)};r.resumeAll=function(e,t,n){l(!1,e,t,n)};o.progress=function(e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&(this._cycle&1)!==0?1-e:e)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()};o.totalProgress=function(e){return arguments.length?this.totalTime(this.totalDuration()*e,!1):this._totalTime/this.totalDuration()};o.time=function(e,t){if(!arguments.length)return this._time;this._dirty&&this.totalDuration();e>this._duration&&(e=this._duration);this._yoyo&&(this._cycle&1)!==0?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):this._repeat!==0&&(e+=this._cycle*(this._duration+this._repeatDelay));return this.totalTime(e,t)};o.duration=function(t){return arguments.length?e.prototype.duration.call(this,t):this._duration};o.totalDuration=function(e){if(!arguments.length){if(this._dirty){this._totalDuration=this._repeat===-1?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat;this._dirty=!1}return this._totalDuration}return this._repeat===-1?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1))};o.repeat=function(e){if(!arguments.length)return this._repeat;this._repeat=e;return this._uncache(!0)};o.repeatDelay=function(e){if(!arguments.length)return this._repeatDelay;this._repeatDelay=e;return this._uncache(!0)};o.yoyo=function(e){if(!arguments.length)return this._yoyo;this._yoyo=e;return this};return r},!0);window._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,n){var r=function(e){t.call(this,e);this._labels={};this.autoRemoveChildren=this.vars.autoRemoveChildren===!0;this.smoothChildTiming=this.vars.smoothChildTiming===!0;this._sortChildren=!0;this._onUpdate=this.vars.onUpdate;var n=this.vars,r=i.length,s,o;while(--r>-1){o=n[i[r]];if(o){s=o.length;while(--s>-1)if(o[s]==="{self}"){o=n[i[r]]=o.concat();o[s]=this}}}n.tweens instanceof Array&&this.add(n.tweens,0,n.align,n.stagger)},i=["onStartParams","onUpdateParams","onCompleteParams","onReverseCompleteParams","onRepeatParams"],s=[],o=
function(e){var t={},n;for(n in e)t[n]=e[n];return t},u=r.prototype=new t;r.version="1.9.2";u.constructor=r;u.kill()._gc=!1;u.to=function(e,t,r,i){return this.add(new n(e,t,r),i)};u.from=function(e,t,r,i){return this.add(n.from(e,t,r),i)};u.fromTo=function(e,t,r,i,s){return this.add(n.fromTo(e,t,r,i),s)};u.staggerTo=function(e,t,i,s,u,a,f,l){var c=new r({onComplete:a,onCompleteParams:f,onCompleteScope:l}),h,p;typeof e=="string"&&(e=n.selector(e)||e);if(!(e instanceof Array)&&typeof e.each=="function"&&e[0]&&e[0].nodeType&&e[0].style){p=[];e.each(function(){p.push(this)});e=p}s=s||0;for(h=0;h<e.length;h++){i.startAt&&(i.startAt=o(i.startAt));c.add(new n(e[h],t,o(i)),h*s)}return this.add(c,u)};u.staggerFrom=function(e,t,n,r,i,s,o,u){n.immediateRender=n.immediateRender!=0;n.runBackwards=!0;return this.staggerTo(e,t,n,r,i,s,o,u)};u.staggerFromTo=function(e,t,n,r,i,s,o,u,a){r.startAt=n;r.immediateRender=r.immediateRender!=0&&n.immediateRender!=0;return this.staggerTo(e,t,r,i,s,o,u,a)};u.call=function(e,t,r,i){return this.add(n.delayedCall(0,e,t,r),i)};u.set=function(e,t,r){r=this._parseTimeOrLabel(r,0,!0);t.immediateRender==null&&(t.immediateRender=r===this._time&&!this._paused);return this.add(new n(e,0,t),r)};r.exportRoot=function(e,t){e=e||{};e.smoothChildTiming==null&&(e.smoothChildTiming=!0);var i=new r(e),s=i._timeline,o,u;t==null&&(t=!0);s._remove(i,!0);i._startTime=0;i._rawPrevTime=i._time=i._totalTime=s._time;o=s._first;while(o){u=o._next;(!t||!(o instanceof n&&o.target===o.vars.onComplete))&&i.add(o,o._startTime-o._delay);o=u}s.add(i,0);return i};u.add=function(i,s,o,u){var a,f,l,c,h;typeof s!="number"&&(s=this._parseTimeOrLabel(s,0,!0,i));if(!(i instanceof e)){if(i instanceof Array){o=o||"normal";u=u||0;a=s;f=i.length;for(l=0;l<f;l++){(c=i[l])instanceof Array&&(c=new r({tweens:c}));this.add(c,a);typeof c!="string"&&typeof c!="function"&&(o==="sequence"?a=c._startTime+c.totalDuration()/c._timeScale:o==="start"&&(c._startTime-=c.delay()));a+=u}return this._uncache(!0)}if(typeof i=="string")return this.addLabel(i,s);if(typeof i!="function")throw"Cannot add "+i+" into the timeline: it is neither a tween, timeline, function, nor a string.";i=n.delayedCall(0,i)}t.prototype.add.call(this,i,s);if(this._gc&&!this._paused&&this._time===this._duration&&this._time<this.duration()){h=this;while(h._gc&&h._timeline){h._timeline.smoothChildTiming?h.totalTime(h._totalTime,!0):h._enabled(!0,!1);h=h._timeline}}return this};u.remove=function(t){if(t instanceof e)return this._remove(t,!1);if(t instanceof Array){var n=t.length;while(--n>-1)this.remove(t[n]);return this}return typeof t=="string"?this.removeLabel(t):this.kill(null,t)};u.append=function(e,t){return this.add(e,this._parseTimeOrLabel(null,t,!0,e))};u.insert=u.insertMultiple=function(e,t,n,r){return this.add(e,t||0,n,r)};u.appendMultiple=function(e,t,n,r){return this.add(e,this._parseTimeOrLabel(null,t,!0,e),n,r)};u.addLabel=function(e,t){this._labels[e]=this._parseTimeOrLabel(t);return this};u.removeLabel=function(e){delete this._labels[e];return this};u.getLabelTime=function(e){return this._labels[e]!=null?this._labels[e]:-1};u._parseTimeOrLabel=function(t,n,r,i){var s;if(i instanceof e&&i.timeline===this)this.remove(i);else if(i instanceof Array){s=i.length;while(--s>-1)i[s]instanceof e&&i[s].timeline===this&&this.remove(i[s])}if(typeof n=="string")return this._parseTimeOrLabel(n,r&&typeof t=="number"&&this._labels[n]==null?t-this.duration():0,r);n=n||0;if(typeof t!="string"||!isNaN(t)&&this._labels[t]==null)t==null&&(t=this.duration());else{s=t.indexOf("=");if(s===-1)return this._labels[t]==null?r?this._labels[t]=this.duration()+n:n:this._labels[t]+n;n=parseInt(t.charAt(s-1)+"1",10)*Number(t.substr(s+1));t=s>1?this._parseTimeOrLabel(t.substr(0,s-1),0,r):this.duration()}return Number(t)+n};u.seek=function(e,t){return this.totalTime(typeof e=="number"?e:this._parseTimeOrLabel(e),t!==!1)};u.stop=function(){return this.paused(!0)};u.gotoAndPlay=function(e,t){return this.play(e,t)};u.gotoAndStop=function(e,t){return this.pause(e,t)};u.render=function(e,t,n){this._gc&&this._enabled(!0,!1);this._active=!this._paused;var r=this._dirty?this.totalDuration():this._totalDuration,i=this._time,o=this._startTime,u=this._timeScale,a=this._paused,f,l,c,h,p;if(e>=r){this._totalTime=this._time=r;if(!this._reversed&&!this._hasPausedChild()){l=!0;h="onComplete";this._duration===0&&(e===0||this._rawPrevTime<0)&&this._rawPrevTime!==e&&(p=!0)}this._rawPrevTime=e;e=r+1e-6}else if(e<1e-7){this._totalTime=this._time=0;if(i!==0||this._duration===0&&this._rawPrevTime>0){h="onReverseComplete";l=this._reversed}if(e<0){this._active=!1;this._duration===0&&this._rawPrevTime>=0&&(p=!0)}else this._initted||(p=!0);this._rawPrevTime=e}else this._totalTime=this._time=this._rawPrevTime=e;if(this._time===i&&!n&&!p)return;this._initted||(this._initted=!0);i===0&&this.vars.onStart&&this._time!==0&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||s));if(this._time>=i){f=this._first;while(f){c=f._next;if(this._paused&&!a)break;if(f._active||f._startTime<=this._time&&!f._paused&&!f._gc)f._reversed?f.render((f._dirty?f.totalDuration():f._totalDuration)-(e-f._startTime)*f._timeScale,t,n):f.render((e-f._startTime)*f._timeScale,t,n);f=c}}else{f=this._last;while(f){c=f._prev;if(this._paused&&!a)break;if(f._active||f._startTime<=i&&!f._paused&&!f._gc)f._reversed?f.render((f._dirty?f.totalDuration():f._totalDuration)-(e-f._startTime)*f._timeScale,t,n):f.render((e-f._startTime)*f._timeScale,t,n);f=c}}this._onUpdate&&(t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||s));if(h&&!this._gc)if(o===this._startTime||u!==this._timeScale)if(this._time===0||r>=this.totalDuration()){if(l){this._timeline.autoRemoveChildren&&this._enabled(!1,!1);this._active=!1}!t&&this.vars[h]&&this.vars[h].apply(this.vars[h+"Scope"]||this,this.vars[h+"Params"]||s)}};u._hasPausedChild=function(){var e=this._first;while(e){if(e._paused||e instanceof r&&e._hasPausedChild())return!0;e=e._next}return!1};u.getChildren=function(e,t,r,i){i=i||-9999999999;var s=[],o=this._first,u=0;while(o){if(!(o._startTime<i))if(o instanceof n)t!==!1&&(s[u++]=o);else{r!==!1&&(s[u++]=o);if(e!==!1){s=s.concat(o.getChildren(!0,t,r));u=s.length}}o=o._next}return s};u.getTweensOf=function(e,t){var r=n.getTweensOf(e),i=r.length,s=[],o=0;while(--i>-1)if(r[i].timeline===this||t&&this._contains(r[i]))s[o++]=r[i];return s};u._contains=function(e){var t=e.timeline;while(t){if(t===this)return!0;t=t.timeline}return!1};u.shiftChildren=function(e,t,n){n=n||0;var r=this._first,i=this._labels,s;while(r){r._startTime>=n&&(r._startTime+=e);r=r._next}if(t)for(s in i)i[s]>=n&&(i[s]+=e);return this._uncache(!0)};u._kill=function(e,t){if(!e&&!t)return this._enabled(!1,!1);var n=t?this.getTweensOf(t):this.getChildren(!0,!0,!1),r=n.length,i=!1;while(--r>-1)n[r]._kill(e,t)&&(i=!0);return i};u.clear=function(e){var t=this.getChildren(!1,!0,!0),n=t.length;this._time=this._totalTime=0;while(--n>-1)t[n]._enabled(!1,!1);e!==!1&&(this._labels={});return this._uncache(!0)};u.invalidate=function(){var e=this._first;while(e){e.invalidate();e=e._next}return this};u._enabled=function(e,n){if(e===this._gc){var r=this._first;while(r){r._enabled(e,!0);r=r._next}}return t.prototype._enabled.call(this,e,n)};u.progress=function(e){return arguments.length?this.totalTime(this.duration()*e,!1):this._time/this.duration()};u.duration=function(e){if(!arguments.length){this._dirty&&this.totalDuration();return this._duration}this.duration()!==0&&e!==0&&this.timeScale(this._duration/e);return this};u.totalDuration=function(e){if(!arguments.length){if(this._dirty){var t=0,n=this._last,r=999999999999,i,s;while(n){i=n._prev;n._dirty&&n.totalDuration();n._startTime>r&&this._sortChildren&&!n._paused?this.add(n,n._startTime-n._delay):r=n._startTime;if(n._startTime<0&&!n._paused){t-=n._startTime;this._timeline.smoothChildTiming&&(this._startTime+=n._startTime/this._timeScale);this.shiftChildren(-n._startTime,!1,-9999999999);r=0}s=n._startTime+n._totalDuration/n._timeScale;s>t&&(t=s);n=i}this._duration=this._totalDuration=t;this._dirty=!1}return this._totalDuration}this.totalDuration()!==0&&e!==0&&this.timeScale(this._totalDuration/e);return this};u.usesFrames=function(){var t=this._timeline;while(t._timeline)t=t._timeline;return t===e._rootFramesTimeline};u.rawTime=function(){return this._paused||this._totalTime!==0&&this._totalTime!==this._totalDuration?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale};return r},!0);window._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(e,t,n){var r=function(t){e.call(this,t);this._repeat=this.vars.repeat||0;this._repeatDelay=this.vars.repeatDelay||0;this._cycle=0;this._yoyo=this.vars.yoyo===!0;this._dirty=!0},i=[],s=new n(null,null,1,0),o=function(e){while(e){if(e._paused)return!0;e=e._timeline}return!1},u=r.prototype=new e;u.constructor=r;u.kill()._gc=!1;r.version="1.9.2";u.invalidate=function(){this._yoyo=this.vars.yoyo===!0;this._repeat=this.vars.repeat||0;this._repeatDelay=this.vars.repeatDelay||0;this._uncache(!0);return e.prototype.invalidate.call(this)};u.addCallback=function(e,n,r,i){return this.add(t.delayedCall(0,e,r,i),n)};u.removeCallback=function(e,t){if(t==null)this._kill(null,e);else{var n=this.getTweensOf(e,!1),r=n.length,i=this._parseTimeOrLabel(t);while(--r>-1)n[r]._startTime===i&&n[r]._enabled(!1,!1)}return this};u.tweenTo=function(e,n){n=n||{};var r={ease:s,overwrite:2,useFrames:this.usesFrames(),immediateRender:!1},o,u;for(o in n)r[o]=n[o];r.time=this._parseTimeOrLabel(e);u=new t(this,Math.abs(Number(r.time)-this._time)/this._timeScale||.001,r);r.onStart=function(){u.target.paused(!0);u.vars.time!==u.target.time()&&u.duration(Math.abs(u.vars.time-u.target.time())/u.target._timeScale);n.onStart&&n.onStart.apply(n.onStartScope||u,n.onStartParams||i)};return u};u.tweenFromTo=function(e,t,n){n=n||{};n.startAt={time:this._parseTimeOrLabel(e)};var r=this.tweenTo(t,n);return r.duration(Math.abs(r.vars.time-r.vars.startAt.time)/this._timeScale||.001)};u.render=function(e,t,n){this._gc&&this._enabled(!0,!1);this._active=!this._paused;var r=this._dirty?this.totalDuration():this._totalDuration,s=this._duration,o=this._time,u=this._totalTime,a=this._startTime,f=this._timeScale,l=this._rawPrevTime,c=this._paused,h=this._cycle,p,d,v,m,g,y;if(e>=r){if(!this._locked){this._totalTime=r;this._cycle=this._repeat}if(!this._reversed&&!this._hasPausedChild()){d=!0;m="onComplete";s===0&&(e===0||this._rawPrevTime<0)&&this._rawPrevTime!==e&&(g=!0)}this._rawPrevTime=e;if(this._yoyo&&(this._cycle&1)!==0)this._time=e=0;else{this._time=s;e=s+1e-6}}else if(e<1e-7){this._locked||(this._totalTime=this._cycle=0);this._time=0;if(o!==0||s===0&&this._rawPrevTime>0&&!this._locked){m="onReverseComplete";d=this._reversed}if(e<0){this._active=!1;s===0&&this._rawPrevTime>=0&&(g=!0)}else this._initted||(g=!0);this._rawPrevTime=e;e=0}else{this._time=this._rawPrevTime=e;if(!this._locked){this._totalTime=e;if(this._repeat!==0){y=s+this._repeatDelay;this._cycle=this._totalTime/y>>0;this._cycle!==0&&this._cycle===this._totalTime/y&&this._cycle--;this._time=this._totalTime-this._cycle*y;this._yoyo&&(this._cycle&1)!==0&&(this._time=s-this._time);if(this._time>s){this._time=s;e=s+1e-6}else this._time<0?this._time=e=0:e=this._time}}}if(this._cycle!==h&&!this._locked){var b=this._yoyo&&(h&1)!==0,w=b===(this._yoyo&&(this._cycle&1)!==0),E=this._totalTime,S=this._cycle,x=this._rawPrevTime,T=this._time;this._totalTime=h*s;this._cycle<h?b=!b:this._totalTime+=s;this._time=o;this._rawPrevTime=s===0?l-1e-5:l;this._cycle=h;this._locked=!0;o=b?0:s;this.render(o,t,s===0);t||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||i);if(w){o=b?s+1e-6:-0.000001;this.render(o,!0,!1)}this._time=T;this._totalTime=E;this._cycle=S;this._rawPrevTime=x;this._locked=!1}if(this._time===o&&!n&&!g){u!==this._totalTime&&this._onUpdate&&(t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||i));return}this._initted||(this._initted=!0);u===0&&this.vars.onStart&&this._totalTime!==0&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||i));if(this._time>=o){p=this._first;while(p){v=p._next;if(this._paused&&!c)break;if(p._active||p._startTime<=this._time&&!p._paused&&!p._gc)p._reversed?p.render((p._dirty?p.totalDuration():p._totalDuration)-(e-p._startTime)*p._timeScale,t,n):p.render((e-p._startTime)*p._timeScale,t,n);p=v}}else{p=this._last;while(p){v=p._prev;if(this._paused&&!c)break;if(p._active||p._startTime<=o&&!p._paused&&!p._gc)p._reversed?p.render((p._dirty?p.totalDuration():p._totalDuration)-(e-p._startTime)*p._timeScale,t,n):p.render((e-p._startTime)*p._timeScale,t,n);p=v}}this._onUpdate&&(t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||i));if(m&&!this._locked&&!this._gc)if(a===this._startTime||f!==this._timeScale)if(this._time===0||r>=this.totalDuration()){if(d){this._timeline.autoRemoveChildren&&this._enabled(!1,!1);this._active=!1}!t&&this.vars[m]&&this.vars[m].apply(this.vars[m+"Scope"]||this,this.vars[m+"Params"]||i)}};u.getActive=function(e,t,n){e==null&&(e=!0);t==null&&(t=!0);n==null&&(n=!1);var r=[],i=this.getChildren(e,t,n),s=0,u=i.length,a,f;for(a=0;a<u;a++){f=i[a];f._paused||f._timeline._time>=f._startTime&&f._timeline._time<f._startTime+f._totalDuration/f._timeScale&&(o(f._timeline)||(r[s++]=f))}return r};u.getLabelAfter=function(e){e||e!==0&&(e=this._time);var t=this.getLabelsArray(),n=t.length,r;for(r=0;r<n;r++)if(t[r].time>e)return t[r].name;return null};u.getLabelBefore=function(e){e==null&&(e=this._time);var t=this.getLabelsArray(),n=t.length;while(--n>-1)if(t[n].time<e)return t[n].name;return null};u.getLabelsArray=function(){var e=[],t=0,n;for(n in this._labels)e[t++]={time:this._labels[n],name:n};e.sort(function(e,t){return e.time-t.time});return e};u.progress=function(e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&(this._cycle&1)!==0?1-e:e)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()};u.totalProgress=function(e){return arguments.length?this.totalTime(this.totalDuration()*e,!1):this._totalTime/this.totalDuration()};u.totalDuration=function(t){if(!arguments.length){if(this._dirty){e.prototype.totalDuration.call(this);this._totalDuration=this._repeat===-1?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat}return this._totalDuration}return this._repeat===-1?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1))};u.time=function(e,t){if(!arguments.length)return this._time;this._dirty&&this.totalDuration();e>this._duration&&(e=this._duration);this._yoyo&&(this._cycle&1)!==0?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):this._repeat!==0&&(e+=this._cycle*(this._duration+this._repeatDelay));return this.totalTime(e,t)};u.repeat=function(e){if(!arguments.length)return this._repeat;this._repeat=e;return this._uncache(!0)};u.repeatDelay=function(e){if(!arguments.length)return this._repeatDelay;this._repeatDelay=e;return this._uncache(!0)};u.yoyo=function(e){if(!arguments.length)return this._yoyo;this._yoyo=e;return this};u.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.getLabelBefore(this._time+1e-8)};return r},!0);(function(){var e=180/Math.PI,t=Math.PI/180,n=[],r=[],i=[],s={},o=function(e,t,n,r){this.a=e;this.b=t;this.c=n;this.d=r;this.da=r-e;this.ca=n-e;this.ba=t-e},u=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",a=function(e,t,n,r){var i={a:e},s={},o={},u={c:r},a=(e+t)/2,f=(t+n)/2,l=(n+r)/2,c=(a+f)/2,h=(f+l)/2,p=(h-c)/8;i.b=a+(e-a)/4;s.b=c+p;i.c=s.a=(i.b+s.b)/2;s.c=o.a=(c+h)/2;o.b=h-p;u.b=l+(r-l)/4;o.c=u.a=(o.b+u.b)/2;return[i,s,o,u]},f=function(e,t,s,o,u){var f=e.length-1,l=0,c=e[0].a,h,p,d,v,m,g,y,b,w,E,S,x,T;for(h=0;h<f;h++){m=e[l];p=m.a;d=m.d;v=e[l+1].d;if(u){S=n[h];x=r[h];T=(x+S)*t*.25/(o?.5:i[h]||.5);g=d-(d-p)*(o?t*.5:T/S);y=d+(v-d)*(o?t*.5:T/x);b=d-(g+(y-g)*(S*3/(S+x)+.5)/4)}else{g=d-(d-p)*t*.5;y=d+(v-d)*t*.5;b=d-(g+y)/2}g+=b;y+=b;m.c=w=g;h!==0?m.b=c:m.b=c=m.a+(m.c-m.a)*.6;m.da=d-p;m.ca=w-p;m.ba=c-p;if(s){E=a(p,c,w,d);e.splice(l,1,E[0],E[1],E[2],E[3]);l+=4}else l++;c=y}m=e[l];m.b=c;m.c=c+(m.d-c)*.4;m.da=m.d-m.a;m.ca=m.c-m.a;m.ba=c-m.a;if(s){E=a(m.a,c,m.c,m.d);e.splice(l,1,E[0],E[1],E[2],E[3])}},l=function(e,t,i,s){var u=[],a,f,l,c,h,p;if(s){e=[s].concat(e);f=e.length;while(--f>-1)typeof (p=e[f][t])=="string"&&p.charAt(1)==="="&&(e[f][t]=s[t]+Number(p.charAt(0)+p.substr(2)))}a=e.length-2;if(a<0){u[0]=new o(e[0][t],0,0,e[a<-1?0:1][t]);return u}for(f=0;f<a;f++){l=e[f][t];c=e[f+1][t];u[f]=new o(l,0,0,c);if(i){h=e[f+2][t];n[f]=(n[f]||0)+(c-l)*(c-l);r[f]=(r[f]||0)+(h-c)*(h-c)}}u[f]=new o(e[f][t],0,0,e[f+1][t]);return u},c=function(e,t,o,a,c,h){var p={},d=[],v=h||e[0],m,g,y,b,w,E,S,x;c=typeof c=="string"?","+c+",":u;t==null&&(t=1);for(g in e[0])d.push(g);if(e.length>1){x=e[e.length-1];S=!0;m=d.length;while(--m>-1){g=d[m];if(Math.abs(v[g]-x[g])>.05){S=!1;break}}if(S){e=e.concat();h&&e.unshift(h);e.push(e[1]);h=e[e.length-3]}}n.length=r.length=i.length=0;m=d.length;while(--m>-1){g=d[m];s[g]=c.indexOf(","+g+",")!==-1;p[g]=l(e,g,s[g],h)}m=n.length;while(--m>-1){n[m]=Math.sqrt(n[m]);r[m]=Math.sqrt(r[m])}if(!a){m=d.length;while(--m>-1)if(s[g]){y=p[d[m]];E=y.length-1;for(b=0;b<E;b++){w=y[b+1].da/r[b]+y[b].da/n[b];i[b]=(i[b]||0)+w*w}}m=i.length;while(--m>-1)i[m]=Math.sqrt(i[m])}m=d.length;b=o?4:1;while(--m>-1){g=d[m];y=p[g];f(y,t,o,a,s[g]);if(S){y.splice(0,b);y.splice(y.length-b,b)}}return p},h=function(e,t,n){t=t||"soft";var r={},i=t==="cubic"?3:2,s=t==="soft",u=[],a,f,l,c,h,p,d,v,m,g,y;s&&n&&(e=[n].concat(e));if(e==null||e.length<i+1)throw"invalid Bezier data";for(m in e[0])u.push(m);p=u.length;while(--p>-1){m=u[p];r[m]=h=[];g=0;v=e.length;for(d=0;d<v;d++){a=n==null?e[d][m]:typeof (y=e[d][m])=="string"&&y.charAt(1)==="="?n[m]+Number(y.charAt(0)+y.substr(2)):Number(y);s&&d>1&&d<v-1&&(h[g++]=(a+h[g-2])/2);h[g++]=a}v=g-i+1;g=0;for(d=0;d<v;d+=i){a=h[d];f=h[d+1];l=h[d+2];c=i===2?0:h[d+3];h[g++]=y=i===3?new o(a,f,l,c):new o(a,(2*f+a)/3,(2*f+l)/3,l)}h.length=g}return r},p=function(e,t,n){var r=1/n,i=e.length,s,o,u,a,f,l,c,h,p,d,v;while(--i>-1){d=e[i];u=d.a;a=d.d-u;f=d.c-u;l=d.b-u;s=o=0;for(h=1;h<=n;h++){c=r*h;p=1-c;s=o-(o=(c*c*a+3*p*(c*f+p*l))*c);v=i*n+h-1;t[v]=(t[v]||0)+s*s}}},d=function(e,t){t=t>>0||6;var n=[],r=[],i=0,s=0,o=t-1,u=[],a=[],f,l,c,h;for(f in e)p(e[f],n,t);c=n.length;for(l=0;l<c;l++){i+=Math.sqrt(n[l]);h=l%t;a[h]=i;if(h===o){s+=i;h=l/t>>0;u[h]=a;r[h]=s;i=0;a=[]}}return{length:s,lengths:r,segments:u}},v=window._gsDefine.plugin({propName:"bezier",priority:-1,API:2,init:function(e,t,n){this._target=e;t instanceof Array&&(t={values:t});this._func={};this._round={};this._props=[];this._timeRes=t.timeResolution==null?6:parseInt(t.timeResolution,10);var r=t.values||[],i={},s=r[0],o=t.autoRotate||n.vars.orientToBezier,u,a,f,l,p;this._autoRotate=o?o instanceof Array?o:[["x","y","rotation",o===!0?0:Number(o)||0]]:null;for(u in s)this._props.push(u);f=this._props.length;while(--f>-1){u=this._props[f];this._overwriteProps.push(u);a=this._func[u]=typeof e[u]=="function";i[u]=a?e[u.indexOf("set")||typeof e["get"+u.substr(3)]!="function"?u:"get"+u.substr(3)]():parseFloat(e[u]);p||i[u]!==r[0][u]&&(p=i)}this._beziers=t.type!=="cubic"&&t.type!=="quadratic"&&t.type!=="soft"?c(r,isNaN(t.curviness)?1:t.curviness,!1,t.type==="thruBasic",t.correlate,p):h(r,t.type,i);this._segCount=this._beziers[u].length;if(this._timeRes){var v=d(this._beziers,this._timeRes);this._length=v.length;this._lengths=v.lengths;this._segments=v.segments;this._l1=this._li=this._s1=this._si=0;this._l2=this._lengths[0];this._curSeg=this._segments[0];this._s2=this._curSeg[0];this._prec=1/this._curSeg.length}if(o=this._autoRotate){o[0]instanceof Array||(this._autoRotate=o=[o]);f=o.length;while(--f>-1)for(l=0;l<3;l++){u=o[f][l];this._func[u]=typeof e[u]=="function"?e[u.indexOf("set")||typeof e["get"+u.substr(3)]!="function"?u:"get"+u.substr(3)]:!1}}return!0},set:function(t){var n=this._segCount,r=this._func,i=this._target,s,o,u,a,f,l,c,h,p,d;if(!this._timeRes){s=t<0?0:t>=1?n-1:n*t>>0;l=(t-s*(1/n))*n}else{p=this._lengths;d=this._curSeg;t*=this._length;u=this._li;if(t>this._l2&&u<n-1){h=n-1;while(u<h&&(this._l2=p[++u])<=t);this._l1=p[u-1];this._li=u;this._curSeg=d=this._segments[u];this._s2=d[this._s1=this._si=0]}else if(t<this._l1&&u>0){while(u>0&&(this._l1=p[--u])>=t);u===0&&t<this._l1?this._l1=0:u++;this._l2=p[u];this._li=u;this._curSeg=d=this._segments[u];this._s1=d[(this._si=d.length-1)-1]||0;this._s2=d[this._si]}s=u;t-=this._l1;u=this._si;if(t>this._s2&&u<d.length-1){h=d.length-1;while(u<h&&(this._s2=d[++u])<=t);this._s1=d[u-1];this._si=u}else if(t<this._s1&&u>0){while(u>0&&(this._s1=d[--u])>=t);u===0&&t<this._s1?this._s1=0:u++;this._s2=d[u];this._si=u}l=(u+(t-this._s1)/(this._s2-this._s1))*this._prec}o=1-l;u=this._props.length;while(--u>-1){a=this._props[u];f=this._beziers[a][s];c=(l*l*f.da+3*o*(l*f.ca+o*f.ba))*l+f.a;this._round[a]&&(c=c+(c>0?.5:-0.5)>>0);r[a]?i[a](c):i[a]=c}if(this._autoRotate){var v=this._autoRotate,m,g,y,b,w,E,S;u=v.length;while(--u>-1){a=v[u][2];E=v[u][3]||0;S=v[u][4]===!0?1:e;f=this._beziers[v[u][0]][s];m=this._beziers[v[u][1]][s];g=f.a+(f.b-f.a)*l;b=f.b+(f.c-f.b)*l;g+=(b-g)*l;b+=(f.c+(f.d-f.c)*l-b)*l;y=m.a+(m.b-m.a)*l;w=m.b+(m.c-m.b)*l;y+=(w-y)*l;w+=(m.c+(m.d-m.c)*l-w)*l;c=Math.atan2(w-y,b-g)*S+E;r[a]?i[a](c):i[a]=c}}}}),m=v.prototype;v.bezierThrough=c;v.cubicToQuadratic=a;v._autoCSS=!0;v.quadraticToCubic=function(e,t,n){return new o(e,(2*t+e)/3,(2*t+n)/3,n)};v._cssRegister=function(){var e=window._gsDefine.globals.CSSPlugin;if(!e)return;var n=e._internals,r=n._parseToProxy,i=n._setPluginRatio,s=n.CSSPropTween;n._registerComplexSpecialProp("bezier",{parser:function(e,n,o,u,a,f){n instanceof Array&&(n={values:n});f=new v;var l=n.values,c=l.length-1,h=[],p={},d,m,g;if(c<0)return a;for(d=0;d<=c;d++){g=r(e,l[d],u,a,f,c!==d);h[d]=g.end}for(m in n)p[m]=n[m];p.values=h;a=new s(e,"bezier",0,0,g.pt,2);a.data=g;a.plugin=f;a.setRatio=i;p.autoRotate===0&&(p.autoRotate=!0);if(p.autoRotate&&!(p.autoRotate instanceof Array)){d=p.autoRotate===!0?0:Number(p.autoRotate)*t;p.autoRotate=g.end.left!=null?[["left","top","rotation",d,!0]]:g.end.x!=null?[["x","y","rotation",d,!0]]:!1}if(p.autoRotate){u._transform||u._enableTransforms(!1);g.autoRotate=u._target._gsTransform}f._onInitTween(g.proxy,p,u._tween);return a}})};m._roundProps=function(e,t){var n=this._overwriteProps,r=n.length;while(--r>-1)if(e[n[r]]||e.bezier||e.bezierThrough)this._round[n[r]]=t};m._kill=function(e){var t=this._props,n,r;for(n in this._beziers)if(n in e){delete this._beziers[n];delete this._func[n];r=t.length;while(--r>-1)t[r]===n&&t.splice(r,1)}return this._super._kill.call(this,e)}})();window._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(e,t){var n=function(){e.call(this,"css");this._overwriteProps.length=0},r,i,s,o,u={},a=n.prototype=new e("css");a.constructor=n;n.version="1.9.2";n.API=2;n.defaultTransformPerspective=0;a="px";n.suffixMap={top:a,right:a,bottom:a,left:a,width:a,height:a,fontSize:a,padding:a,margin:a,perspective:a};var f=/(?:\d|\-\d|\.\d|\-\.\d)+/g,l=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,c=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,h=/[^\d\-\.]/g,p=/(?:\d|\-|\+|=|#|\.)*/g,d=/opacity *= *([^)]*)/,v=/opacity:([^;]*)/,m=/alpha\(opacity *=.+?\)/i,g=/([A-Z])/g,y=/-([a-z])/gi,b=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,w=function(e,t){return t.toUpperCase()},E=/(?:Left|Right|Width)/i,S=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,x=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,T=/,(?=[^\)]*(?:\(|$))/gi,N=Math.PI/180,C=180/Math.PI,k={},L=document,A=L.createElement("div"),O=L.createElement("img"),M=n._internals={_specialProps:u},_=navigator.userAgent,D,P,H,B,j,F,I=function(){var e=_.indexOf("Android"),t=L.createElement("div"),n;H=_.indexOf("Safari")!==-1&&_.indexOf("Chrome")===-1&&(e===-1||Number(_.substr(e+8,1))>3);j=H&&Number(_.substr(_.indexOf("Version/")+8,1))<6;B=_.indexOf("Firefox")!==-1;/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(_);F=parseFloat(RegExp.$1);t.innerHTML="<a style='top:1px;opacity:.55;'>a</a>";n=t.getElementsByTagName("a")[0];return n?/^0.55/.test(n.style.opacity):!1}(),q=function(e){return d.test(typeof e=="string"?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},R=function(e){window.console&&console.log(e)},U="",z="",W=function(e,t){t=t||A;var n=t.style,r,i;if(n[e]!==undefined)return e;e=e.charAt(0).toUpperCase()+e.substr(1);r=["O","Moz","ms","Ms","Webkit"];i=5;while(--i>-1&&n[r[i]+e]===undefined);if(i>=0){z=i===3?"ms":r[i];U="-"+z.toLowerCase()+"-";return z+e}return null},X=L.defaultView?L.defaultView.getComputedStyle:function(){},V=n.getStyle=function(e,t,n,r,i){var s;if(!I&&t==="opacity")return q(e);if(!r&&e.style[t])s=e.style[t];else if(n=n||X(e,null)){e=n.getPropertyValue(t.replace(g,"-$1").toLowerCase());s=e||n.length?e:n[t]}else if(e.currentStyle){n=e.currentStyle;s=n[t]}return i==null||!!s&&s!=="none"&&s!=="auto"&&s!=="auto auto"?s:i},$=function(e,t,n){var r={},i=e._gsOverwrittenClassNamePT,s,o;if(i&&!n){while(i){i.setRatio(0);i=i._next}e._gsOverwrittenClassNamePT=null}if(t=t||X(e,null))if(s=t.length)while(--s>-1)r[t[s].replace(y,w)]=t.getPropertyValue(t[s]);else for(s in t)r[s]=t[s];else if(t=e.currentStyle||e.style)for(s in t)r[s.replace(y,w)]=t[s];I||(r.opacity=q(e));o=xt(e,t,!1);r.rotation=o.rotation*C;r.skewX=o.skewX*C;r.scaleX=o.scaleX;r.scaleY=o.scaleY;r.x=o.x;r.y=o.y;if(St){r.z=o.z;r.rotationX=o.rotationX*C;r.rotationY=o.rotationY*C;r.scaleZ=o.scaleZ}r.filters&&delete r.filters;return r},J=function(e,t,n,r){var i={},s=e.style,o,u,a;for(u in n)if(u!=="cssText"&&u!=="length"&&isNaN(u)&&t[u]!==(o=n[u])&&u.indexOf("Origin")===-1)if(typeof o=="number"||typeof o=="string"){i[u]=o!==""&&o!=="auto"&&o!=="none"||typeof t[u]!="string"||t[u].replace(h,"")===""?o:0;s[u]!==undefined&&(a=new lt(s,u,s[u],a))}if(r)for(u in r)u!=="className"&&(i[u]=r[u]);return{difs:i,firstMPT:a}},K={width:["Left","Right"],height:["Top","Bottom"]},Q=["marginLeft","marginRight","marginTop","marginBottom"],G=function(e,t,n){var r=parseFloat(t==="width"?e.offsetWidth:e.offsetHeight),i=K[t],s=i.length;n=n||X(e,null);while(--s>-1){r-=parseFloat(V(e,"padding"+i[s],n,!0))||0;r-=parseFloat(V(e,"border"+i[s]+"Width",n,!0))||0}return r},Y=function(e,t,n,r,i){if(r==="px"||!r)return n;if(r==="auto"||!n)return 0;var s=E.test(t),o=e,u=A.style,a=n<0,f;a&&(n=-n);if(r==="%"&&t.indexOf("border")!==-1)f=n/100*(s?e.clientWidth:e.clientHeight);else{u.cssText="border-style:solid; border-width:0; position:absolute; line-height:0;";if(r==="%"||!o.appendChild){o=e.parentNode||L.body;u[s?"width":"height"]=n+r}else u[s?"borderLeftWidth":"borderTopWidth"]=n+r;o.appendChild(A);f=parseFloat(A[s?"offsetWidth":"offsetHeight"]);o.removeChild(A);f===0&&!i&&(f=Y(e,t,n,r,!0))}return a?-f:f},Z=function(e,t){if(e==null||e===""||e==="auto"||e==="auto auto")e="0 0";var n=e.split(" "),r=e.indexOf("left")!==-1?"0%":e.indexOf("right")!==-1?"100%":n[0],i=e.indexOf("top")!==-1?"0%":e.indexOf("bottom")!==-1?"100%":n[1];i==null?i="0":i==="center"&&(i="50%");if(r==="center"||isNaN(parseFloat(r)))r="50%";if(t){t.oxp=r.indexOf("%")!==-1;t.oyp=i.indexOf("%")!==-1;t.oxr=r.charAt(1)==="=";t.oyr=i.charAt(1)==="=";t.ox=parseFloat(r.replace(h,""));t.oy=parseFloat(i.replace(h,""))}return r+" "+i+(n.length>2?" "+n[2]:"")},et=function(e,t){return typeof e=="string"&&e.charAt(1)==="="?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(t)},tt=function(e,t){return e==null?t:typeof e=="string"&&e.charAt(1)==="="?parseInt(e.charAt(0)+"1",10)*Number(e.substr(2))+t:parseFloat(e)},nt=function(e,t,n,r){var i=1e-6,s,o,u,a,f;if(e==null)f=t;else if(typeof e=="number")f=e*N;else{s=Math.PI*2;o=e.split("_");u=Number(o[0].replace(h,""))*(e.indexOf("rad")===-1?N:1)-(e.charAt(1)==="="?0:t);a=o[1];a&&r&&(r[n]=t+u);if(a==="short"){u%=s;u!==u%(s/2)&&(u=u<0?u+s:u-s)}else a==="cw"&&u<0?u=(u+s*9999999999)%s-(u/s|0)*s:a==="ccw"&&u>0&&(u=(u-s*9999999999)%s-(u/s|0)*s);f=t+u}f<i&&f>-i&&(f=0);return f},rt={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},it=function(e,t,n){e=e<0?e+1:e>1?e-1:e;return(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*255+.5|0},st=function(e){var t,n,r,i,s,o;if(!e||e==="")return rt.black;if(typeof e=="number")return[e>>16,e>>8&255,e&255];e.charAt(e.length-1)===","&&(e=e.substr(0,e.length-1));if(rt[e])return rt[e];if(e.charAt(0)==="#"){if(e.length===4){t=e.charAt(1),n=e.charAt(2),r=e.charAt(3);e="#"+t+t+n+n+r+r}e=parseInt(e.substr(1),16);return[e>>16,e>>8&255,e&255]}if(e.substr(0,3)==="hsl"){e=e.match(f);i=Number(e[0])%360/360;s=Number(e[1])/100;o=Number(e[2])/100;n=o<=.5?o*(s+1):o+s-o*s;t=o*2-n;e.length>3&&(e[3]=Number(e[3]));e[0]=it(i+1/3,t,n);e[1]=it(i,t,n);e[2]=it(i-1/3,t,n);return e}e=e.match(f)||rt.transparent;e[0]=Number(e[0]);e[1]=Number(e[1]);e[2]=Number(e[2]);e.length>3&&(e[3]=Number(e[3]));return e},ot="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(a in rt)ot+="|"+a+"\\b";ot=new RegExp(ot+")","gi");var ut=function(e,t,n,r){if(e==null)return function(e){return e};var i=t?(e.match(ot)||[""])[0]:"",s=e.split(i).join("").match(c)||[],o=e.substr(0,e.indexOf(s[0])),u=e.charAt(e.length-1)===")"?")":"",a=e.indexOf(" ")!==-1?" ":",",l=s.length,h=l>0?s[0].replace(f,""):"",p;if(!l)return function(e){return e};if(t){p=function(e){var t,f,d,v;if(typeof e=="number")e+=h;else if(r&&T.test(e)){v=e.replace(T,"|").split("|");for(d=0;d<v.length;d++)v[d]=p(v[d]);return v.join(",")}t=(e.match(ot)||[i])[0];f=e.split(t).join("").match(c)||[];d=f.length;if(l>d--)while(++d<l)f[d]=n?f[(d-1)/2>>0]:s[d];return o+f.join(a)+a+t+u+(e.indexOf("inset")!==-1?" inset":"")};return p}p=function(e){var t,i,f;if(typeof e=="number")e+=h;else if(r&&T.test(e)){i=e.replace(T,"|").split("|");for(f=0;f<i.length;f++)i[f]=p(i[f]);return i.join(",")}t=e.match(c)||[];f=t.length;if(l>f--)while(++f<l)t[f]=n?t[(f-1)/2>>0]:s[f];return o+t.join(a)+u};return p},at=function(e){e=e.split(",");return function(t,n,r,i,s,o,u){var a=(n+"").split(" "),f;u={};for(f=0;f<4;f++)u[e[f]]=a[f]=a[f]||a[(f-1)/2>>0];return i.parse(t,u,s,o)}},ft=M._setPluginRatio=function(e){this.plugin.setRatio(e);var t=this.data,n=t.proxy,r=t.firstMPT,i=1e-6,s,o,u,a;while(r){s=n[r.v];r.r?s=s>0?s+.5>>0:s-.5>>0:s<i&&s>-i&&(s=0);r.t[r.p]=s;r=r._next}t.autoRotate&&(t.autoRotate.rotation=n.rotation);if(e===1){r=t.firstMPT;while(r){o=r.t;if(!o.type)o.e=o.s+o.xs0;else if(o.type===1){a=o.xs0+o.s+o.xs1;for(u=1;u<o.l;u++)a+=o["xn"+u]+o["xs"+(u+1)];o.e=a}r=r._next}}},lt=function(e,t,n,r,i){this.t=e;this.p=t;this.v=n;this.r=i;if(r){r._prev=this;this._next=r}},ct=M._parseToProxy=function(e,t,n,r,i,s){var o=r,u={},a={},f=n._transform,l=k,c,h,p,d,v;n._transform=null;k=t;r=v=n.parse(e,t,r,i);k=l;if(s){n._transform=f;if(o){o._prev=null;o._prev&&(o._prev._next=null)}}while(r&&r!==o){if(r.type<=1){h=r.p;a[h]=r.s+r.c;u[h]=r.s;if(!s){d=new lt(r,"s",h,d,r.r);r.c=0}if(r.type===1){c=r.l;while(--c>0){p="xn"+c;h=r.p+"_"+p;a[h]=r.data[p];u[h]=r[p];s||(d=new lt(r,p,h,d,r.rxp[p]))}}}r=r._next}return{proxy:u,end:a,firstMPT:d,pt:v}},ht=M.CSSPropTween=function(e,t,n,i,s,u,a,f,l,c,h){this.t=e;this.p=t;this.s=n;this.c=i;this.n=a||"css_"+t;e instanceof ht||o.push(this.n);this.r=f;this.type=u||0;if(l){this.pr=l;r=!0}this.b=c===undefined?n:c;this.e=h===undefined?n+i:h;if(s){this._next=s;s._prev=this}},pt=n.parseComplex=function(e,t,n,r,i,s,o,u,a,c){o=new ht(e,t,0,0,o,c?2:1,null,!1,u,n,r);r+="";var h=n.split(", ").join(",").split(" "),p=r.split(", ").join(",").split(" "),d=h.length,v=D!==!1,m,g,y,b,w,E,S,x,N,C,k,L;if(r.indexOf(",")!==-1||n.indexOf(",")!==-1){h=h.join(" ").replace(T,", ").split(" ");p=p.join(" ").replace(T,", ").split(" ");d=h.length}if(d!==p.length){h=(s||"").split(" ");d=h.length}o.plugin=a;o.setRatio=c;for(m=0;m<d;m++){b=h[m];w=p[m];x=parseFloat(b);if(x||x===0)o.appendXtra("",x,et(w,x),w.replace(l,""),v&&w.indexOf("px")!==-1,!0);else if(i&&(b.charAt(0)==="#"||b.indexOf("rgb")===0||rt[b]||b.indexOf("hsl")===0)){L=w.charAt(w.length-1)===","?"),":")";b=st(b);w=st(w);N=b.length+w.length>6;if(N&&!I&&w[3]===0){o["xs"+o.l]+=o.l?" transparent":"transparent";o.e=o.e.split(p[m]).join("transparent")}else{I||(N=!1);o.appendXtra(N?"rgba("
:"rgb(",b[0],w[0]-b[0],",",!0,!0).appendXtra("",b[1],w[1]-b[1],",",!0).appendXtra("",b[2],w[2]-b[2],N?",":L,!0);if(N){b=b.length<4?1:b[3];o.appendXtra("",b,(w.length<4?1:w[3])-b,L,!1)}}}else{E=b.match(f);if(!E)o["xs"+o.l]+=o.l?" "+b:b;else{S=w.match(l);if(!S||S.length!==E.length)return o;y=0;for(g=0;g<E.length;g++){k=E[g];C=b.indexOf(k,y);o.appendXtra(b.substr(y,C-y),Number(k),et(S[g],k),"",v&&b.substr(C+k.length,2)==="px",g===0);y=C+k.length}o["xs"+o.l]+=b.substr(y)}}}if(r.indexOf("=")!==-1&&o.data){L=o.xs0+o.data.s;for(m=1;m<o.l;m++)L+=o["xs"+m]+o.data["xn"+m];o.e=L+o["xs"+m]}if(!o.l){o.type=-1;o.xs0=o.e}return o.xfirst||o},dt=9;a=ht.prototype;a.l=a.pr=0;while(--dt>0){a["xn"+dt]=0;a["xs"+dt]=""}a.xs0="";a._next=a._prev=a.xfirst=a.data=a.plugin=a.setRatio=a.rxp=null;a.appendXtra=function(e,t,n,r,i,s){var o=this,u=o.l;o["xs"+u]+=s&&u?" "+e:e||"";if(!n&&u!==0&&!o.plugin){o["xs"+u]+=t+(r||"");return o}o.l++;o.type=o.setRatio?2:1;o["xs"+o.l]=r||"";if(u>0){o.data["xn"+u]=t+n;o.rxp["xn"+u]=i;o["xn"+u]=t;if(!o.plugin){o.xfirst=new ht(o,"xn"+u,t,n,o.xfirst||o,0,o.n,i,o.pr);o.xfirst.xs0=0}return o}o.data={s:t+n};o.rxp={};o.s=t;o.c=n;o.r=i;return o};var vt=function(e,t){t=t||{};this.p=t.prefix?W(e)||e:e;u[e]=u[this.p]=this;this.format=t.formatter||ut(t.defaultValue,t.color,t.collapsible,t.multi);t.parser&&(this.parse=t.parser);this.clrs=t.color;this.multi=t.multi;this.keyword=t.keyword;this.dflt=t.defaultValue;this.pr=t.priority||0},mt=M._registerComplexSpecialProp=function(e,t,n){typeof t!="object"&&(t={parser:n});var r=e.split(","),i=t.defaultValue,s,o;n=n||[i];for(s=0;s<r.length;s++){t.prefix=s===0&&t.prefix;t.defaultValue=n[s]||i;o=new vt(r[s],t)}},gt=function(e){if(!u[e]){var t=e.charAt(0).toUpperCase()+e.substr(1)+"Plugin";mt(e,{parser:function(e,n,r,i,s,o,a){var f=(window.GreenSockGlobals||window).com.greensock.plugins[t];if(!f){R("Error: "+t+" js file not loaded.");return s}f._cssRegister();return u[r].parse(e,n,r,i,s,o,a)}})}};a=vt.prototype;a.parseComplex=function(e,t,n,r,i,s){var o=this.keyword,u,a,f,l,c,h;if(this.multi)if(T.test(n)||T.test(t)){a=t.replace(T,"|").split("|");f=n.replace(T,"|").split("|")}else if(o){a=[t];f=[n]}if(f){l=f.length>a.length?f.length:a.length;for(u=0;u<l;u++){t=a[u]=a[u]||this.dflt;n=f[u]=f[u]||this.dflt;if(o){c=t.indexOf(o);h=n.indexOf(o);if(c!==h){n=h===-1?f:a;n[u]+=" "+o}}}t=a.join(", ");n=f.join(", ")}return pt(e,this.p,t,n,this.clrs,this.dflt,r,this.pr,i,s)};a.parse=function(e,t,n,r,i,o,u){return this.parseComplex(e.style,this.format(V(e,this.p,s,!1,this.dflt)),this.format(t),i,o)};n.registerSpecialProp=function(e,t,n){mt(e,{parser:function(e,r,i,s,o,u,a){var f=new ht(e,i,0,0,o,2,i,!1,n);f.plugin=u;f.setRatio=t(e,r,s._tween,i);return f},priority:n})};var yt="scaleX,scaleY,scaleZ,x,y,z,skewX,rotation,rotationX,rotationY,perspective".split(","),bt=W("transform"),wt=U+"transform",Et=W("transformOrigin"),St=W("perspective")!==null,xt=function(e,t,r){var i=r?e._gsTransform||{skewY:0}:{skewY:0},s=i.scaleX<0,o=2e-5,u=1e5,a=-Math.PI+1e-4,f=Math.PI-1e-4,l=St?parseFloat(V(e,Et,t,!1,"0 0 0").split(" ")[2])||i.zOrigin||0:0,c,h,p,d,v,m,g,y,b,w,E,x,T;if(bt)c=V(e,wt,t,!0);else if(e.currentStyle){c=e.currentStyle.filter.match(S);c=c&&c.length===4?c[0].substr(4)+","+Number(c[2].substr(4))+","+Number(c[1].substr(4))+","+c[3].substr(4)+","+(i?i.x:0)+","+(i?i.y:0):null}h=(c||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[];p=h.length;while(--p>-1){d=Number(h[p]);h[p]=(v=d-(d|=0))?(v*u+(v<0?-0.5:.5)|0)/u+d:d}if(h.length===16){var N=h[8],C=h[9],k=h[10],L=h[12],A=h[13],O=h[14];if(i.zOrigin){O=-i.zOrigin;L=N*O-h[12];A=C*O-h[13];O=k*O+i.zOrigin-h[14]}if(!r||L!==i.x||A!==i.y||O!==i.z){var M=h[0],_=h[1],D=h[2],P=h[3],H=h[4],B=h[5],j=h[6],F=h[7],I=h[11],q=i.rotationX=Math.atan2(j,k),R=q<a||q>f,U,z,W,X,$,J,K,Q;if(q){$=Math.cos(-q);J=Math.sin(-q);U=H*$+N*J;z=B*$+C*J;W=j*$+k*J;X=F*$+I*J;N=H*-J+N*$;C=B*-J+C*$;k=j*-J+k*$;I=F*-J+I*$;H=U;B=z;j=W}q=i.rotationY=Math.atan2(N,M);if(q){K=q<a||q>f;$=Math.cos(-q);J=Math.sin(-q);U=M*$-N*J;z=_*$-C*J;W=D*$-k*J;X=P*$-I*J;C=_*J+C*$;k=D*J+k*$;I=P*J+I*$;M=U;_=z;D=W}q=i.rotation=Math.atan2(_,B);if(q){Q=q<a||q>f;$=Math.cos(-q);J=Math.sin(-q);M=M*$+H*J;z=_*$+B*J;B=_*-J+B*$;j=D*-J+j*$;_=z}Q&&R?i.rotation=i.rotationX=0:Q&&K?i.rotation=i.rotationY=0:K&&R&&(i.rotationY=i.rotationX=0);i.scaleX=(Math.sqrt(M*M+_*_)*u+.5>>0)/u;i.scaleY=(Math.sqrt(B*B+C*C)*u+.5>>0)/u;i.scaleZ=(Math.sqrt(j*j+k*k)*u+.5>>0)/u;i.skewX=0;i.perspective=I?1/(I<0?-I:I):0;i.x=L;i.y=A;i.z=O}}else if(!St||h.length===0||i.x!==h[4]||i.y!==h[5]||!i.rotationX&&!i.rotationY){var G=h.length>=6,Y=G?h[0]:1,Z=h[1]||0,et=h[2]||0,tt=G?h[3]:1;i.x=h[4]||0;i.y=h[5]||0;m=Math.sqrt(Y*Y+Z*Z);g=Math.sqrt(tt*tt+et*et);y=Y||Z?Math.atan2(Z,Y):i.rotation||0;b=et||tt?Math.atan2(et,tt)+y:i.skewX||0;w=m-Math.abs(i.scaleX||0);E=g-Math.abs(i.scaleY||0);if(Math.abs(b)>Math.PI/2&&Math.abs(b)<Math.PI*1.5)if(s){m*=-1;b+=y<=0?Math.PI:-Math.PI;y+=y<=0?Math.PI:-Math.PI}else{g*=-1;b+=b<=0?Math.PI:-Math.PI}x=(y-i.rotation)%Math.PI;T=(b-i.skewX)%Math.PI;if(i.skewX===undefined||w>o||w<-o||E>o||E<-o||x>a&&x<f&&x*u>>0!==0||T>a&&T<f&&T*u>>0!==0){i.scaleX=m;i.scaleY=g;i.rotation=y;i.skewX=b}if(St){i.rotationX=i.rotationY=i.z=0;i.perspective=parseFloat(n.defaultTransformPerspective)||0;i.scaleZ=1}}i.zOrigin=l;for(p in i)i[p]<o&&i[p]>-o&&(i[p]=0);r&&(e._gsTransform=i);return i},Tt=function(e){var t=this.data,n=-t.rotation,r=n+t.skewX,i=1e5,s=(Math.cos(n)*t.scaleX*i>>0)/i,o=(Math.sin(n)*t.scaleX*i>>0)/i,u=(Math.sin(r)*-t.scaleY*i>>0)/i,a=(Math.cos(r)*t.scaleY*i>>0)/i,f=this.t.style,l=this.t.currentStyle,c,h;if(!l)return;h=o;o=-u;u=-h;c=l.filter;f.filter="";var v=this.t.offsetWidth,m=this.t.offsetHeight,g=l.position!=="absolute",y="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+o+", M21="+u+", M22="+a,b=t.x,w=t.y,E,S;if(t.ox!=null){E=(t.oxp?v*t.ox*.01:t.ox)-v/2;S=(t.oyp?m*t.oy*.01:t.oy)-m/2;b+=E-(E*s+S*o);w+=S-(E*u+S*a)}if(!g){var T=F<8?1:-1,N,C,k;E=t.ieOffsetX||0;S=t.ieOffsetY||0;t.ieOffsetX=Math.round((v-((s<0?-s:s)*v+(o<0?-o:o)*m))/2+b);t.ieOffsetY=Math.round((m-((a<0?-a:a)*m+(u<0?-u:u)*v))/2+w);for(dt=0;dt<4;dt++){C=Q[dt];N=l[C];h=N.indexOf("px")!==-1?parseFloat(N):Y(this.t,C,parseFloat(N),N.replace(p,""))||0;h!==t[C]?k=dt<2?-t.ieOffsetX:-t.ieOffsetY:k=dt<2?E-t.ieOffsetX:S-t.ieOffsetY;f[C]=(t[C]=Math.round(h-k*(dt===0||dt===2?1:T)))+"px"}y+=", sizingMethod='auto expand')"}else{E=v/2;S=m/2;y+=", Dx="+(E-(E*s+S*o)+b)+", Dy="+(S-(E*u+S*a)+w)+")"}c.indexOf("DXImageTransform.Microsoft.Matrix(")!==-1?f.filter=c.replace(x,y):f.filter=y+" "+c;(e===0||e===1)&&s===1&&o===0&&u===0&&a===1&&(!g||y.indexOf("Dx=0, Dy=0")!==-1)&&(!d.test(c)||parseFloat(RegExp.$1)===100)&&c.indexOf("gradient(")===-1&&f.removeAttribute("filter")},Nt=function(e){var t=this.data,n=this.t.style,r=t.perspective,i=t.scaleX,s=0,o=0,u=0,a=0,f=t.scaleY,l=0,c=0,h=0,p=0,d=t.scaleZ,v=0,m=0,g=0,y=r?-1/r:0,b=t.rotation,w=t.zOrigin,E=",",S=1e5,x,T,N,C,k,L,A,O,M;if(B){A=n.top?"top":n.bottom?"bottom":parseFloat(V(this.t,"top",null,!1))?"bottom":"top";N=V(this.t,A,null,!1);O=parseFloat(N)||0;M=N.substr((O+"").length)||"px";t._ffFix=!t._ffFix;n[A]=(t._ffFix?O+.05:O-.05)+M}if(b||t.skewX){N=i*Math.cos(b);C=f*Math.sin(b);b-=t.skewX;s=i*-Math.sin(b);f*=Math.cos(b);i=N;a=C}b=t.rotationY;if(b){x=Math.cos(b);T=Math.sin(b);N=i*x;C=a*x;k=d*-T;L=y*-T;o=i*T;l=a*T;d*=x;y*=x;i=N;a=C;h=k;m=L}b=t.rotationX;if(b){x=Math.cos(b);T=Math.sin(b);N=s*x+o*T;C=f*x+l*T;k=p*x+d*T;L=g*x+y*T;o=s*-T+o*x;l=f*-T+l*x;d=p*-T+d*x;y=g*-T+y*x;s=N;f=C;p=k;g=L}if(w){v-=w;u=o*v;c=l*v;v=d*v+w}u=(N=(u+=t.x)-(u|=0))?(N*S+(N<0?-0.5:.5)|0)/S+u:u;c=(N=(c+=t.y)-(c|=0))?(N*S+(N<0?-0.5:.5)|0)/S+c:c;v=(N=(v+=t.z)-(v|=0))?(N*S+(N<0?-0.5:.5)|0)/S+v:v;n[bt]="matrix3d("+(i*S>>0)/S+E+(a*S>>0)/S+E+(h*S>>0)/S+E+(m*S>>0)/S+E+(s*S>>0)/S+E+(f*S>>0)/S+E+(p*S>>0)/S+E+(g*S>>0)/S+E+(o*S>>0)/S+E+(l*S>>0)/S+E+(d*S>>0)/S+E+(y*S>>0)/S+E+u+E+c+E+v+E+(r?1+ -v/r:1)+")"},Ct=function(e){var t=this.data,n=this.t,r=n.style,i,s,o,u,a,f,l,c,h;if(B){i=r.top?"top":r.bottom?"bottom":parseFloat(V(n,"top",null,!1))?"bottom":"top";s=V(n,i,null,!1);o=parseFloat(s)||0;u=s.substr((o+"").length)||"px";t._ffFix=!t._ffFix;r[i]=(t._ffFix?o+.05:o-.05)+u}if(!t.rotation&&!t.skewX)r[bt]="matrix("+t.scaleX+",0,0,"+t.scaleY+","+t.x+","+t.y+")";else{a=t.rotation;f=a-t.skewX;l=1e5;c=t.scaleX*l;h=t.scaleY*l;r[bt]="matrix("+(Math.cos(a)*c>>0)/l+","+(Math.sin(a)*c>>0)/l+","+(Math.sin(f)*-h>>0)/l+","+(Math.cos(f)*h>>0)/l+","+t.x+","+t.y+")"}};mt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation",{parser:function(e,t,n,r,i,o,u){if(r._transform)return i;var a=r._transform=xt(e,s,!0),f=e.style,l=1e-6,c=yt.length,h=u,p={},d,v,m,g,y,b,w;if(typeof h.transform=="string"&&bt){m=f.cssText;f[bt]=h.transform;f.display="block";d=xt(e,null,!1);f.cssText=m}else if(typeof h=="object"){d={scaleX:tt(h.scaleX!=null?h.scaleX:h.scale,a.scaleX),scaleY:tt(h.scaleY!=null?h.scaleY:h.scale,a.scaleY),scaleZ:tt(h.scaleZ!=null?h.scaleZ:h.scale,a.scaleZ),x:tt(h.x,a.x),y:tt(h.y,a.y),z:tt(h.z,a.z),perspective:tt(h.transformPerspective,a.perspective)};w=h.directionalRotation;if(w!=null)if(typeof w=="object")for(m in w)h[m]=w[m];else h.rotation=w;d.rotation=nt("rotation"in h?h.rotation:"shortRotation"in h?h.shortRotation+"_short":"rotationZ"in h?h.rotationZ:a.rotation*C,a.rotation,"rotation",p);if(St){d.rotationX=nt("rotationX"in h?h.rotationX:"shortRotationX"in h?h.shortRotationX+"_short":a.rotationX*C||0,a.rotationX,"rotationX",p);d.rotationY=nt("rotationY"in h?h.rotationY:"shortRotationY"in h?h.shortRotationY+"_short":a.rotationY*C||0,a.rotationY,"rotationY",p)}d.skewX=h.skewX==null?a.skewX:nt(h.skewX,a.skewX);d.skewY=h.skewY==null?a.skewY:nt(h.skewY,a.skewY);if(v=d.skewY-a.skewY){d.skewX+=v;d.rotation+=v}}y=a.z||a.rotationX||a.rotationY||d.z||d.rotationX||d.rotationY||d.perspective;!y&&h.scale!=null&&(d.scaleZ=1);while(--c>-1){n=yt[c];g=d[n]-a[n];if(g>l||g<-l||k[n]!=null){b=!0;i=new ht(a,n,a[n],g,i);n in p&&(i.e=p[n]);i.xs0=0;i.plugin=o;r._overwriteProps.push(i.n)}}g=h.transformOrigin;if(g||St&&y&&a.zOrigin)if(bt){b=!0;g=(g||V(e,n,s,!1,"50% 50%"))+"";n=Et;i=new ht(f,n,0,0,i,-1,"css_transformOrigin");i.b=f[n];i.plugin=o;if(St){m=a.zOrigin;g=g.split(" ");a.zOrigin=(g.length>2?parseFloat(g[2]):m)||0;i.xs0=i.e=f[n]=g[0]+" "+(g[1]||"50%")+" 0px";i=new ht(a,"zOrigin",0,0,i,-1,i.n);i.b=m;i.xs0=i.e=a.zOrigin}else i.xs0=i.e=f[n]=g}else Z(g+"",a);b&&(r._transformType=y||this._transformType===3?3:2);return i},prefix:!0});mt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"});mt("borderRadius",{defaultValue:"0px",parser:function(e,t,n,r,o,u){t=this.format(t);var a=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],f=e.style,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N;y=parseFloat(e.offsetWidth);b=parseFloat(e.offsetHeight);l=t.split(" ");for(c=0;c<a.length;c++){this.p.indexOf("border")&&(a[c]=W(a[c]));d=p=V(e,a[c],s,!1,"0px");if(d.indexOf(" ")!==-1){p=d.split(" ");d=p[0];p=p[1]}v=h=l[c];m=parseFloat(d);E=d.substr((m+"").length);S=v.charAt(1)==="=";if(S){g=parseInt(v.charAt(0)+"1",10);v=v.substr(2);g*=parseFloat(v);w=v.substr((g+"").length-(g<0?1:0))||""}else{g=parseFloat(v);w=v.substr((g+"").length)}w===""&&(w=i[n]||E);if(w!==E){x=Y(e,"borderLeft",m,E);T=Y(e,"borderTop",m,E);if(w==="%"){d=x/y*100+"%";p=T/b*100+"%"}else if(w==="em"){N=Y(e,"borderLeft",1,"em");d=x/N+"em";p=T/N+"em"}else{d=x+"px";p=T+"px"}if(S){v=parseFloat(d)+g+w;h=parseFloat(p)+g+w}}o=pt(f,a[c],d+" "+p,v+" "+h,!1,"0px",o)}return o},prefix:!0,formatter:ut("0px 0px 0px 0px",!1,!0)});mt("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,n,r,i,o){var u="background-position",a=s||X(e,null),f=this.format((a?F?a.getPropertyValue(u+"-x")+" "+a.getPropertyValue(u+"-y"):a.getPropertyValue(u):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),l=this.format(t),c,h,p,d,v,m;if(f.indexOf("%")!==-1!=(l.indexOf("%")!==-1)){m=V(e,"backgroundImage").replace(b,"");if(m&&m!=="none"){c=f.split(" ");h=l.split(" ");O.setAttribute("src",m);p=2;while(--p>-1){f=c[p];d=f.indexOf("%")!==-1;if(d!==(h[p].indexOf("%")!==-1)){v=p===0?e.offsetWidth-O.width:e.offsetHeight-O.height;c[p]=d?parseFloat(f)/100*v+"px":parseFloat(f)/v*100+"%"}}f=c.join(" ")}}return this.parseComplex(e.style,f,l,i,o)},formatter:Z});mt("backgroundSize",{defaultValue:"0 0",formatter:Z});mt("perspective",{defaultValue:"0px",prefix:!0});mt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0});mt("transformStyle",{prefix:!0});mt("backfaceVisibility",{prefix:!0});mt("margin",{parser:at("marginTop,marginRight,marginBottom,marginLeft")});mt("padding",{parser:at("paddingTop,paddingRight,paddingBottom,paddingLeft")});mt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,n,r,i,o){var u,a,f;if(F<9){a=e.currentStyle;f=F<8?" ":",";u="rect("+a.clipTop+f+a.clipRight+f+a.clipBottom+f+a.clipLeft+")";t=this.format(t).split(",").join(f)}else{u=this.format(V(e,this.p,s,!1,this.dflt));t=this.format(t)}return this.parseComplex(e.style,u,t,i,o)}});mt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0});mt("autoRound,strictUnits",{parser:function(e,t,n,r,i){return i}});mt("border",{defaultValue:"0px solid #000",parser:function(e,t,n,r,i,o){return this.parseComplex(e.style,this.format(V(e,"borderTopWidth",s,!1,"0px")+" "+V(e,"borderTopStyle",s,!1,"solid")+" "+V(e,"borderTopColor",s,!1,"#000")),this.format(t),i,o)},color:!0,formatter:function(e){var t=e.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(e.match(ot)||["#000"])[0]}});mt("float,cssFloat,styleFloat",{parser:function(e,t,n,r,i,s){var o=e.style,u="cssFloat"in o?"cssFloat":"styleFloat";return new ht(o,u,0,0,i,-1,n,!1,0,o[u],t)}});var kt=function(e){var t=this.t,n=t.filter,r=this.s+this.c*e>>0,i;if(r===100)if(n.indexOf("atrix(")===-1&&n.indexOf("radient(")===-1){t.removeAttribute("filter");i=!V(this.data,"filter")}else{t.filter=n.replace(m,"");i=!0}if(!i){this.xn1&&(t.filter=n=n||"alpha(opacity=100)");n.indexOf("opacity")===-1?t.filter+=" alpha(opacity="+r+")":t.filter=n.replace(d,"opacity="+r)}};mt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,n,r,i,o){var u=parseFloat(V(e,"opacity",s,!1,"1")),a=e.style,f;t=parseFloat(t);if(n==="autoAlpha"){f=V(e,"visibility",s);u===1&&f==="hidden"&&t!==0&&(u=0);i=new ht(a,"visibility",0,0,i,-1,null,!1,0,u!==0?"visible":"hidden",t===0?"hidden":"visible");i.xs0="visible";r._overwriteProps.push(i.n)}if(I)i=new ht(a,"opacity",u,t-u,i);else{i=new ht(a,"opacity",u*100,(t-u)*100,i);i.xn1=n==="autoAlpha"?1:0;a.zoom=1;i.type=2;i.b="alpha(opacity="+i.s+")";i.e="alpha(opacity="+(i.s+i.c)+")";i.data=e;i.plugin=o;i.setRatio=kt}return i}});var Lt=function(e){if(e===1||e===0){this.t.className=e===1?this.e:this.b;var t=this.data,n=this.t.style,r=n.removeProperty?"removeProperty":"removeAttribute";while(t){t.v?n[t.p]=t.v:n[r](t.p.replace(g,"-$1").toLowerCase());t=t._next}}else this.t.className!==this.b&&(this.t.className=this.b)};mt("className",{parser:function(e,t,n,i,o,u,a){var f=e.className,l=e.style.cssText,c,h;o=i._classNamePT=new ht(e,n,0,0,o,2);o.setRatio=Lt;o.pr=-11;r=!0;o.b=f;o.e=t.charAt(1)!=="="?t:t.charAt(0)==="+"?f+" "+t.substr(2):f.split(t.substr(2)).join("");if(i._tween._duration){h=$(e,s,!0);e.className=o.e;c=J(e,h,$(e),a);e.className=f;o.data=c.firstMPT;e.style.cssText=l;o=o.xfirst=i.parse(e,c.difs,o,u)}return o}});var At=function(e){if(e===1||e===0)if(this.data._totalTime===this.data._totalDuration){var t=this.e==="all",n=this.t.style,r=t?n.cssText.split(";"):this.e.split(","),i=n.removeProperty?"removeProperty":"removeAttribute",s=r.length,o=u.transform.parse,a;while(--s>-1){a=r[s];t&&(a=a.substr(0,a.indexOf(":")).split(" ").join(""));u[a]&&(a=u[a].parse===o?bt:u[a].p);a&&n[i](a.replace(g,"-$1").toLowerCase())}}};mt("clearProps",{parser:function(e,t,n,i,s){s=new ht(e,n,0,0,s,2);s.setRatio=At;s.e=t;s.pr=-10;s.data=i._tween;r=!0;return s}});a="bezier,throwProps,physicsProps,physics2D".split(",");dt=a.length;while(dt--)gt(a[dt]);a=n.prototype;a._firstPT=null;a._onInitTween=function(e,t,u){if(!e.nodeType)return!1;this._target=e;this._tween=u;this._vars=t;D=t.autoRound;r=!1;i=t.suffixMap||n.suffixMap;s=X(e,"");o=this._overwriteProps;var a=e.style,f,l,c,h,p,d,m,g,y;if(P&&a.zIndex===""){f=V(e,"zIndex",s);if(f==="auto"||f==="")a.zIndex=0}if(typeof t=="string"){h=a.cssText;f=$(e,s);a.cssText=h+";"+t;f=J(e,f,$(e)).difs;!I&&v.test(t)&&(f.opacity=parseFloat(RegExp.$1));t=f;a.cssText=h}this._firstPT=l=this.parse(e,t,null);if(this._transformType){y=this._transformType===3;if(!bt)a.zoom=1;else if(H){P=!0;if(a.zIndex===""){m=V(e,"zIndex",s);if(m==="auto"||m==="")a.zIndex=0}j&&(a.WebkitBackfaceVisibility=this._vars.WebkitBackfaceVisibility||(y?"visible":"hidden"))}c=l;while(c&&c._next)c=c._next;g=new ht(e,"transform",0,0,null,2);this._linkCSSP(g,null,c);g.setRatio=y&&St?Nt:bt?Ct:Tt;g.data=this._transform||xt(e,s,!0);o.pop()}if(r){while(l){d=l._next;c=h;while(c&&c.pr>l.pr)c=c._next;(l._prev=c?c._prev:p)?l._prev._next=l:h=l;(l._next=c)?c._prev=l:p=l;l=d}this._firstPT=h}return!0};a.parse=function(e,t,n,r){var o=e.style,a,f,l,c,h,d,v,m,g,y;for(a in t){d=t[a];f=u[a];if(f)n=f.parse(e,d,a,this,n,r,t);else{h=V(e,a,s)+"";g=typeof d=="string";if(a==="color"||a==="fill"||a==="stroke"||a.indexOf("Color")!==-1||g&&!d.indexOf("rgb")){if(!g){d=st(d);d=(d.length>3?"rgba(":"rgb(")+d.join(",")+")"}n=pt(o,a,h,d,!0,"transparent",n,0,r)}else if(!g||d.indexOf(" ")===-1&&d.indexOf(",")===-1){l=parseFloat(h);v=l||l===0?h.substr((l+"").length):"";if(h===""||h==="auto")if(a==="width"||a==="height"){l=G(e,a,s);v="px"}else{l=a!=="opacity"?0:1;v=""}y=g&&d.charAt(1)==="=";if(y){c=parseInt(d.charAt(0)+"1",10);d=d.substr(2);c*=parseFloat(d);m=d.replace(p,"")}else{c=parseFloat(d);m=g?d.substr((c+"").length)||"":""}m===""&&(m=i[a]||v);d=c||c===0?(y?c+l:c)+m:t[a];if(v!==m&&m!=="")if(c||c===0)if(l||l===0){l=Y(e,a,l,v);if(m==="%"){l/=Y(e,a,100,"%")/100;l>100&&(l=100);t.strictUnits!==!0&&(h=l+"%")}else if(m==="em")l/=Y(e,a,1,"em");else{c=Y(e,a,c,m);m="px"}y&&(c||c===0)&&(d=c+l+m)}y&&(c+=l);if(!l&&l!==0||!c&&c!==0)if(!!d||d+""!="NaN"&&d!=null){n=new ht(o,a,c||l||0,0,n,-1,"css_"+a,!1,0,h,d);n.xs0=a==="display"&&d==="none"?h:d}else R("invalid "+a+" tween value: "+t[a]);else{n=new ht(o,a,l,c-l,n,0,"css_"+a,D!==!1&&(m==="px"||a==="zIndex"),0,h,d);n.xs0=m}}else n=pt(o,a,h,d,!0,null,n,0,r)}r&&n&&!n.plugin&&(n.plugin=r)}return n};a.setRatio=function(e){var t=this._firstPT,n=1e-6,r,i,s;if(e!==1||this._tween._time!==this._tween._duration&&this._tween._time!==0)if(e||this._tween._time!==this._tween._duration&&this._tween._time!==0||this._tween._rawPrevTime===-0.000001)while(t){r=t.c*e+t.s;t.r?r=r>0?r+.5>>0:r-.5>>0:r<n&&r>-n&&(r=0);if(!t.type)t.t[t.p]=r+t.xs0;else if(t.type===1){s=t.l;if(s===2)t.t[t.p]=t.xs0+r+t.xs1+t.xn1+t.xs2;else if(s===3)t.t[t.p]=t.xs0+r+t.xs1+t.xn1+t.xs2+t.xn2+t.xs3;else if(s===4)t.t[t.p]=t.xs0+r+t.xs1+t.xn1+t.xs2+t.xn2+t.xs3+t.xn3+t.xs4;else if(s===5)t.t[t.p]=t.xs0+r+t.xs1+t.xn1+t.xs2+t.xn2+t.xs3+t.xn3+t.xs4+t.xn4+t.xs5;else{i=t.xs0+r+t.xs1;for(s=1;s<t.l;s++)i+=t["xn"+s]+t["xs"+(s+1)];t.t[t.p]=i}}else t.type===-1?t.t[t.p]=t.xs0:t.setRatio&&t.setRatio(e);t=t._next}else while(t){t.type!==2?t.t[t.p]=t.b:t.setRatio(e);t=t._next}else while(t){t.type!==2?t.t[t.p]=t.e:t.setRatio(e);t=t._next}};a._enableTransforms=function(e){this._transformType=e||this._transformType===3?3:2};a._linkCSSP=function(e,t,n,r){if(e){t&&(t._prev=e);e._next&&(e._next._prev=e._prev);n?n._next=e:!r&&this._firstPT===null&&(this._firstPT=e);e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next);e._next=t;e._prev=n}return e};a._kill=function(t){var n=t,r=!1,i,s,o;if(t.css_autoAlpha||t.css_alpha){n={};for(s in t)n[s]=t[s];n.css_opacity=1;n.css_autoAlpha&&(n.css_visibility=1)}if(t.css_className&&(i=this._classNamePT)){o=i.xfirst;o&&o._prev?this._linkCSSP(o._prev,i._next,o._prev._prev):o===this._firstPT&&(this._firstPT=null);i._next&&this._linkCSSP(i._next,i._next._next,o._prev);this._target._gsOverwrittenClassNamePT=this._linkCSSP(i,this._target._gsOverwrittenClassNamePT);this._classNamePT=null;r=!0}return e.prototype._kill.call(this,n)||r};var Ot=function(e,t,n){var r,i,s,o;if(e.slice){i=e.length;while(--i>-1)Ot(e[i],t,n);return}r=e.childNodes;i=r.length;while(--i>-1){s=r[i];o=s.type;if(s.style){t.push($(s));n&&n.push(s)}(o===1||o===9||o===11)&&s.childNodes.length&&Ot(s,t,n)}};n.cascadeTo=function(e,n,r){var i=t.to(e,n,r),s=[i],o=[],u=[],a=[],f=t._internals.reservedProps,l,c,h;e=i._targets||i.target;Ot(e,o,a);i.render(n,!0);Ot(e,u);i.render(0,!0);i._enabled(!0);l=a.length;while(--l>-1){c=J(a[l],o[l],u[l]);if(c.firstMPT){c=c.difs;for(h in r)f[h]&&(c[h]=r[h]);s.push(t.to(a[l],n,c))}}return s};e.activate([n]);return n},!0);(function(){var e=window._gsDefine.plugin({propName:"roundProps",priority:-1,API:2,init:function(e,t,n){this._tween=n;return!0}}),t=e.prototype;t._onInitAllProps=function(){var e=this._tween,t=e.vars.roundProps instanceof Array?e.vars.roundProps:e.vars.roundProps.split(","),n=t.length,r={},i=e._propLookup.roundProps,s,o,u;while(--n>-1)r[t[n]]=1;n=t.length;while(--n>-1){s=t[n];o=e._firstPT;while(o){u=o._next;if(o.pg)o.t._roundProps(r,!0);else if(o.n===s){this._add(o.t,s,o.s,o.c);u&&(u._prev=o._prev);o._prev?o._prev._next=u:e._firstPT===o&&(e._firstPT=u);o._next=o._prev=null;e._propLookup[s]=i}o=u}}return!1};t._add=function(e,t,n,r){this._addTween(e,t,n,n+r,t,!0);this._overwriteProps.push(t)}})();window._gsDefine.plugin({propName:"attr",API:2,init:function(e,t,n){var r;if(typeof e.setAttribute!="function")return!1;this._target=e;this._proxy={};for(r in t){this._addTween(this._proxy,r,parseFloat(e.getAttribute(r)),t[r],r);this._overwriteProps.push(r)}return!0},set:function(e){this._super.setRatio.call(this,e);var t=this._overwriteProps,n=t.length,r;while(--n>-1){r=t[n];this._target.setAttribute(r,this._proxy[r]+"")}}});window._gsDefine.plugin({propName:"directionalRotation",API:2,init:function(e,t,n){typeof t!="object"&&(t={rotation:t});this.finals={};var r=t.useRadians===!0?Math.PI*2:360,i,s,o,u,a,f,l;for(i in t)if(i!=="useRadians"){f=(t[i]+"").split("_");s=f[0];l=f[1];o=parseFloat(typeof e[i]!="function"?e[i]:e[i.indexOf("set")||typeof e["get"+i.substr(3)]!="function"?i:"get"+i.substr(3)]());u=this.finals[i]=typeof s=="string"&&s.charAt(1)==="="?o+parseInt(s.charAt(0)+"1",10)*Number(s.substr(2)):Number(s)||0;a=u-o;if(l==="short"){a%=r;a!==a%(r/2)&&(a=a<0?a+r:a-r)}else l==="cw"&&a<0?a=(a+r*9999999999)%r-(a/r|0)*r:l==="ccw"&&a>0&&(a=(a-r*9999999999)%r-(a/r|0)*r);this._addTween(e,i,o,o+a,i);this._overwriteProps.push(i)}return!0},set:function(e){var t;if(e!==1)this._super.setRatio.call(this,e);else{t=this._firstPT;while(t){t.f?t.t[t.p](this.finals[t.p]):t.t[t.p]=this.finals[t.p];t=t._next}}}})._autoCSS=!0;window._gsDefine("easing.Back",["easing.Ease"],function(e){var t=window.GreenSockGlobals||window,n=t.com.greensock,r=Math.PI*2,i=Math.PI/2,s=n._class,o=function(t,n){var r=s("easing."+t,function(){},!0),i=r.prototype=new e;i.constructor=r;i.getRatio=n;return r},u=e.register||function(){},a=function(e,t,n,r,i){var o=s("easing."+e,{easeOut:new t,easeIn:new n,easeInOut:new r},!0);u(o,e);return o},f=function(t,n){var r=s("easing."+t,function(e){this._p1=e||e===0?e:1.70158;this._p2=this._p1*1.525},!0),i=r.prototype=new e;i.constructor=r;i.getRatio=n;i.config=function(e){return new r(e)};return r},l=a("Back",f("BackOut",function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1}),f("BackIn",function(e){return e*e*((this._p1+1)*e-this._p1)}),f("BackInOut",function(e){return(e*=2)<1?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)})),c=s("easing.SlowMo",function(e,t,n){t=t||t===0?t:.7;e==null?e=.7:e>1&&(e=1);this._p=e!==1?t:0;this._p1=(1-e)/2;this._p2=e;this._p3=this._p1+this._p2;this._calcEnd=n===!0},!0),h=c.prototype=new e,p,d;h.constructor=c;h.getRatio=function(e){var t=e+(.5-e)*this._p;return e<this._p1?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t};c.ease=new c(.7,.7);h.config=c.config=function(e,t,n){return new c(e,t,n)};p=s("easing.SteppedEase",function(e){e=e||1;this._p1=1/e;this._p2=e+1},!0);h=p.prototype=new e;h.constructor=p;h.getRatio=function(e){e<0?e=0:e>=1&&(e=.999999999);return(this._p2*e>>0)*this._p1};h.config=p.config=function(e){return new p(e)};a("Bounce",o("BounceOut",function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}),o("BounceIn",function(e){return(e=1-e)<1/2.75?1-7.5625*e*e:e<2/2.75?1-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}),o("BounceInOut",function(e){var t=e<.5;t?e=1-e*2:e=e*2-1;e<1/2.75?e=7.5625*e*e:e<2/2.75?e=7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?e=7.5625*(e-=2.25/2.75)*e+.9375:e=7.5625*(e-=2.625/2.75)*e+.984375;return t?(1-e)*.5:e*.5+.5}));a("Circ",o("CircOut",function(e){return Math.sqrt(1-(e-=1)*e)}),o("CircIn",function(e){return-(Math.sqrt(1-e*e)-1)}),o("CircInOut",function(e){return(e*=2)<1?-0.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}));d=function(t,n,i){var o=s("easing."+t,function(e,t){this._p1=e||1;this._p2=t||i;this._p3=this._p2/r*(Math.asin(1/this._p1)||0)},!0),u=o.prototype=new e;u.constructor=o;u.getRatio=n;u.config=function(e,t){return new o(e,t)};return o};a("Elastic",d("ElasticOut",function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*r/this._p2)+1},.3),d("ElasticIn",function(e){return-(this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*r/this._p2))},.3),d("ElasticInOut",function(e){return(e*=2)<1?-0.5*this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*r/this._p2):this._p1*Math.pow(2,-10*(e-=1))*Math.sin((e-this._p3)*r/this._p2)*.5+1},.45));a("Expo",o("ExpoOut",function(e){return 1-Math.pow(2,-10*e)}),o("ExpoIn",function(e){return Math.pow(2,10*(e-1))-.001}),o("ExpoInOut",function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))}));a("Sine",o("SineOut",function(e){return Math.sin(e*i)}),o("SineIn",function(e){return-Math.cos(e*i)+1}),o("SineInOut",function(e){return-0.5*(Math.cos(Math.PI*e)-1)}));s("easing.EaseLookup",{find:function(t){return e.map[t]}},!0);u(t.SlowMo,"SlowMo","ease,");u(p,"SteppedEase","ease,");return l},!0)});(function(e){"use strict";var t=e.GreenSockGlobals||e,n=function(e){var n=e.split("."),r=t,i;for(i=0;i<n.length;i++)r[n[i]]=r=r[n[i]]||{};return r},r=n("com.greensock"),i=function(){},s,o,u,a,f,l={},c=function(r,i,s,o){this.sc=l[r]?l[r].sc:[];l[r]=this;this.gsClass=null;this.func=s;var u=[];this.check=function(a){var f=i.length,h=f,p,d,v,m;while(--f>-1)if((p=l[i[f]]||new c(i[f],[])).gsClass){u[f]=p.gsClass;h--}else a&&p.sc.push(this);if(h===0&&s){d=("com.greensock."+r).split(".");v=d.pop();m=n(d.join("."))[v]=this.gsClass=s.apply(s,u);if(o){t[v]=m;typeof define=="function"&&define.amd?define((e.GreenSockAMDPath?e.GreenSockAMDPath+"/":"")+r.split(".").join("/"),[],function(){return m}):typeof module!="undefined"&&module.exports&&(module.exports=m)}for(f=0;f<this.sc.length;f++)this.sc[f].check()}};this.check(!0)},h=e._gsDefine=function(e,t,n,r){return new c(e,t,n,r)},p=r._class=function(e,t,n){t=t||function(){};h(e,[],function(){return t},n);return t};h.globals=t;var d=[0,0,1,1],v=[],m=p("easing.Ease",function(e,t,n,r){this._func=e;this._type=n||0;this._power=r||0;this._params=t?d.concat(t):d},!0),g=m.map={},y=m.register=function(e,t,n,i){var s=t.split(","),o=s.length,u=(n||"easeIn,easeOut,easeInOut").split(","),a,f,l,c;while(--o>-1){f=s[o];a=i?p("easing."+f,null,!0):r.easing[f]||{};l=u.length;while(--l>-1){c=u[l];g[f+"."+c]=g[c+f]=a[c]=e.getRatio?e:e[c]||new e}}};u=m.prototype;u._calcEnd=!1;u.getRatio=function(e){if(this._func){this._params[0]=e;return this._func.apply(null,this._params)}var t=this._type,n=this._power,r=t===1?1-e:t===2?e:e<.5?e*2:(1-e)*2;n===1?r*=r:n===2?r*=r*r:n===3?r*=r*r*r:n===4&&(r*=r*r*r*r);return t===1?1-r:t===2?r:e<.5?r/2:1-r/2};s=["Linear","Quad","Cubic","Quart","Quint,Strong"];o=s.length;while(--o>-1){u=s[o]+",Power"+o;y(new m(null,null,1,o),u,"easeOut",!0);y(new m(null,null,2,o),u,"easeIn"+(o===0?",easeNone":""));y(new m(null,null,3,o),u,"easeInOut")}g.linear=r.easing.Linear.easeIn;g.swing=r.easing.Quad.easeInOut;var b=p("events.EventDispatcher",function(e){this._listeners={};this._eventTarget=e||this});u=b.prototype;u.addEventListener=function(e,t,n,r,i){i=i||0;var s=this._listeners[e],o=0,u,l;s==null&&(this._listeners[e]=s=[]);l=s.length;while(--l>-1){u=s[l];u.c===t&&u.s===n?s.splice(l,1):o===0&&u.pr<i&&(o=l+1)}s.splice(o,0,{c:t,s:n,up:r,pr:i});this===a&&!f&&a.wake()};u.removeEventListener=function(e,t){var n=this._listeners[e],r;if(n){r=n.length;while(--r>-1)if(n[r].c===t){n.splice(r,1);return}}};u.dispatchEvent=function(e){var t=this._listeners[e],n,r,i;if(t){n=t.length;r=this._eventTarget;while(--n>-1){i=t[n];i.up?i.c.call(i.s||r,{type:e,target:r}):i.c.call(i.s||r)}}};var w=e.requestAnimationFrame,E=e.cancelAnimationFrame,S=Date.now||function(){return(new Date).getTime()};s=["ms","moz","webkit","o"];o=s.length;while(--o>-1&&!w){w=e[s[o]+"RequestAnimationFrame"];E=e[s[o]+"CancelAnimationFrame"]||e[s[o]+"CancelRequestAnimationFrame"]}p("Ticker",function(e,t){var n=this,r=S(),s=t!==!1&&w,o,u,l,c,h,p=function(e){n.time=(S()-r)/1e3;if(!o||n.time>=h||e===!0){n.frame++;h=n.time+c;n.dispatchEvent("tick")}e!==!0&&(l=u(p))};b.call(n);this.time=this.frame=0;this.tick=function(){p(!0)};this.sleep=function(){if(l==null)return;!s||!E?clearTimeout(l):E(l);u=i;l=null;n===a&&(f=!1)};this.wake=function(){l&&n.sleep();u=o===0?i:!s||!w?function(e){return setTimeout(e,c*1e3)}:w;n===a&&(f=!0);p()};this.fps=function(e){if(!arguments.length)return o;o=e;c=1/(o||60);h=this.time+c;n.wake()};this.useRAF=function(e){if(!arguments.length)return s;s=e;n.fps(o)};n.fps(e);setTimeout(function(){s&&!l&&n.useRAF(!1)},1e3)});u=r.Ticker.prototype=new r.events.EventDispatcher;u.constructor=r.Ticker;var x=p("core.Animation",function(e,t){this.vars=t||{};this._duration=this._totalDuration=e||0;this._delay=Number(this.vars.delay)||0;this._timeScale=1;this._active=this.vars.immediateRender===!0;this.data=this.vars.data;this._reversed=this.vars.reversed===!0;if(!B)return;f||a.wake();var n=this.vars.useFrames?H:B;n.add(this,n._time);this.vars.paused&&this.paused(!0)});a=x.ticker=new r.Ticker;u=x.prototype;u._dirty=u._gc=u._initted=u._paused=!1;u._totalTime=u._time=0;u._rawPrevTime=-1;u._next=u._last=u._onUpdate=u._timeline=u.timeline=null;u._paused=!1;u.play=function(e,t){arguments.length&&this.seek(e,t);this.reversed(!1);return this.paused(!1)};u.pause=function(e,t){arguments.length&&this.seek(e,t);return this.paused(!0)};u.resume=function(e,t){arguments.length&&this.seek(e,t);return this.paused(!1)};u.seek=function(e,t){return this.totalTime(Number(e),t!==!1)};u.restart=function(e,t){this.reversed(!1);this.paused(!1);return this.totalTime(e?-this._delay:0,t!==!1)};u.reverse=function(e,t){arguments.length&&this.seek(e||this.totalDuration(),t);this.reversed(!0);return this.paused(!1)};u.render=function(){};u.invalidate=function(){return this};u._enabled=function(e,t){f||a.wake();this._gc=!e;this._active=e&&!this._paused&&this._totalTime>0&&this._totalTime<this._totalDuration;t!==!0&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0));return!1};u._kill=function(e,t){return this._enabled(!1,!1)};u.kill=function(e,t){this._kill(e,t);return this};u._uncache=function(e){var t=e?this:this.timeline;while(t){t._dirty=!0;t=t.timeline}return this};u.eventCallback=function(e,t,n,r){if(e==null)return null;if(e.substr(0,2)==="on"){var i=this.vars,s;if(arguments.length===1)return i[e];if(t==null)delete i[e];else{i[e]=t;i[e+"Params"]=n;i[e+"Scope"]=r;if(n){s=n.length;while(--s>-1)if(n[s]==="{self}"){n=i[e+"Params"]=n.concat();n[s]=this}}}e==="onUpdate"&&(this._onUpdate=t)}return this};u.delay=function(e){if(!arguments.length)return this._delay;this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay);this._delay=e;return this};u.duration=function(e){if(!arguments.length){this._dirty=!1;return this._duration}this._duration=this._totalDuration=e;this._uncache(!0);this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&e!==0&&this.totalTime(this._totalTime*(e/this._duration),!0);return this};u.totalDuration=function(e){this._dirty=!1;return arguments.length?this.duration(e):this._totalDuration};u.time=function(e,t){if(!arguments.length)return this._time;this._dirty&&this.totalDuration();e>this._duration&&(e=this._duration
);return this.totalTime(e,t)};u.totalTime=function(e,t){f||a.wake();if(!arguments.length)return this._totalTime;if(this._timeline){e<0&&(e+=this.totalDuration());if(this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,r=this._timeline;e>n&&(e=n);this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?n-e:e)/this._timeScale;r._dirty||this._uncache(!1);if(!r._active)while(r._timeline){r.totalTime(r._totalTime,!0);r=r._timeline}}this._gc&&this._enabled(!0,!1);this._totalTime!==e&&this.render(e,t,!1)}return this};u.startTime=function(e){if(!arguments.length)return this._startTime;if(e!==this._startTime){this._startTime=e;this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)}return this};u.timeScale=function(e){if(!arguments.length)return this._timeScale;e=e||1e-6;if(this._timeline&&this._timeline.smoothChildTiming){var t=this._pauseTime,n=t||t===0?t:this._timeline.totalTime();this._startTime=n-(n-this._startTime)*this._timeScale/e}this._timeScale=e;return this._uncache(!1)};u.reversed=function(e){if(!arguments.length)return this._reversed;if(e!=this._reversed){this._reversed=e;this.totalTime(this._totalTime,!0)}return this};u.paused=function(e){if(!arguments.length)return this._paused;if(e!=this._paused&&this._timeline){!f&&!e&&a.wake();var t=this._timeline.rawTime(),n=t-this._pauseTime;if(!e&&this._timeline.smoothChildTiming){this._startTime+=n;this._uncache(!1)}this._pauseTime=e?t:null;this._paused=e;this._active=!e&&this._totalTime>0&&this._totalTime<this._totalDuration;!e&&n!==0&&this.render(this._time,!0,!0)}this._gc&&!e&&this._enabled(!0,!1);return this};var T=p("core.SimpleTimeline",function(e){x.call(this,0,e);this.autoRemoveChildren=this.smoothChildTiming=!0});u=T.prototype=new x;u.constructor=T;u.kill()._gc=!1;u._first=u._last=null;u._sortChildren=!1;u.add=function(e,t,n,r){var i,s;e._startTime=Number(t||0)+e._delay;e._paused&&this!==e._timeline&&(e._pauseTime=e._startTime+(this.rawTime()-e._startTime)/e._timeScale);e.timeline&&e.timeline._remove(e,!0);e.timeline=e._timeline=this;e._gc&&e._enabled(!0,!0);i=this._last;if(this._sortChildren){s=e._startTime;while(i&&i._startTime>s)i=i._prev}if(i){e._next=i._next;i._next=e}else{e._next=this._first;this._first=e}e._next?e._next._prev=e:this._last=e;e._prev=i;this._timeline&&this._uncache(!0);return this};u.insert=u.add;u._remove=function(e,t){if(e.timeline===this){t||e._enabled(!1,!0);e.timeline=null;e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next);e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev);this._timeline&&this._uncache(!0)}return this};u.render=function(e,t,n){var r=this._first,i;this._totalTime=this._time=this._rawPrevTime=e;while(r){i=r._next;if(r._active||e>=r._startTime&&!r._paused)r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,n):r.render((e-r._startTime)*r._timeScale,t,n);r=i}};u.rawTime=function(){f||a.wake();return this._totalTime};var N=p("TweenLite",function(e,t,n){x.call(this,t,n);if(e==null)throw"Cannot tween a null target.";this.target=e=typeof e!="string"?e:N.selector(e)||e;var r=e.jquery||typeof e.each=="function"&&e[0]&&e[0].nodeType&&e[0].style,i=this.vars.overwrite,s,o,u;this._overwrite=i=i==null?P[N.defaultOverwrite]:typeof i=="number"?i>>0:P[i];if((r||e instanceof Array)&&typeof e[0]!="number"){this._targets=u=r&&!e.slice?k(e):e.slice(0);this._propLookup=[];this._siblings=[];for(s=0;s<u.length;s++){o=u[s];if(!o){u.splice(s--,1);continue}if(typeof o=="string"){o=u[s--]=N.selector(o);typeof o=="string"&&u.splice(s+1,1);continue}if(typeof o.each=="function"&&o[0]&&o[0].nodeType&&o[0].style){u.splice(s--,1);this._targets=u=u.concat(k(o));continue}this._siblings[s]=j(o,this,!1);i===1&&this._siblings[s].length>1&&F(o,this,null,1,this._siblings[s])}}else{this._propLookup={};this._siblings=j(e,this,!1);i===1&&this._siblings.length>1&&F(e,this,null,1,this._siblings)}(this.vars.immediateRender||t===0&&this._delay===0&&this.vars.immediateRender!==!1)&&this.render(-this._delay,!1,!0)},!0),C=function(e){return typeof e.each=="function"&&e[0]&&e[0].nodeType&&e[0].style},k=function(e){var t=[];e.each(function(){t.push(this)});return t},L=function(e,t){var n={},r;for(r in e)if(!D[r]&&(!(r in t)||r==="x"||r==="y"||r==="width"||r==="height"||r==="className")&&(!O[r]||O[r]&&O[r]._autoCSS)){n[r]=e[r];delete e[r]}e.css=n};u=N.prototype=new x;u.constructor=N;u.kill()._gc=!1;u.ratio=0;u._firstPT=u._targets=u._overwrittenProps=u._startAt=null;u._notifyPluginsOfEnabled=!1;N.version="1.9.2";N.defaultEase=u._ease=new m(null,null,1,1);N.defaultOverwrite="auto";N.ticker=a;N.autoSleep=!0;N.selector=e.$||e.jQuery||function(t){if(e.$){N.selector=e.$;return e.$(t)}return e.document?e.document.getElementById(t.charAt(0)==="#"?t.substr(1):t):t};var A=N._internals={},O=N._plugins={},M=N._tweenLookup={},_=0,D=A.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,orientToBezier:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1},P={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},H=x._rootFramesTimeline=new T,B=x._rootTimeline=new T;B._startTime=a.time;H._startTime=a.frame;B._active=H._active=!0;x._updateRoot=function(){B.render((a.time-B._startTime)*B._timeScale,!1,!1);H.render((a.frame-H._startTime)*H._timeScale,!1,!1);if(!(a.frame%120)){var e,t,n;for(n in M){t=M[n].tweens;e=t.length;while(--e>-1)t[e]._gc&&t.splice(e,1);t.length===0&&delete M[n]}n=B._first;if(!n||n._paused)if(N.autoSleep&&!H._first&&a._listeners.tick.length===1){while(n&&n._paused)n=n._next;n||a.sleep()}}};a.addEventListener("tick",x._updateRoot);var j=function(e,t,n){var r=e._gsTweenID,i,s;M[r||(e._gsTweenID=r="t"+_++)]||(M[r]={target:e,tweens:[]});if(t){i=M[r].tweens;i[s=i.length]=t;if(n)while(--s>-1)i[s]===t&&i.splice(s,1)}return M[r].tweens},F=function(e,t,n,r,i){var s,o,u,a;if(r===1||r>=4){a=i.length;for(s=0;s<a;s++)if((u=i[s])!==t)u._gc||u._enabled(!1,!1)&&(o=!0);else if(r===5)break;return o}var f=t._startTime+1e-10,l=[],c=0,h=t._duration===0,p;s=i.length;while(--s>-1)if((u=i[s])!==t&&!u._gc&&!u._paused)if(u._timeline!==t._timeline){p=p||I(t,0,h);I(u,p,h)===0&&(l[c++]=u)}else u._startTime<=f&&u._startTime+u.totalDuration()/u._timeScale+1e-10>f&&((h||!u._initted)&&f-u._startTime<=2e-10||(l[c++]=u));s=c;while(--s>-1){u=l[s];r===2&&u._kill(n,e)&&(o=!0);(r!==2||!u._firstPT&&u._initted)&&u._enabled(!1,!1)&&(o=!0)}return o},I=function(e,t,n){var r=e._timeline,i=r._timeScale,s=e._startTime;while(r._timeline){s+=r._startTime;i*=r._timeScale;if(r._paused)return-100;r=r._timeline}s/=i;return s>t?s-t:n&&s===t||!e._initted&&s-t<2e-10?1e-10:(s+=e.totalDuration()/e._timeScale/i)>t?0:s-t-1e-10};u._init=function(){var e=this.vars,t=this._overwrittenProps,n=this._duration,r=e.ease,i,s,o;if(e.startAt){e.startAt.overwrite=0;e.startAt.immediateRender=!0;this._startAt=N.to(this.target,0,e.startAt);if(e.immediateRender){this._startAt=null;if(this._time===0&&n!==0)return}}else if(e.runBackwards&&e.immediateRender&&n!==0)if(this._startAt){this._startAt.render(-1,!0);this._startAt=null}else if(this._time===0){e.overwrite=e.delay=0;e.runBackwards=!1;this._startAt=N.to(this.target,0,e);e.overwrite=this._overwrite;e.runBackwards=!0;e.delay=this._delay;return}r?r instanceof m?this._ease=e.easeParams instanceof Array?r.config.apply(r,e.easeParams):r:this._ease=typeof r=="function"?new m(r,e.easeParams):g[r]||N.defaultEase:this._ease=N.defaultEase;this._easeType=this._ease._type;this._easePower=this._ease._power;this._firstPT=null;if(this._targets){i=this._targets.length;while(--i>-1)this._initProps(this._targets[i],this._propLookup[i]={},this._siblings[i],t?t[i]:null)&&(s=!0)}else s=this._initProps(this.target,this._propLookup,this._siblings,t);s&&N._onPluginEvent("_onInitAllProps",this);t&&(this._firstPT||typeof this.target!="function"&&this._enabled(!1,!1));if(e.runBackwards){o=this._firstPT;while(o){o.s+=o.c;o.c=-o.c;o=o._next}}this._onUpdate=e.onUpdate;this._initted=!0};u._initProps=function(e,t,n,r){var i,s,o,u,a,f,l;if(e==null)return!1;this.vars.css||e.style&&e.nodeType&&O.css&&this.vars.autoCSS!==!1&&L(this.vars,e);for(i in this.vars){if(D[i]){if(i==="onStartParams"||i==="onUpdateParams"||i==="onCompleteParams"||i==="onReverseCompleteParams"||i==="onRepeatParams")if(a=this.vars[i]){s=a.length;while(--s>-1)if(a[s]==="{self}"){a=this.vars[i]=a.concat();a[s]=this}}}else if(O[i]&&(u=new O[i])._onInitTween(e,this.vars[i],this)){this._firstPT=f={_next:this._firstPT,t:u,p:"setRatio",s:0,c:1,f:!0,n:i,pg:!0,pr:u._priority};s=u._overwriteProps.length;while(--s>-1)t[u._overwriteProps[s]]=this._firstPT;if(u._priority||u._onInitAllProps)o=!0;if(u._onDisable||u._onEnable)this._notifyPluginsOfEnabled=!0}else{this._firstPT=t[i]=f={_next:this._firstPT,t:e,p:i,f:typeof e[i]=="function",n:i,pg:!1,pr:0};f.s=f.f?e[i.indexOf("set")||typeof e["get"+i.substr(3)]!="function"?i:"get"+i.substr(3)]():parseFloat(e[i]);l=this.vars[i];f.c=typeof l=="string"&&l.charAt(1)==="="?parseInt(l.charAt(0)+"1",10)*Number(l.substr(2)):Number(l)-f.s||0}f&&f._next&&(f._next._prev=f)}if(r&&this._kill(r,e))return this._initProps(e,t,n,r);if(this._overwrite>1&&this._firstPT&&n.length>1&&F(e,this,t,this._overwrite,n)){this._kill(t,e);return this._initProps(e,t,n,r)}return o};u.render=function(e,t,n){var r=this._time,i,s,o;if(e>=this._duration){this._totalTime=this._time=this._duration;this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1;if(!this._reversed){i=!0;s="onComplete"}if(this._duration===0){(e===0||this._rawPrevTime<0)&&this._rawPrevTime!==e&&(n=!0);this._rawPrevTime=e}}else if(e<1e-7){this._totalTime=this._time=0;this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0;if(r!==0||this._duration===0&&this._rawPrevTime>0){s="onReverseComplete";i=this._reversed}if(e<0){this._active=!1;if(this._duration===0){this._rawPrevTime>=0&&(n=!0);this._rawPrevTime=e}}else this._initted||(n=!0)}else{this._totalTime=this._time=e;if(this._easeType){var u=e/this._duration,a=this._easeType,f=this._easePower;if(a===1||a===3&&u>=.5)u=1-u;a===3&&(u*=2);f===1?u*=u:f===2?u*=u*u:f===3?u*=u*u*u:f===4&&(u*=u*u*u*u);a===1?this.ratio=1-u:a===2?this.ratio=u:e/this._duration<.5?this.ratio=u/2:this.ratio=1-u/2}else this.ratio=this._ease.getRatio(e/this._duration)}if(this._time===r&&!n)return;if(!this._initted){this._init();if(!this._initted)return;this._time&&!i?this.ratio=this._ease.getRatio(this._time/this._duration):i&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(this._time===0?0:1))}this._active||this._paused||(this._active=!0);if(r===0){this._startAt&&(e>=0?this._startAt.render(e,t,n):s||(s="_dummyGS"));this.vars.onStart&&(this._time!==0||this._duration===0)&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||v))}o=this._firstPT;while(o){o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s;o=o._next}if(this._onUpdate){e<0&&this._startAt&&this._startAt.render(e,t,n);t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||v)}if(s&&!this._gc){e<0&&this._startAt&&!this._onUpdate&&this._startAt.render(e,t,n);if(i){this._timeline.autoRemoveChildren&&this._enabled(!1,!1);this._active=!1}!t&&this.vars[s]&&this.vars[s].apply(this.vars[s+"Scope"]||this,this.vars[s+"Params"]||v)}};u._kill=function(e,t){e==="all"&&(e=null);if(e==null)if(t==null||t===this.target)return this._enabled(!1,!1);t=typeof t!="string"?t||this._targets||this.target:N.selector(t)||t;var n,r,i,s,o,u,a,f;if((t instanceof Array||C(t))&&typeof t[0]!="number"){n=t.length;while(--n>-1)this._kill(e,t[n])&&(u=!0)}else{if(this._targets){n=this._targets.length;while(--n>-1)if(t===this._targets[n]){o=this._propLookup[n]||{};this._overwrittenProps=this._overwrittenProps||[];r=this._overwrittenProps[n]=e?this._overwrittenProps[n]||{}:"all";break}}else{if(t!==this.target)return!1;o=this._propLookup;r=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(o){a=e||o;f=e!==r&&r!=="all"&&e!==o&&(e==null||e._tempKill!==!0);for(i in a){if(s=o[i]){s.pg&&s.t._kill(a)&&(u=!0);if(!s.pg||s.t._overwriteProps.length===0){s._prev?s._prev._next=s._next:s===this._firstPT&&(this._firstPT=s._next);s._next&&(s._next._prev=s._prev);s._next=s._prev=null}delete o[i]}f&&(r[i]=1)}this._firstPT||this._enabled(!1,!1)}}return u};u.invalidate=function(){this._notifyPluginsOfEnabled&&N._onPluginEvent("_onDisable",this);this._firstPT=null;this._overwrittenProps=null;this._onUpdate=null;this._startAt=null;this._initted=this._active=this._notifyPluginsOfEnabled=!1;this._propLookup=this._targets?{}:[];return this};u._enabled=function(e,t){f||a.wake();if(e&&this._gc){var n=this._targets,r;if(n){r=n.length;while(--r>-1)this._siblings[r]=j(n[r],this,!0)}else this._siblings=j(this.target,this,!0)}x.prototype._enabled.call(this,e,t);return this._notifyPluginsOfEnabled&&this._firstPT?N._onPluginEvent(e?"_onEnable":"_onDisable",this):!1};N.to=function(e,t,n){return new N(e,t,n)};N.from=function(e,t,n){n.runBackwards=!0;n.immediateRender=n.immediateRender!=0;return new N(e,t,n)};N.fromTo=function(e,t,n,r){r.startAt=n;r.immediateRender=r.immediateRender!=0&&n.immediateRender!=0;return new N(e,t,r)};N.delayedCall=function(e,t,n,r,i){return new N(t,0,{delay:e,onComplete:t,onCompleteParams:n,onCompleteScope:r,onReverseComplete:t,onReverseCompleteParams:n,onReverseCompleteScope:r,immediateRender:!1,useFrames:i,overwrite:0})};N.set=function(e,t){return new N(e,0,t)};N.killTweensOf=N.killDelayedCallsTo=function(e,t){var n=N.getTweensOf(e),r=n.length;while(--r>-1)n[r]._kill(t,e)};N.getTweensOf=function(e){if(e==null)return;e=typeof e!="string"?e:N.selector(e)||e;var t,n,r,i;if((e instanceof Array||C(e))&&typeof e[0]!="number"){t=e.length;n=[];while(--t>-1)n=n.concat(N.getTweensOf(e[t]));t=n.length;while(--t>-1){i=n[t];r=t;while(--r>-1)i===n[r]&&n.splice(t,1)}}else{n=j(e).concat();t=n.length;while(--t>-1)n[t]._gc&&n.splice(t,1)}return n};var q=p("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(",");this._propName=this._overwriteProps[0];this._priority=t||0;this._super=q.prototype},!0);u=q.prototype;q.version="1.9.1";q.API=2;u._firstPT=null;u._addTween=function(e,t,n,r,i,s){var o,u;if(r!=null&&(o=typeof r=="number"||r.charAt(1)!=="="?Number(r)-n:parseInt(r.charAt(0)+"1",10)*Number(r.substr(2)))){this._firstPT=u={_next:this._firstPT,t:e,p:t,s:n,c:o,f:typeof e[t]=="function",n:i||t,r:s};u._next&&(u._next._prev=u)}};u.setRatio=function(e){var t=this._firstPT,n=1e-6,r;while(t){r=t.c*e+t.s;t.r?r=r+(r>0?.5:-0.5)>>0:r<n&&r>-n&&(r=0);t.f?t.t[t.p](r):t.t[t.p]=r;t=t._next}};u._kill=function(e){var t=this._overwriteProps,n=this._firstPT,r;if(e[this._propName]!=null)this._overwriteProps=[];else{r=t.length;while(--r>-1)e[t[r]]!=null&&t.splice(r,1)}while(n){if(e[n.n]!=null){n._next&&(n._next._prev=n._prev);if(n._prev){n._prev._next=n._next;n._prev=null}else this._firstPT===n&&(this._firstPT=n._next)}n=n._next}return!1};u._roundProps=function(e,t){var n=this._firstPT;while(n){if(e[this._propName]||n.n!=null&&e[n.n.split(this._propName+"_").join("")])n.r=t;n=n._next}};N._onPluginEvent=function(e,t){var n=t._firstPT,r,i,s,o,u;if(e==="_onInitAllProps"){while(n){u=n._next;i=s;while(i&&i.pr>n.pr)i=i._next;(n._prev=i?i._prev:o)?n._prev._next=n:s=n;(n._next=i)?i._prev=n:o=n;n=u}n=t._firstPT=s}while(n){n.pg&&typeof n.t[e]=="function"&&n.t[e]()&&(r=!0);n=n._next}return r};q.activate=function(e){var t=e.length;while(--t>-1)e[t].API===q.API&&(O[(new e[t])._propName]=e[t]);return!0};h.plugin=function(e){if(!e||!e.propName||!e.init||!e.API)throw"illegal plugin definition.";var t=e.propName,n=e.priority||0,r=e.overwriteProps,i={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},s=p("plugins."+t.charAt(0).toUpperCase()+t.substr(1)+"Plugin",function(){q.call(this,t,n);this._overwriteProps=r||[]},e.global===!0),o=s.prototype=new q(t),u;o.constructor=s;s.API=e.API;for(u in i)typeof e[u]=="function"&&(o[i[u]]=e[u]);s.version=e.version;q.activate([s]);return s};s=e._gsQueue;if(s){for(o=0;o<s.length;o++)s[o]();for(u in l)l[u].func||e.console.log("GSAP encountered missing dependency: com.greensock."+u)}f=!1})(window);(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";var e=/[^\d\-\.]/g,t=Math.PI/180,n=/(\d|\.)+/g,r={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},i=function(e){if(typeof e=="number")return[e>>16,e>>8&255,e&255];if(e===""||e==null||e==="none"||typeof e!="string")return r.transparent;if(r[e])return r[e];if(e.charAt(0)==="#"){e.length===4&&(e="#"+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)+e.charAt(3)+e.charAt(3));e=parseInt(e.substr(1),16);return[e>>16,e>>8&255,e&255]}return e.match(n)||r.transparent},s={scaleX:1,scaleY:1,tx:1,ty:1,rotation:1,shortRotation:1,skewX:1,skewY:1,scale:1},o=function(e,t){var n=e.matrix,r=1e-6,i=n.a,s=n.b,o=n.c,u=n.d,a=t?e._gsTransform||{skewY:0}:{skewY:0},f=a.scaleX<0;a.tx=n.e-(a.ox||0);a.ty=n.f-(a.oy||0);a.scaleX=Math.sqrt(i*i+s*s);a.scaleY=Math.sqrt(u*u+o*o);a.rotation=i||s?Math.atan2(s,i):a.rotation||0;a.skewX=o||u?Math.atan2(o,u)+a.rotation:a.skewX||0;if(Math.abs(a.skewX)>Math.PI/2)if(f){a.scaleX*=-1;a.skewX+=a.rotation<=0?Math.PI:-Math.PI;a.rotation+=a.rotation<=0?Math.PI:-Math.PI}else{a.scaleY*=-1;a.skewX+=a.skewX<=0?Math.PI:-Math.PI}a.rotation<r&&a.rotation>-r&&(i||s)&&(a.rotation=0);a.skewX<r&&a.skewX>-r&&(s||o)&&(a.skewX=0);t&&(e._gsTransform=a);return a},u=function(e,t){return e==null?t:typeof e=="string"&&e.indexOf("=")===1?parseInt(e.charAt(0)+"1",10)*Number(e.substr(2))+t:Number(e)},a=function(n,r){var i=n.indexOf("rad")===-1?t:1,s=n.indexOf("=")===1;n=Number(n.replace(e,""))*i;return s?n+r:n},f=window._gsDefine.plugin({propName:"raphael",API:2,init:function(t,n,r){if(!t.attr)return!1;this._target=t;this._tween=r;this._props=t._gsProps=t._gsProps||{};var o,u,a,f,l,c,h;for(o in n){a=n[o];if(o==="transform"){this._parseTransform(t,a);continue}if(s[o]||o==="pivot"){this._parseTransform(t,n);continue}u=t.attr(o);this._firstPT=f={_next:this._firstPT,t:this._props,p:o,b:u,f:!1,n:"raphael_"+o,r:!1,type:0};if(o==="fill"||o==="stroke"){l=i(u);c=i(a);f.e=a;f.s=Number(l[0]);f.c=Number(c[0])-f.s;f.gs=Number(l[1]);f.gc=Number(c[1])-f.gs;f.bs=Number(l[2]);f.bc=Number(c[2])-f.bs;if(l.length>3||c.length>3){f.as=l.length<4?1:Number(l[3]);f.ac=(c.length<4?1:Number(c[3]))-f.as;f.type=2}else f.type=1}else{u=typeof u=="string"?parseFloat(u.replace(e,"")):Number(u);if(typeof a=="string"){h=a.charAt(1)==="=";a=parseFloat(a.replace(e,""))}else h=!1;f.e=a||a===0?h?a+u:a:n[o];if(!u&&u!==0||!a&&a!==0||!(f.c=h?a:a-u)){f.type=-1;f.i=n[o];f.s=f.c=0}else f.s=u}this._overwriteProps.push("raphael_"+o);f._next&&(f._next._prev=f)}return!0},set:function(e){var t=this._firstPT,n;while(t){n=t.c*e+t.s;t.r&&(n=n>0?n+.5>>0:n-.5>>0);t.type?t.type===1?t.t[t.p]="rgb("+(n>>0)+", "+(t.gs+e*t.gc>>0)+", "+(t.bs+e*t.bc>>0)+")":t.type===2?t.t[t.p]="rgba("+(n>>0)+", "+(t.gs+e*t.gc>>0)+", "+(t.bs+e*t.bc>>0)+", "+(t.as+e*t.ac)+")":t.type===-1&&(t.t[t.p]=t.i):t.t[t.p]=n;t=t._next}this._target.attr(this._props);if(this._transform){t=this._transform;var r=t.rotation,i=r-t.skewX,s=Math.cos(r)*t.scaleX,o=Math.sin(r)*t.scaleX,u=Math.sin(i)*-t.scaleY,a=Math.cos(i)*t.scaleY,f=1e-6,l=this._pxl,c=this._pyl;o<f&&o>-f&&(o=0);u<f&&u>-f&&(u=0);t.ox=this._pxg-(l*s+c*u);t.oy=this._pyg-(l*o+c*a);this._target.transform("m"+s+","+o+","+u+","+a+","+(t.tx+t.ox)+","+(t.ty+t.oy))}}}),l=f.prototype;l._parseTransform=function(e,n){if(this._transform)return;var r=this._transform=o(e,!0),i=1e-6,f,l,c,h,p,d,v,m,g;if(typeof n=="object"){f={scaleX:u(n.scaleX!=null?n.scaleX:n.scale,r.scaleX),scaleY:u(n.scaleY!=null?n.scaleY:n.scale,r.scaleY),tx:u(n.tx,r.tx),ty:u(n.ty,r.ty)};if(n.shortRotation!=null){f.rotation=typeof n.shortRotation=="number"?n.shortRotation*t:a(n.shortRotation,r.rotation);var y=(f.rotation-r.rotation)%(Math.PI*2);y!==y%Math.PI&&(y+=Math.PI*(y<0?2:-2));f.rotation=r.rotation+y}else f.rotation=n.rotation==null?r.rotation:typeof n.rotation=="number"?n.rotation*t:a(n.rotation,r.rotation);f.skewX=n.skewX==null?r.skewX:typeof n.skewX=="number"?n.skewX*t:a(n.skewX,r.skewX);f.skewY=n.skewY==null?r.skewY:typeof n.skewY=="number"?n.skewY*t:a(n.skewY,r.skewY);if(l=f.skewY-r.skewY){f.skewX+=l;f.rotation+=l}f.skewY<i&&f.skewY>-i&&(f.skewY=0);f.skewX<i&&f.skewX>-i&&(f.skewX=0);f.rotation<i&&f.rotation>-i&&(f.rotation=0);g=n.localPivot||n.globalPivot;if(typeof g=="string"){p=g.split(",");d=Number(p[0]);v=Number(p[1])}else if(typeof g=="object"){d=Number(g.x);v=Number(g.y)}else if(n.localPivot){p=e.getBBox(!0);d=p.width/2;v=p.height/2}else{p=e.getBBox();d=p.x+p.width/2;v=p.y+p.height/2}if(n.localPivot){m=e.matrix;d+=e.attr("x");v+=e.attr("y");this._pxl=d;this._pyl=v;this._pxg=d*m.a+v*m.c+m.e-r.tx;this._pyg=d*m.b+v*m.d+m.f-r.ty}else{m=e.matrix.invert();this._pxl=d*m.a+v*m.c+m.e;this._pyl=d*m.b+v*m.d+m.f;this._pxg=d-r.tx;this._pyg=v-r.ty}}else{if(typeof n!="string")return;p=this._target.transform();e.transform(n);f=o(e,!1);e.transform(p)}for(c in s)if(r[c]!==f[c]&&c!=="shortRotation"&&c!=="scale"){this._firstPT=h={_next:this._firstPT,t:r,p:c,s:r[c],c:f[c]-r[c],n:c,f:!1,r:!1,b:r[c],e:f[c],type:0};h._next&&(h._next._prev=h);this._overwriteProps.push("raphael_"+c)}}});window._gsDefine&&window._gsQueue.pop()();(function(e){var t="0.3.4",n="hasOwnProperty",r=/[\.\/]/,i="*",s=function(){},o=function(e,t){return e-t},u,a,f={n:{}},l=function(e,t){var n=f,r=a,i=Array.prototype.slice.call(arguments,2),s=l.listeners(e),c=0,h=!1,p,d=[],v={},m=[],g=u,y=[];u=e;a=0;for(var b=0,w=s.length;b<w;b++)if("zIndex"in s[b]){d.push(s[b].zIndex);s[b].zIndex<0&&(v[s[b].zIndex]=s[b])}d.sort(o);while(d[c]<0){p=v[d[c++]];m.push(p.apply(t,i));if(a){a=r;return m}}for(b=0;b<w;b++){p=s[b];if("zIndex"in p)if(p.zIndex==d[c]){m.push(p.apply(t,i));if(a)break;do{c++;p=v[d[c]];p&&m.push(p.apply(t,i));if(a)break}while(p)}else v[p.zIndex]=p;else{m.push(p.apply(t,i));if(a)break}}a=r;u=g;return m.length?m:null};l.listeners=function(e){var t=e.split(r),n=f,s,o,u,a,l,c,h,p,d=[n],v=[];for(a=0,l=t.length;a<l;a++){p=[];for(c=0,h=d.length;c<h;c++){n=d[c].n;o=[n[t[a]],n[i]];u=2;while(u--){s=o[u];if(s){p.push(s);v=v.concat(s.f||[])}}}d=p}return v};l.on=function(e,t){var n=e.split(r),i=f;for(var o=0,u=n.length;o<u;o++){i=i.n;!i[n[o]]&&(i[n[o]]={n:{}});i=i[n[o]]}i.f=i.f||[];for(o=0,u=i.f.length;o<u;o++)if(i.f[o]==t)return s;i.f.push(t);return function(e){+e==+e&&(t.zIndex=+e)}};l.stop=function(){a=1};l.nt=function(e){return e?(new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)")).test(u):u};l.off=l.unbind=function(e,t){var s=e.split(r),o,u,a,l,c,h,p,d=[f];for(l=0,c=s.length;l<c;l++)for(h=0;h<d.length;h+=a.length-2){a=[h,1];o=d[h].n;if(s[l]!=i)o[s[l]]&&a.push(o[s[l]]);else for(u in o)o[n](u)&&a.push(o[u]);d.splice.apply(d,a)}for(l=0,c=d.length;l<c;l++){o=d[l];while(o.n){if(t){if(o.f){for(h=0,p=o.f.length;h<p;h++)if(o.f[h]==t){o.f.splice(h,1);break}!o.f.length&&delete o.f}for(u in o.n)if(o.n[n](u)&&o.n[u].f){var v=o.n[u].f;for(h=0,p=v.length;h<p;h++)if(v[h]==t){v.splice(h,1);break}!v.length&&delete o.n[u].f}}else{delete o.f;for(u in o.n)o.n[n](u)&&o.n[u].f&&delete o.n[u].f}o=o.n}}};l.once=function(e,t){var n=function(){var r=t.apply(this,arguments);l.unbind(e,n);return r};return l.on(e,n)};l.version=t;l.toString=function(){return"You are running Eve "+t};typeof module!="undefined"&&module.exports?module.exports=l:typeof define!="undefined"?define("eve",[],function(){return l}):e.eve=l})(this);(function(){function e(n){if(e.is(n,"function"))return t?n():eve.on("raphael.DOMload",n);if(e.is(n,O))return e._engine.create[h](e,n.splice(0,3+e.is(n[0],L))).add(n);var r=Array.prototype.slice.call(arguments,0);if(e.is(r[r.length-1],"function")){var i=r.pop();return t?i.call(e._engine.create[h](e,r)):eve.on("raphael.DOMload",function(){i.call(e._engine.create[h](e,r))})}return e._engine.create[h](e,arguments)}function ht(e){if(Object(e)!==e)return e;var t=new e.constructor;for(var n in e)e[o](n)&&(t[n]=ht(e[n]));return t}function wt(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return e.push(e.splice(n,1)[0])}function Et(e,t,n){function r(){var i=Array.prototype.slice.call(arguments,0),s=i.join(""),u=r.cache=r.cache||{},a=r.count=r.count||[];if(u[o](s)){wt(a,s);return n?n(u[s]):u[s]}a.length>=1e3&&delete u[a.shift()];a.push(s);u[s]=e[h](t,i);return n?n(u[s]):u[s]}return r}function xt(){return this.hex}function Tt(e,t){var n=[];for(var r=0,i=e.length;i-2*!t>r;r+=2){var s=[{x:+e[r-2],y:+e[r-1]},{x:+e[r],y:+e[r+1]},{x:+e[r+2],y:+e[r+3]},{x:+e[r+4],y:+e[r+5]}];if(t){if(!r)s[0]={x:+e[i-2],y:+e[i-1]};else if(i-4==r)s[3]={x:+e[0],y:+e[1]};else if(i-2==r){s[2]={x:+e[0],y:+e[1]};s[3]={x:+e[2],y:+e[3]}}}else i-4==r?s[3]=s[2]:r||(s[0]={x:+e[r],y:+e[r+1]});n.push(["C",(-s[0].x+6*s[1].x+s[2].x)/6,(-s[0].y+6*s[1].y+s[2].y)/6,(s[1].x+6*s[2].x-s[3].x)/6,(s[1].y+6*s[2].y-s[3].y)/6,s[2].x,s[2].y])}return n}function Ct(e,t,n,r,i){var s=-3*t+9*n-9*r+3*i,o=e*s+6*t-12*n+6*r;return e*o-3*t+3*n}function kt(e,t,n,r,i,s,o,u,a){a==null&&(a=1);a=a>1?1:a<0?0:a;var f=a/2,l=12,c=[-0.1252,.1252,-0.3678,.3678,-0.5873,.5873,-0.7699,.7699,-0.9041,.9041,-0.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0;for(var d=0;d<l;d++){var v=f*c[d]+f,m=Ct(v,e,n,i,o),g=Ct(v,t,r,s,u),y=m*m+g*g;p+=h[d]*S.sqrt(y)}return f*p}function Lt(e,t,n,r,i,s,o,u,a){if(a<0||kt(e,t,n,r,i,s,o,u)<a)return;var f=1,l=f/2,c=f-l,h,p=.01;h=kt(e,t,n,r,i,s,o,u,c);while(N(h-a)>p){l/=2;c+=(h<a?1:-1)*l;h=kt(e,t,n,r,i,s,o,u,c)}return c}function At(e,t,n,r,i,s,o,u){if(x(e,n)<T(i,o)||T(e,n)>x(i,o)||x(t,r)<T(s,u)||T(t,r)>x(s,u))return;var a=(e*r-t*n)*(i-o)-(e-n)*(i*u-s*o),f=(e*r-t*n)*(s-u)-(t-r)*(i*u-s*o),l=(e-n)*(s-u)-(t-r)*(i-o);if(!l)return;var c=a/l,h=f/l,p=+c.toFixed(2),d=+h.toFixed(2);if(p<+T(e,n).toFixed(2)||p>+x(e,n).toFixed(2)||p<+T(i,o).toFixed(2)||p>+x(i,o).toFixed(2)||d<+T(t,r).toFixed(2)||d>+x(t,r).toFixed(2)||d<+T(s,u).toFixed(2)||d>+x(s,u).toFixed(2))return;return{x:c,y:h}}function Ot(e,t){return _t(e,t)}function Mt(e,t){return _t(e,t,1)}function _t(t,n,r){var i=e.bezierBBox(t),s=e.bezierBBox(n);if(!e.isBBoxIntersect(i,s))return r?0:[];var o=kt.apply(0,t),u=kt.apply(0,n),a=~~(o/5),f=~~(u/5),l=[],c=[],h={},p=r?0:[];for(var d=0;d<a+1;d++){var v=e.findDotsAtSegment.apply(e,t.concat(d/a));l.push({x:v.x,y:v.y,t:d/a})}for(d=0;d<f+1;d++){v=e.findDotsAtSegment.apply(e,n.concat(d/f));c.push({x:v.x,y:v.y,t:d/f})}for(d=0;d<a;d++)for(var m=0;m<f;m++){var g=l[d],y=l[d+1],b=c[m],w=c[m+1],E=N(y.x-g.x)<.001?"y":"x",S=N(w.x-b.x)<.001?"y":"x",x=At(g.x,g.y,y.x,y.y,b.x,b.y,w.x,w.y);if(x){if(h[x.x.toFixed(4)]==x.y.toFixed(4))continue;h[x.x.toFixed(4)]=x.y.toFixed(4);var T=g.t+N((x[E]-g[E])/(y[E]-g[E]))*(y.t-g.t),C=b.t+N((x[S]-b[S])/(w[S]-b[S]))*(w.t-b.t);T>=0&&T<=1&&C>=0&&C<=1&&(r?p++:p.push({x:x.x,y:x.y,t1:T,t2:C}))}}return p}function Dt(t,n,r){t=e._path2curve(t);n=e._path2curve(n);var i,s,o,u,a,f,l,c,h,p,d=r?0:[];for(var v=0,m=t.length;v<m;v++){var g=t[v];if(g[0]=="M"){i=a=g[1];s=f=g[2]}else{if(g[0]=="C"){h=[i,s].concat(g.slice(1));i=h[6];s=h[7]}else{h=[i,s,i,s,a,f,a,f];i=a;s=f}for(var y=0,b=n.length;y<b;y++){var w=n[y];if(w[0]=="M"){o=l=w[1];u=c=w[2]}else{if(w[0]=="C"){p=[o,u].concat(w.slice(1));o=p[6];u=p[7]}else{p=[o,u,o,u,l,c,l,c];o=l;u=c}var E=_t(h,p,r);if(r)d+=E;else{for(var S=0,x=E.length;S<x;S++){E[S].segment1=v;E[S].segment2=y;E[S].bez1=h;E[S].bez2=p}d=d.concat(E)}}}}}return d}function tn(e,t,n,r,i,s){if(e!=null){this.a=+e;this.b=+t;this.c=+n;this.d=+r;this.e=+i;this.f=+s}else{this.a=1;this.b=0;this.c=0;this.d=1;this.e=0;this.f=0}}function mn(){return this.x+m+this.y}function gn(){return this.x+m+this.y+m+this.width+"  "+this.height}function An(e,t,n,r,i,s){function h(e){return((a*e+u)*e+o)*e}function p(e,t){var n=d(e,t);return((c*n+l)*n+f)*n}function d(e,t){var n,r,i,s,f,l;for(i=e,l=0;l<8;l++){s=h(i)-e;if(N(s)<t)return i;f=(3*a*i+2*u)*i+o;if(N(f)<1e-6)break;i-=s/f}n=0;r=1;i=e;if(i<n)return n;if(i>r)return r;while(n<r){s=h(i);if(N(s-e)<t)return i;e>s?n=i:r=i;i=(r-n)/2+n}return i}var o=3*t,u=3*(r-t)-o,a=1-o-u,f=3*n,l=3*(i-n)-f,c=1-f-l;return p(e,1/(200*s))}function On(e,t){var n=[],r={};this.ms=t;this.times=1;if(e){for(var i in e)if(e[o](i)){r[U(i)]=e[i];n.push(U(i))}n.sort(rt)}this.anim=r;this.top=n[n.length-1];this.percents=n}function Mn(t,r,i,s,u,a){i=U(i);var f,l,c,h=[],d,v,m,b=t.ms,w={},E={},S={};if(s)for(T=0,N=Nn.length;T<N;T++){var x=Nn[T];if(x.el.id==r.id&&x.anim==t){if(x.percent!=i){Nn.splice(T,1);c=1}else l=x;r.attr(x.totalOrigin);break}}else s=+E;for(var T=0,N=t.percents.length;T<N;T++){if(t.percents[T]==i||t.percents[T]>s*t.top){i=t.percents[T];v=t.percents[T-1]||0;b=b/t.top*(i-v);d=t.percents[T+1];f=t.anim[i];break}s&&r.attr(t.anim[t.percents[T]])}if(!f)return;if(!l){for(var C in f)if(f[o](C))if(V[o](C)||r.paper.customAttributes[o](C)){w[C]=r.attr(C);w[C]==null&&(w[C]=X[C]);E[C]=f[C];switch(V[C]){case L:S[C]=(E[C]-w[C])/b;break;case"colour":w[C]=e.getRGB(w[C]);var k=e.getRGB(E[C]);S[C]={r:(k.r-w[C].r)/b,g:(k.g-w[C].g)/b,b:(k.b-w[C].b)/b};break;case"path":var A=zt(w[C],E[C]),O=A[1];w[C]=A[0];S[C]=[];for(T=0,N=w[C].length;T<N;T++){S[C][T]=[0];for(var M=1,_=w[C][T].length;M<_;M++)S[C][T][M]=(O[T][M]-w[C][T][M])/b}break;case"transform":var D=r._,P=en(D[C],E[C]);if(P){w[C]=P.from;E[C]=P.to;S[C]=[];S[C].real=!0;for(T=0,N=w[C].length;T<N;T++){S[C][T]=[w[C][T][0]];for(M=1,_=w[C][T].length;M<_;M++)S[C][T][M]=(E[C][T][M]-w[C][T][M])/b}}else{var H=r.matrix||new tn,B={_:{transform:D.transform},getBBox:function(){return r.getBBox(1)}};w[C]=[H.a,H.b,H.c,H.d,H.e,H.f];Yt(B,E[C]);E[C]=B._.transform;S[C]=[(B.matrix.a-H.a)/b,(B.matrix.b-H.b)/b,(B.matrix.c-H.c)/b,(B.matrix.d-H.d)/b,(B.matrix.e-H.e)/b,(B.matrix.f-H.f)/b]}break;case"csv":var j=g(f[C])[y](n),F=g(w[C])[y](n);if(C=="clip-rect"){w[C]=F;S[C]=[];T=F.length;while(T--)S[C][T]=(j[T]-w[C][T])/b}E[C]=j;break;default:j=[][p](f[C]);F=[][p](w[C]);S[C]=[];T=r.paper.customAttributes[C].length;while(T--)S[C][T]=((j[T]||0)-(F[T]||0))/b}}var q=f.easing,R=e.easing_formulas[q];if(!R){R=g(q).match(I);if(R&&R.length==5){var z=R;R=function(e){return An(e,+z[1],+z[2],+z[3],+z[4],b)}}else R=st}m=f.start||t.start||+(new Date);x={anim:t,percent:i,timestamp:m,start:m+(t.del||0),status:0,initstatus:s||0,stop:!1,ms:b,easing:R,from:w,diff:S,to:E,el:r,callback:f.callback,prev:v,next:d,repeat:a||t.times,origin:r.attr(),totalOrigin:u};Nn.push(x);if(s&&!l&&!c){x.stop=!0;x.start=new Date-b*s;if(Nn.length==1)return kn()}c&&(x.start=new Date-x.ms*s);Nn.length==1&&Cn(kn)}else{l.initstatus=s;l.start=new Date-l.ms*s}eve("raphael.anim.start."+r.id,r,t)}function _n(e){for(var t=0;t<Nn.length;t++)Nn[t].el.paper==e&&Nn.splice(t--,1)}e.version="2.1.0";e.eve=eve;var t,n=/[, ]+/,r={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},i=/\{(\d+)\}/g,s="prototype",o="hasOwnProperty",u={doc:document,win:window},a={was:Object.prototype[o].call(u.win,"Raphael"),is:u.win.Raphael},f=function(){this.ca=this.customAttributes={}},l,c="appendChild",h="apply",p="concat",d="createTouch"in u.doc,v="",m=" ",g=String,y="split",b="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[y](m),w={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},E=g.prototype.toLowerCase,S=Math,x=S.max,T=S.min,N=S.abs,C=S.pow,k=S.PI,L="number",A="string",O="array",M="toString",_="fill",D=Object.prototype.toString,P={},H="push",B=e._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,j=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,F={NaN:1,Infinity:1,"-Infinity":1},I=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,q=S.round,R="setAttribute",U=parseFloat,z=parseInt,W=g.prototype.toUpperCase,X=e._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0
,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},V=e._availableAnimAttrs={blur:L,"clip-rect":"csv",cx:L,cy:L,fill:"colour","fill-opacity":L,"font-size":L,height:L,opacity:L,path:"path",r:L,rx:L,ry:L,stroke:"colour","stroke-opacity":L,"stroke-width":L,transform:"transform",width:L,x:L,y:L},$=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]/g,J=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,K={hs:1,rg:1},Q=/,?([achlmqrstvxz]),?/gi,G=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,Y=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,Z=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/ig,et=e._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,tt={},nt=function(e,t){return e.key-t.key},rt=function(e,t){return U(e)-U(t)},it=function(){},st=function(e){return e},ot=e._rectPath=function(e,t,n,r,i){return i?[["M",e+i,t],["l",n-i*2,0],["a",i,i,0,0,1,i,i],["l",0,r-i*2],["a",i,i,0,0,1,-i,i],["l",i*2-n,0],["a",i,i,0,0,1,-i,-i],["l",0,i*2-r],["a",i,i,0,0,1,i,-i],["z"]]:[["M",e,t],["l",n,0],["l",0,r],["l",-n,0],["z"]]},ut=function(e,t,n,r){r==null&&(r=n);return[["M",e,t],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]]},at=e._getPath={path:function(e){return e.attr("path")},circle:function(e){var t=e.attrs;return ut(t.cx,t.cy,t.r)},ellipse:function(e){var t=e.attrs;return ut(t.cx,t.cy,t.rx,t.ry)},rect:function(e){var t=e.attrs;return ot(t.x,t.y,t.width,t.height,t.r)},image:function(e){var t=e.attrs;return ot(t.x,t.y,t.width,t.height)},text:function(e){var t=e._getBBox();return ot(t.x,t.y,t.width,t.height)}},ft=e.mapPath=function(e,t){if(!t)return e;var n,r,i,s,o,u,a;e=zt(e);for(i=0,o=e.length;i<o;i++){a=e[i];for(s=1,u=a.length;s<u;s+=2){n=t.x(a[s],a[s+1]);r=t.y(a[s],a[s+1]);a[s]=n;a[s+1]=r}}return e};e._g=u;e.type=u.win.SVGAngle||u.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if(e.type=="VML"){var lt=u.doc.createElement("div"),ct;lt.innerHTML='<v:shape adj="1"/>';ct=lt.firstChild;ct.style.behavior="url(#default#VML)";if(!ct||typeof ct.adj!="object")return e.type=v;lt=null}e.svg=!(e.vml=e.type=="VML");e._Paper=f;e.fn=l=f.prototype=e.prototype;e._id=0;e._oid=0;e.is=function(e,t){t=E.call(t);return t=="finite"?!F[o](+e):t=="array"?e instanceof Array:t=="null"&&e===null||t==typeof e&&e!==null||t=="object"&&e===Object(e)||t=="array"&&Array.isArray&&Array.isArray(e)||D.call(e).slice(8,-1).toLowerCase()==t};e.angle=function(t,n,r,i,s,o){if(s==null){var u=t-r,a=n-i;return!u&&!a?0:(180+S.atan2(-a,-u)*180/k+360)%360}return e.angle(t,n,s,o)-e.angle(r,i,s,o)};e.rad=function(e){return e%360*k/180};e.deg=function(e){return e*180/k%360};e.snapTo=function(t,n,r){r=e.is(r,"finite")?r:10;if(e.is(t,O)){var i=t.length;while(i--)if(N(t[i]-n)<=r)return t[i]}else{t=+t;var s=n%t;if(s<r)return n-s;if(s>t-r)return n-s+t}return n};var pt=e.createUUID=function(e,t){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(e,t).toUpperCase()}}(/[xy]/g,function(e){var t=S.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)});e.setWindow=function(t){eve("raphael.setWindow",e,u.win,t);u.win=t;u.doc=u.win.document;e._engine.initWin&&e._engine.initWin(u.win)};var dt=function(t){if(e.vml){var n=/^\s+|\s+$/g,r;try{var i=new ActiveXObject("htmlfile");i.write("<body>");i.close();r=i.body}catch(s){r=createPopup().document.body}var o=r.createTextRange();dt=Et(function(e){try{r.style.color=g(e).replace(n,v);var t=o.queryCommandValue("ForeColor");t=(t&255)<<16|t&65280|(t&16711680)>>>16;return"#"+("000000"+t.toString(16)).slice(-6)}catch(i){return"none"}})}else{var a=u.doc.createElement("i");a.title="Raphal Colour Picker";a.style.display="none";u.doc.body.appendChild(a);dt=Et(function(e){a.style.color=e;return u.doc.defaultView.getComputedStyle(a,v).getPropertyValue("color")})}return dt(t)},vt=function(){return"hsb("+[this.h,this.s,this.b]+")"},mt=function(){return"hsl("+[this.h,this.s,this.l]+")"},gt=function(){return this.hex},yt=function(t,n,r){if(n==null&&e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t){r=t.b;n=t.g;t=t.r}if(n==null&&e.is(t,A)){var i=e.getRGB(t);t=i.r;n=i.g;r=i.b}if(t>1||n>1||r>1){t/=255;n/=255;r/=255}return[t,n,r]},bt=function(t,n,r,i){t*=255;n*=255;r*=255;var s={r:t,g:n,b:r,hex:e.rgb(t,n,r),toString:gt};e.is(i,"finite")&&(s.opacity=i);return s};e.color=function(t){var n;if(e.is(t,"object")&&"h"in t&&"s"in t&&"b"in t){n=e.hsb2rgb(t);t.r=n.r;t.g=n.g;t.b=n.b;t.hex=n.hex}else if(e.is(t,"object")&&"h"in t&&"s"in t&&"l"in t){n=e.hsl2rgb(t);t.r=n.r;t.g=n.g;t.b=n.b;t.hex=n.hex}else{e.is(t,"string")&&(t=e.getRGB(t));if(e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t){n=e.rgb2hsl(t);t.h=n.h;t.s=n.s;t.l=n.l;n=e.rgb2hsb(t);t.v=n.b}else{t={hex:"none"};t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1}}t.toString=gt;return t};e.hsb2rgb=function(e,t,n,r){if(this.is(e,"object")&&"h"in e&&"s"in e&&"b"in e){n=e.b;t=e.s;e=e.h;r=e.o}e*=360;var i,s,o,u,a;e=e%360/60;a=n*t;u=a*(1-N(e%2-1));i=s=o=n-a;e=~~e;i+=[a,u,0,0,u,a][e];s+=[u,a,a,u,0,0][e];o+=[0,0,u,a,a,u][e];return bt(i,s,o,r)};e.hsl2rgb=function(e,t,n,r){if(this.is(e,"object")&&"h"in e&&"s"in e&&"l"in e){n=e.l;t=e.s;e=e.h}if(e>1||t>1||n>1){e/=360;t/=100;n/=100}e*=360;var i,s,o,u,a;e=e%360/60;a=2*t*(n<.5?n:1-n);u=a*(1-N(e%2-1));i=s=o=n-a/2;e=~~e;i+=[a,u,0,0,u,a][e];s+=[u,a,a,u,0,0][e];o+=[0,0,u,a,a,u][e];return bt(i,s,o,r)};e.rgb2hsb=function(e,t,n){n=yt(e,t,n);e=n[0];t=n[1];n=n[2];var r,i,s,o;s=x(e,t,n);o=s-T(e,t,n);r=o==0?null:s==e?(t-n)/o:s==t?(n-e)/o+2:(e-t)/o+4;r=(r+360)%6*60/360;i=o==0?0:o/s;return{h:r,s:i,b:s,toString:vt}};e.rgb2hsl=function(e,t,n){n=yt(e,t,n);e=n[0];t=n[1];n=n[2];var r,i,s,o,u,a;o=x(e,t,n);u=T(e,t,n);a=o-u;r=a==0?null:o==e?(t-n)/a:o==t?(n-e)/a+2:(e-t)/a+4;r=(r+360)%6*60/360;s=(o+u)/2;i=a==0?0:s<.5?a/(2*s):a/(2-2*s);return{h:r,s:i,l:s,toString:mt}};e._path2string=function(){return this.join(",").replace(Q,"$1")};var St=e._preload=function(e,t){var n=u.doc.createElement("img");n.style.cssText="position:absolute;left:-9999em;top:-9999em";n.onload=function(){t.call(this);this.onload=null;u.doc.body.removeChild(this)};n.onerror=function(){u.doc.body.removeChild(this)};u.doc.body.appendChild(n);n.src=e};e.getRGB=Et(function(t){if(!t||!!((t=g(t)).indexOf("-")+1))return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:xt};if(t=="none")return{r:-1,g:-1,b:-1,hex:"none",toString:xt};!K[o](t.toLowerCase().substring(0,2))&&t.charAt()!="#"&&(t=dt(t));var n,r,i,s,u,a,f,l=t.match(j);if(l){if(l[2]){s=z(l[2].substring(5),16);i=z(l[2].substring(3,5),16);r=z(l[2].substring(1,3),16)}if(l[3]){s=z((a=l[3].charAt(3))+a,16);i=z((a=l[3].charAt(2))+a,16);r=z((a=l[3].charAt(1))+a,16)}if(l[4]){f=l[4][y](J);r=U(f[0]);f[0].slice(-1)=="%"&&(r*=2.55);i=U(f[1]);f[1].slice(-1)=="%"&&(i*=2.55);s=U(f[2]);f[2].slice(-1)=="%"&&(s*=2.55);l[1].toLowerCase().slice(0,4)=="rgba"&&(u=U(f[3]));f[3]&&f[3].slice(-1)=="%"&&(u/=100)}if(l[5]){f=l[5][y](J);r=U(f[0]);f[0].slice(-1)=="%"&&(r*=2.55);i=U(f[1]);f[1].slice(-1)=="%"&&(i*=2.55);s=U(f[2]);f[2].slice(-1)=="%"&&(s*=2.55);(f[0].slice(-3)=="deg"||f[0].slice(-1)=="")&&(r/=360);l[1].toLowerCase().slice(0,4)=="hsba"&&(u=U(f[3]));f[3]&&f[3].slice(-1)=="%"&&(u/=100);return e.hsb2rgb(r,i,s,u)}if(l[6]){f=l[6][y](J);r=U(f[0]);f[0].slice(-1)=="%"&&(r*=2.55);i=U(f[1]);f[1].slice(-1)=="%"&&(i*=2.55);s=U(f[2]);f[2].slice(-1)=="%"&&(s*=2.55);(f[0].slice(-3)=="deg"||f[0].slice(-1)=="")&&(r/=360);l[1].toLowerCase().slice(0,4)=="hsla"&&(u=U(f[3]));f[3]&&f[3].slice(-1)=="%"&&(u/=100);return e.hsl2rgb(r,i,s,u)}l={r:r,g:i,b:s,toString:xt};l.hex="#"+(16777216|s|i<<8|r<<16).toString(16).slice(1);e.is(u,"finite")&&(l.opacity=u);return l}return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:xt}},e);e.hsb=Et(function(t,n,r){return e.hsb2rgb(t,n,r).hex});e.hsl=Et(function(t,n,r){return e.hsl2rgb(t,n,r).hex});e.rgb=Et(function(e,t,n){return"#"+(16777216|n|t<<8|e<<16).toString(16).slice(1)});e.getColor=function(e){var t=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||.75},n=this.hsb2rgb(t.h,t.s,t.b);t.h+=.075;if(t.h>1){t.h=0;t.s-=.2;t.s<=0&&(this.getColor.start={h:0,s:1,b:t.b})}return n.hex};e.getColor.reset=function(){delete this.start};e.parsePathString=function(t){if(!t)return null;var n=Nt(t);if(n.arr)return Ht(n.arr);var r={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},i=[];e.is(t,O)&&e.is(t[0],O)&&(i=Ht(t));i.length||g(t).replace(G,function(e,t,n){var s=[],o=t.toLowerCase();n.replace(Z,function(e,t){t&&s.push(+t)});if(o=="m"&&s.length>2){i.push([t][p](s.splice(0,2)));o="l";t=t=="m"?"l":"L"}if(o=="r")i.push([t][p](s));else while(s.length>=r[o]){i.push([t][p](s.splice(0,r[o])));if(!r[o])break}});i.toString=e._path2string;n.arr=Ht(i);return i};e.parseTransformString=Et(function(t){if(!t)return null;var n={r:3,s:4,t:2,m:6},r=[];e.is(t,O)&&e.is(t[0],O)&&(r=Ht(t));r.length||g(t).replace(Y,function(e,t,n){var i=[],s=E.call(t);n.replace(Z,function(e,t){t&&i.push(+t)});r.push([t][p](i))});r.toString=e._path2string;return r});var Nt=function(e){var t=Nt.ps=Nt.ps||{};t[e]?t[e].sleep=100:t[e]={sleep:100};setTimeout(function(){for(var n in t)if(t[o](n)&&n!=e){t[n].sleep--;!t[n].sleep&&delete t[n]}});return t[e]};e.findDotsAtSegment=function(e,t,n,r,i,s,o,u,a){var f=1-a,l=C(f,3),c=C(f,2),h=a*a,p=h*a,d=l*e+c*3*a*n+f*3*a*a*i+p*o,v=l*t+c*3*a*r+f*3*a*a*s+p*u,m=e+2*a*(n-e)+h*(i-2*n+e),g=t+2*a*(r-t)+h*(s-2*r+t),y=n+2*a*(i-n)+h*(o-2*i+n),b=r+2*a*(s-r)+h*(u-2*s+r),w=f*e+a*n,E=f*t+a*r,x=f*i+a*o,T=f*s+a*u,N=90-S.atan2(m-y,g-b)*180/k;(m>y||g<b)&&(N+=180);return{x:d,y:v,m:{x:m,y:g},n:{x:y,y:b},start:{x:w,y:E},end:{x:x,y:T},alpha:N}};e.bezierBBox=function(t,n,r,i,s,o,u,a){e.is(t,"array")||(t=[t,n,r,i,s,o,u,a]);var f=Ut.apply(null,t);return{x:f.min.x,y:f.min.y,x2:f.max.x,y2:f.max.y,width:f.max.x-f.min.x,height:f.max.y-f.min.y}};e.isPointInsideBBox=function(e,t,n){return t>=e.x&&t<=e.x2&&n>=e.y&&n<=e.y2};e.isBBoxIntersect=function(t,n){var r=e.isPointInsideBBox;return r(n,t.x,t.y)||r(n,t.x2,t.y)||r(n,t.x,t.y2)||r(n,t.x2,t.y2)||r(t,n.x,n.y)||r(t,n.x2,n.y)||r(t,n.x,n.y2)||r(t,n.x2,n.y2)||(t.x<n.x2&&t.x>n.x||n.x<t.x2&&n.x>t.x)&&(t.y<n.y2&&t.y>n.y||n.y<t.y2&&n.y>t.y)};e.pathIntersection=function(e,t){return Dt(e,t)};e.pathIntersectionNumber=function(e,t){return Dt(e,t,1)};e.isPointInsidePath=function(t,n,r){var i=e.pathBBox(t);return e.isPointInsideBBox(i,n,r)&&Dt(t,[["M",n,r],["H",i.x2+10]],1)%2==1};e._removedFactory=function(e){return function(){eve("raphael.log",null,"Raphal: you are calling to method "+e+" of removed object",e)}};var Pt=e.pathBBox=function(e){var t=Nt(e);if(t.bbox)return t.bbox;if(!e)return{x:0,y:0,width:0,height:0,x2:0,y2:0};e=zt(e);var n=0,r=0,i=[],s=[],o;for(var u=0,a=e.length;u<a;u++){o=e[u];if(o[0]=="M"){n=o[1];r=o[2];i.push(n);s.push(r)}else{var f=Ut(n,r,o[1],o[2],o[3],o[4],o[5],o[6]);i=i[p](f.min.x,f.max.x);s=s[p](f.min.y,f.max.y);n=o[5];r=o[6]}}var l=T[h](0,i),c=T[h](0,s),d=x[h](0,i),v=x[h](0,s),m={x:l,y:c,x2:d,y2:v,width:d-l,height:v-c};t.bbox=ht(m);return m},Ht=function(t){var n=ht(t);n.toString=e._path2string;return n},Bt=e._pathToRelative=function(t){var n=Nt(t);if(n.rel)return Ht(n.rel);if(!e.is(t,O)||!e.is(t&&t[0],O))t=e.parsePathString(t);var r=[],i=0,s=0,o=0,u=0,a=0;if(t[0][0]=="M"){i=t[0][1];s=t[0][2];o=i;u=s;a++;r.push(["M",i,s])}for(var f=a,l=t.length;f<l;f++){var c=r[f]=[],h=t[f];if(h[0]!=E.call(h[0])){c[0]=E.call(h[0]);switch(c[0]){case"a":c[1]=h[1];c[2]=h[2];c[3]=h[3];c[4]=h[4];c[5]=h[5];c[6]=+(h[6]-i).toFixed(3);c[7]=+(h[7]-s).toFixed(3);break;case"v":c[1]=+(h[1]-s).toFixed(3);break;case"m":o=h[1];u=h[2];default:for(var p=1,d=h.length;p<d;p++)c[p]=+(h[p]-(p%2?i:s)).toFixed(3)}}else{c=r[f]=[];if(h[0]=="m"){o=h[1]+i;u=h[2]+s}for(var v=0,m=h.length;v<m;v++)r[f][v]=h[v]}var g=r[f].length;switch(r[f][0]){case"z":i=o;s=u;break;case"h":i+=+r[f][g-1];break;case"v":s+=+r[f][g-1];break;default:i+=+r[f][g-2];s+=+r[f][g-1]}}r.toString=e._path2string;n.rel=Ht(r);return r},jt=e._pathToAbsolute=function(t){var n=Nt(t);if(n.abs)return Ht(n.abs);if(!e.is(t,O)||!e.is(t&&t[0],O))t=e.parsePathString(t);if(!t||!t.length)return[["M",0,0]];var r=[],i=0,s=0,o=0,u=0,a=0;if(t[0][0]=="M"){i=+t[0][1];s=+t[0][2];o=i;u=s;a++;r[0]=["M",i,s]}var f=t.length==3&&t[0][0]=="M"&&t[1][0].toUpperCase()=="R"&&t[2][0].toUpperCase()=="Z";for(var l,c,h=a,d=t.length;h<d;h++){r.push(l=[]);c=t[h];if(c[0]!=W.call(c[0])){l[0]=W.call(c[0]);switch(l[0]){case"A":l[1]=c[1];l[2]=c[2];l[3]=c[3];l[4]=c[4];l[5]=c[5];l[6]=+(c[6]+i);l[7]=+(c[7]+s);break;case"V":l[1]=+c[1]+s;break;case"H":l[1]=+c[1]+i;break;case"R":var v=[i,s][p](c.slice(1));for(var m=2,g=v.length;m<g;m++){v[m]=+v[m]+i;v[++m]=+v[m]+s}r.pop();r=r[p](Tt(v,f));break;case"M":o=+c[1]+i;u=+c[2]+s;default:for(m=1,g=c.length;m<g;m++)l[m]=+c[m]+(m%2?i:s)}}else if(c[0]=="R"){v=[i,s][p](c.slice(1));r.pop();r=r[p](Tt(v,f));l=["R"][p](c.slice(-2))}else for(var y=0,b=c.length;y<b;y++)l[y]=c[y];switch(l[0]){case"Z":i=o;s=u;break;case"H":i=l[1];break;case"V":s=l[1];break;case"M":o=l[l.length-2];u=l[l.length-1];default:i=l[l.length-2];s=l[l.length-1]}}r.toString=e._path2string;n.abs=Ht(r);return r},Ft=function(e,t,n,r){return[e,t,n,r,n,r]},It=function(e,t,n,r,i,s){var o=1/3,u=2/3;return[o*e+u*n,o*t+u*r,o*i+u*n,o*s+u*r,i,s]},qt=function(e,t,n,r,i,s,o,u,a,f){var l=k*120/180,c=k/180*(+i||0),h=[],d,v=Et(function(e,t,n){var r=e*S.cos(n)-t*S.sin(n),i=e*S.sin(n)+t*S.cos(n);return{x:r,y:i}});if(!f){d=v(e,t,-c);e=d.x;t=d.y;d=v(u,a,-c);u=d.x;a=d.y;var m=S.cos(k/180*i),g=S.sin(k/180*i),b=(e-u)/2,w=(t-a)/2,E=b*b/(n*n)+w*w/(r*r);if(E>1){E=S.sqrt(E);n=E*n;r=E*r}var x=n*n,T=r*r,C=(s==o?-1:1)*S.sqrt(N((x*T-x*w*w-T*b*b)/(x*w*w+T*b*b))),L=C*n*w/r+(e+u)/2,A=C*-r*b/n+(t+a)/2,O=S.asin(((t-A)/r).toFixed(9)),M=S.asin(((a-A)/r).toFixed(9));O=e<L?k-O:O;M=u<L?k-M:M;O<0&&(O=k*2+O);M<0&&(M=k*2+M);o&&O>M&&(O-=k*2);!o&&M>O&&(M-=k*2)}else{O=f[0];M=f[1];L=f[2];A=f[3]}var _=M-O;if(N(_)>l){var D=M,P=u,H=a;M=O+l*(o&&M>O?1:-1);u=L+n*S.cos(M);a=A+r*S.sin(M);h=qt(u,a,n,r,i,0,o,P,H,[M,D,L,A])}_=M-O;var B=S.cos(O),j=S.sin(O),F=S.cos(M),I=S.sin(M),q=S.tan(_/4),R=4/3*n*q,U=4/3*r*q,z=[e,t],W=[e+R*j,t-U*B],X=[u+R*I,a-U*F],V=[u,a];W[0]=2*z[0]-W[0];W[1]=2*z[1]-W[1];if(f)return[W,X,V][p](h);h=[W,X,V][p](h).join()[y](",");var $=[];for(var J=0,K=h.length;J<K;J++)$[J]=J%2?v(h[J-1],h[J],c).y:v(h[J],h[J+1],c).x;return $},Rt=function(e,t,n,r,i,s,o,u,a){var f=1-a;return{x:C(f,3)*e+C(f,2)*3*a*n+f*3*a*a*i+C(a,3)*o,y:C(f,3)*t+C(f,2)*3*a*r+f*3*a*a*s+C(a,3)*u}},Ut=Et(function(e,t,n,r,i,s,o,u){var a=i-2*n+e-(o-2*i+n),f=2*(n-e)-2*(i-n),l=e-n,c=(-f+S.sqrt(f*f-4*a*l))/2/a,p=(-f-S.sqrt(f*f-4*a*l))/2/a,d=[t,u],v=[e,o],m;N(c)>"1e12"&&(c=.5);N(p)>"1e12"&&(p=.5);if(c>0&&c<1){m=Rt(e,t,n,r,i,s,o,u,c);v.push(m.x);d.push(m.y)}if(p>0&&p<1){m=Rt(e,t,n,r,i,s,o,u,p);v.push(m.x);d.push(m.y)}a=s-2*r+t-(u-2*s+r);f=2*(r-t)-2*(s-r);l=t-r;c=(-f+S.sqrt(f*f-4*a*l))/2/a;p=(-f-S.sqrt(f*f-4*a*l))/2/a;N(c)>"1e12"&&(c=.5);N(p)>"1e12"&&(p=.5);if(c>0&&c<1){m=Rt(e,t,n,r,i,s,o,u,c);v.push(m.x);d.push(m.y)}if(p>0&&p<1){m=Rt(e,t,n,r,i,s,o,u,p);v.push(m.x);d.push(m.y)}return{min:{x:T[h](0,v),y:T[h](0,d)},max:{x:x[h](0,v),y:x[h](0,d)}}}),zt=e._path2curve=Et(function(e,t){var n=!t&&Nt(e);if(!t&&n.curve)return Ht(n.curve);var r=jt(e),i=t&&jt(t),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u=function(e,t){var n,r;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null);switch(e[0]){case"M":t.X=e[1];t.Y=e[2];break;case"A":e=["C"][p](qt[h](0,[t.x,t.y][p](e.slice(1))));break;case"S":n=t.x+(t.x-(t.bx||t.x));r=t.y+(t.y-(t.by||t.y));e=["C",n,r][p](e.slice(1));break;case"T":t.qx=t.x+(t.x-(t.qx||t.x));t.qy=t.y+(t.y-(t.qy||t.y));e=["C"][p](It(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1];t.qy=e[2];e=["C"][p](It(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"][p](Ft(t.x,t.y,e[1],e[2]));break;case"H":e=["C"][p](Ft(t.x,t.y,e[1],t.y));break;case"V":e=["C"][p](Ft(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"][p](Ft(t.x,t.y,t.X,t.Y))}return e},a=function(e,t){if(e[t].length>7){e[t].shift();var n=e[t];while(n.length)e.splice(t++,0,["C"][p](n.splice(0,6)));e.splice(t,1);c=x(r.length,i&&i.length||0)}},f=function(e,t,n,s,o){if(e&&t&&e[o][0]=="M"&&t[o][0]!="M"){t.splice(o,0,["M",s.x,s.y]);n.bx=0;n.by=0;n.x=e[o][1];n.y=e[o][2];c=x(r.length,i&&i.length||0)}};for(var l=0,c=x(r.length,i&&i.length||0);l<c;l++){r[l]=u(r[l],s);a(r,l);i&&(i[l]=u(i[l],o));i&&a(i,l);f(r,i,s,o,l);f(i,r,o,s,l);var d=r[l],v=i&&i[l],m=d.length,g=i&&v.length;s.x=d[m-2];s.y=d[m-1];s.bx=U(d[m-4])||s.x;s.by=U(d[m-3])||s.y;o.bx=i&&(U(v[g-4])||o.x);o.by=i&&(U(v[g-3])||o.y);o.x=i&&v[g-2];o.y=i&&v[g-1]}i||(n.curve=Ht(r));return i?[r,i]:r},null,Ht),Wt=e._parseDots=Et(function(t){var n=[];for(var r=0,i=t.length;r<i;r++){var s={},o=t[r].match(/^([^:]*):?([\d\.]*)/);s.color=e.getRGB(o[1]);if(s.color.error)return null;s.color=s.color.hex;o[2]&&(s.offset=o[2]+"%");n.push(s)}for(r=1,i=n.length-1;r<i;r++)if(!n[r].offset){var u=U(n[r-1].offset||0),a=0;for(var f=r+1;f<i;f++)if(n[f].offset){a=n[f].offset;break}if(!a){a=100;f=i}a=U(a);var l=(a-u)/(f-r+1);for(;r<f;r++){u+=l;n[r].offset=u+"%"}}return n}),Xt=e._tear=function(e,t){e==t.top&&(t.top=e.prev);e==t.bottom&&(t.bottom=e.next);e.next&&(e.next.prev=e.prev);e.prev&&(e.prev.next=e.next)},Vt=e._tofront=function(e,t){if(t.top===e)return;Xt(e,t);e.next=null;e.prev=t.top;t.top.next=e;t.top=e},$t=e._toback=function(e,t){if(t.bottom===e)return;Xt(e,t);e.next=t.bottom;e.prev=null;t.bottom.prev=e;t.bottom=e},Jt=e._insertafter=function(e,t,n){Xt(e,n);t==n.top&&(n.top=e);t.next&&(t.next.prev=e);e.next=t.next;e.prev=t;t.next=e},Kt=e._insertbefore=function(e,t,n){Xt(e,n);t==n.bottom&&(n.bottom=e);t.prev&&(t.prev.next=e);e.prev=t.prev;t.prev=e;e.next=t},Qt=e.toMatrix=function(e,t){var n=Pt(e),r={_:{transform:v},getBBox:function(){return n}};Yt(r,t);return r.matrix},Gt=e.transformPath=function(e,t){return ft(e,Qt(e,t))},Yt=e._extractTransform=function(t,n){if(n==null)return t._.transform;n=g(n).replace(/\.{3}|\u2026/g,t._.transform||v);var r=e.parseTransformString(n),i=0,s=0,o=0,u=1,a=1,f=t._,l=new tn;f.transform=r||[];if(r)for(var c=0,h=r.length;c<h;c++){var p=r[c],d=p.length,m=g(p[0]).toLowerCase(),y=p[0]!=m,b=y?l.invert():0,w,E,S,x,T;if(m=="t"&&d==3)if(y){w=b.x(0,0);E=b.y(0,0);S=b.x(p[1],p[2]);x=b.y(p[1],p[2]);l.translate(S-w,x-E)}else l.translate(p[1],p[2]);else if(m=="r"){if(d==2){T=T||t.getBBox(1);l.rotate(p[1],T.x+T.width/2,T.y+T.height/2);i+=p[1]}else if(d==4){if(y){S=b.x(p[2],p[3]);x=b.y(p[2],p[3]);l.rotate(p[1],S,x)}else l.rotate(p[1],p[2],p[3]);i+=p[1]}}else if(m=="s"){if(d==2||d==3){T=T||t.getBBox(1);l.scale(p[1],p[d-1],T.x+T.width/2,T.y+T.height/2);u*=p[1];a*=p[d-1]}else if(d==5){if(y){S=b.x(p[3],p[4]);x=b.y(p[3],p[4]);l.scale(p[1],p[2],S,x)}else l.scale(p[1],p[2],p[3],p[4]);u*=p[1];a*=p[2]}}else m=="m"&&d==7&&l.add(p[1],p[2],p[3],p[4],p[5],p[6]);f.dirtyT=1;t.matrix=l}t.matrix=l;f.sx=u;f.sy=a;f.deg=i;f.dx=s=l.e;f.dy=o=l.f;if(u==1&&a==1&&!i&&f.bbox){f.bbox.x+=+s;f.bbox.y+=+o}else f.dirtyT=1},Zt=function(e){var t=e[0];switch(t.toLowerCase()){case"t":return[t,0,0];case"m":return[t,1,0,0,1,0,0];case"r":return e.length==4?[t,0,e[2],e[3]]:[t,0];case"s":return e.length==5?[t,1,1,e[3],e[4]]:e.length==3?[t,1,1]:[t,1]}},en=e._equaliseTransform=function(t,n){n=g(n).replace(/\.{3}|\u2026/g,t);t=e.parseTransformString(t)||[];n=e.parseTransformString(n)||[];var r=x(t.length,n.length),i=[],s=[],o=0,u,a,f,l;for(;o<r;o++){f=t[o]||Zt(n[o]);l=n[o]||Zt(f);if(f[0]!=l[0]||f[0].toLowerCase()=="r"&&(f[2]!=l[2]||f[3]!=l[3])||f[0].toLowerCase()=="s"&&(f[3]!=l[3]||f[4]!=l[4]))return;i[o]=[];s[o]=[];for(u=0,a=x(f.length,l.length);u<a;u++){u in f&&(i[o][u]=f[u]);u in l&&(s[o][u]=l[u])}}return{from:i,to:s}};e._getContainer=function(t,n,r,i){var s;s=i==null&&!e.is(t,"object")?u.doc.getElementById(t):t;if(s==null)return;return s.tagName?n==null?{container:s,width:s.style.pixelWidth||s.offsetWidth,height:s.style.pixelHeight||s.offsetHeight}:{container:s,width:n,height:r}:{container:1,x:t,y:n,width:r,height:i}};e.pathToRelative=Bt;e._engine={};e.path2curve=zt;e.matrix=function(e,t,n,r,i,s){return new tn(e,t,n,r,i,s)};(function(t){function n(e){return e[0]*e[0]+e[1]*e[1]}function r(e){var t=S.sqrt(n(e));e[0]&&(e[0]/=t);e[1]&&(e[1]/=t)}t.add=function(e,t,n,r,i,s){var o=[[],[],[]],u=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],a=[[e,n,i],[t,r,s],[0,0,1]],f,l,c,h;e&&e instanceof tn&&(a=[[e.a,e.c,e.e],[e.b,e.d,e.f],[0,0,1]]);for(f=0;f<3;f++)for(l=0;l<3;l++){h=0;for(c=0;c<3;c++)h+=u[f][c]*a[c][l];o[f][l]=h}this.a=o[0][0];this.b=o[1][0];this.c=o[0][1];this.d=o[1][1];this.e=o[0][2];this.f=o[1][2]};t.invert=function(){var e=this,t=e.a*e.d-e.b*e.c;return new tn(e.d/t,-e.b/t,-e.c/t,e.a/t,(e.c*e.f-e.d*e.e)/t,(e.b*e.e-e.a*e.f)/t)};t.clone=function(){return new tn(this.a,this.b,this.c,this.d,this.e,this.f)};t.translate=function(e,t){this.add(1,0,0,1,e,t)};t.scale=function(e,t,n,r){t==null&&(t=e);(n||r)&&this.add(1,0,0,1,n,r);this.add(e,0,0,t,0,0);(n||r)&&this.add(1,0,0,1,-n,-r)};t.rotate=function(t,n,r){t=e.rad(t);n=n||0;r=r||0;var i=+S.cos(t).toFixed(9),s=+S.sin(t).toFixed(9);this.add(i,s,-s,i,n,r);this.add(1,0,0,1,-n,-r)};t.x=function(e,t){return e*this.a+t*this.c+this.e};t.y=function(e,t){return e*this.b+t*this.d+this.f};t.get=function(e){return+this[g.fromCharCode(97+e)].toFixed(4)};t.toString=function(){return e.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()};t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"};t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]};t.split=function(){var t={};t.dx=this.e;t.dy=this.f;var i=[[this.a,this.c],[this.b,this.d]];t.scalex=S.sqrt(n(i[0]));r(i[0]);t.shear=i[0][0]*i[1][0]+i[0][1]*i[1][1];i[1]=[i[1][0]-i[0][0]*t.shear,i[1][1]-i[0][1]*t.shear];t.scaley=S.sqrt(n(i[1]));r(i[1]);t.shear/=t.scaley;var s=-i[0][1],o=i[1][1];if(o<0){t.rotate=e.deg(S.acos(o));s<0&&(t.rotate=360-t.rotate)}else t.rotate=e.deg(S.asin(s));t.isSimple=!+t.shear.toFixed(9)&&(t.scalex.toFixed(9)==t.scaley.toFixed(9)||!t.rotate);t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate;t.noRotation=!+t.shear.toFixed(9)&&!t.rotate;return t};t.toTransformString=function(e){var t=e||this[y]();if(t.isSimple){t.scalex=+t.scalex.toFixed(4);t.scaley=+t.scaley.toFixed(4);t.rotate=+t.rotate.toFixed(4);return(t.dx||t.dy?"t"+[t.dx,t.dy]:v)+(t.scalex!=1||t.scaley!=1?"s"+[t.scalex,t.scaley,0,0]:v)+(t.rotate?"r"+[t.rotate,0,0]:v)}return"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}})(tn.prototype);var nn=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);navigator.vendor=="Apple Computer, Inc."&&(nn&&nn[1]<4||navigator.platform.slice(0,2)=="iP")||navigator.vendor=="Google Inc."&&nn&&nn[1]<8?l.safari=function(){var e=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){e.remove()})}:l.safari=it;var rn=function(){this.returnValue=!1},sn=function(){return this.originalEvent.preventDefault()},on=function(){this.cancelBubble=!0},un=function(){return this.originalEvent.stopPropagation()},an=function(){if(u.doc.addEventListener)return function(e,t,n,r){var i=d&&w[t]?w[t]:t,s=function(i){var s=u.doc.documentElement.scrollTop||u.doc.body.scrollTop,a=u.doc.documentElement.scrollLeft||u.doc.body.scrollLeft,f=i.clientX+a,l=i.clientY+s;if(d&&w[o](t))for(var c=0,h=i.targetTouches&&i.targetTouches.length;c<h;c++)if(i.targetTouches[c].target==e){var p=i;i=i.targetTouches[c];i.originalEvent=p;i.preventDefault=sn;i.stopPropagation=un;break}return n.call(r,i,f,l)};e.addEventListener(i,s,!1);return function(){e.removeEventListener(i,s,!1);return!0}};if(u.doc.attachEvent)return function(e,t,n,r){var i=function(e){e=e||u.win.event;var t=u.doc.documentElement.scrollTop||u.doc.body.scrollTop,i=u.doc.documentElement.scrollLeft||u.doc.body.scrollLeft,s=e.clientX+i,o=e.clientY+t;e.preventDefault=e.preventDefault||rn;e.stopPropagation=e.stopPropagation||on;return n.call(r,e,s,o)};e.attachEvent("on"+t,i);var s=function(){e.detachEvent("on"+t,i);return!0};return s}}(),fn=[],ln=function(e){var t=e.clientX,n=e.clientY,r=u.doc.documentElement.scrollTop||u.doc.body.scrollTop,i=u.doc.documentElement.scrollLeft||u.doc.body.scrollLeft,s,o=fn.length;while(o--){s=fn[o];if(d){var a=e.touches.length,f;while(a--){f=e.touches[a];if(f.identifier==s.el._drag.id){t=f.clientX;n=f.clientY;(e.originalEvent?e.originalEvent:e).preventDefault();break}}}else e.preventDefault();var l=s.el.node,c,h=l.nextSibling,p=l.parentNode,v=l.style.display;u.win.opera&&p.removeChild(l);l.style.display="none";c=s.el.paper.getElementByPoint(t,n);l.style.display=v;u.win.opera&&(h?p.insertBefore(l,h):p.appendChild(l));c&&eve("raphael.drag.over."+s.el.id,s.el,c);t+=i;n+=r;eve("raphael.drag.move."+s.el.id,s.move_scope||s.el,t-s.el._drag.x,n-s.el._drag.y,t,n,e)}},cn=function(t){e.unmousemove(ln).unmouseup(cn);var n=fn.length,r;while(n--){r=fn[n];r.el._drag={};eve("raphael.drag.end."+r.el.id,r.end_scope||r.start_scope||r.move_scope||r.el,t)}fn=[]},hn=e.el={};for(var pn=b.length;pn--;)(function(t){e[t]=hn[t]=function(n,r){if(e.is(n,"function")){this.events=this.events||[];this.events.push({name:t,f:n,unbind:an(this.shape||this.node||u.doc,t,n,r||this)})}return this};e["un"+t]=hn["un"+t]=function(e){var n=this.events||[],r=n.length;while(r--)if(n[r].name==t&&n[r].f==e){n[r].unbind();n.splice(r,1);!n.length&&delete this.events;return this}return this}})(b[pn]);hn.data=function(t,n){var r=tt[this.id]=tt[this.id]||{};if(arguments.length==1){if(e.is(t,"object")){for(var i in t)t[o](i)&&this.data(i,t[i]);return this}eve("raphael.data.get."+this.id,this,r[t],t);return r[t]}r[t]=n;eve("raphael.data.set."+this.id,this,n,t);return this};hn.removeData=function(e){e==null?tt[this.id]={}:tt[this.id]&&delete tt[this.id][e];return this};hn.hover=function(e,t,n,r){return this.mouseover(e,n).mouseout(t,r||n)};hn.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)};var dn=[];hn.drag=function(t,n,r,i,s,o){function a(a){(a.originalEvent||a).preventDefault();var f=u.doc.documentElement.scrollTop||u.doc.body.scrollTop,l=u.doc.documentElement.scrollLeft||u.doc.body.scrollLeft;this._drag.x=a.clientX+l;this._drag.y=a.clientY+f;this._drag.id=a.identifier;!fn.length&&e.mousemove(ln).mouseup(cn);fn.push({el:this,move_scope:i,start_scope:s,end_scope:o});n&&eve.on("raphael.drag.start."+this.id,n);t&&eve.on("raphael.drag.move."+this.id,t);r&&eve.on("raphael.drag.end."+this.id,r);eve("raphael.drag.start."+this.id,s||i||this,a.clientX+l,a.clientY+f,a)}this._drag={};dn.push({el:this,start:a});this.mousedown(a);return this};hn.onDragOver=function(e){e?eve.on("raphael.drag.over."+this.id,e):eve.unbind("raphael.drag.over."+this.id)};hn.undrag=function(){var t=dn.length;while(t--)if(dn[t].el==this){this.unmousedown(dn[t].start);dn.splice(t,1);eve.unbind("raphael.drag.*."+this.id)}!dn.length&&e.unmousemove(ln).unmouseup(cn)};l.circle=function(t,n,r){var i=e._engine.circle(this,t||0,n||0,r||0);this.__set__&&this.__set__.push(i);return i};l.rect=function(t,n,r,i,s){var o=e._engine.rect(this,t||0,n||0,r||0,i||0,s||0);this.__set__&&this.__set__.push(o);return o};l.ellipse=function(t,n,r,i){var s=e._engine.ellipse(this,t||0,n||0,r||0,i||0);this.__set__&&this.__set__.push(s);return s};l.path=function(t){t&&!e.is(t,A)&&!e.is(t[0],O)&&(t+=v);var n=e._engine.path(e.format[h](e,arguments),this);this.__set__&&this.__set__.push(n);return n};l.image=function(t,n,r,i,s){var o=e._engine.image(this,t||"about:blank",n||0,r||0,i||0,s||0);this.__set__&&this.__set__.push(o);return o};l.text=function(t,n,r){var i=e._engine.text(this,t||0,n||0,g(r));this.__set__&&this.__set__.push(i);return i};l.set=function(t){!e.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var n=new Dn(t);this.__set__&&this.__set__.push(n);return n};l.setStart=function(e){this.__set__=e||this.set()};l.setFinish=function(e){var t=this.__set__;delete this.__set__;return t};l.setSize=function(t,n){return e._engine.setSize.call(this,t,n)};l.setViewBox=function(t,n,r,i,s){return e._engine.setViewBox.call(this,t,n,r,i,s)};l.top=l.bottom=null;l.raphael=e;var vn=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.body,i=n.documentElement,s=i.clientTop||r.clientTop||0,o=i.clientLeft||r.clientLeft||0,a=t.top+(u.win.pageYOffset||i.scrollTop||r.scrollTop)-s,f=t.left+(u.win.pageXOffset||i.scrollLeft||r.scrollLeft)-o;return{y:a,x:f}};l.getElementByPoint=function(e,t){var n=this,r=n.canvas,i=u.doc.elementFromPoint(e,t);if(u.win.opera&&i.tagName=="svg"){var s=vn(r),o=r.createSVGRect();o.x=e-s.x;o.y=t-s.y;o.width=o.height=1;var a=r.getIntersectionList(o,null);a.length&&(i=a[a.length-1])}if(!i)return null;while(i.parentNode&&i!=r.parentNode&&!i.raphael)i=i.parentNode;i==n.canvas.parentNode&&(i=r);i=i&&i.raphael?n.getById(i.raphaelid):null;return i};l.getById=function(e){var t=this.bottom;while(t){if(t.id==e)return t;t=t.next}return null};l.forEach=function(e,t){var n=this.bottom;while(n){if(e.call(t,n)===!1)return this;n=n.next}return this};l.getElementsByPoint=function(e,t){var n=this.set();this.forEach(function(r){r.isPointInside(e,t)&&n.push(r)});return n};hn.isPointInside=function(t,n){var r=this.realPath=this.realPath||at[this.type](this);return e.isPointInsidePath(r,t,n)};hn.getBBox=function(e){if(this.removed)return{};var t=this._;if(e){if(t.dirty||!t.bboxwt){this.realPath=at[this.type](this);t.bboxwt=Pt(this.realPath);t.bboxwt.toString=gn;t.dirty=0}return t.bboxwt}if(t.dirty||t.dirtyT||!t.bbox){if(t.dirty||!this.realPath){t.bboxwt=0;this.realPath=at[this.type](this)}t.bbox=Pt(ft(this.realPath,this.matrix));t.bbox.toString=gn;t.dirty=t.dirtyT=0}return t.bbox};hn.clone=function(){if(this.removed)return null;var e=this.paper[this.type]().attr(this.attr());this.__set__&&this.__set__.push(e);return e};hn.glow=function(e){if(this.type=="text")return null;e=e||{};var t={width:(e.width||10)+(+this.attr("stroke-width")||1),fill:e.fill||!1,opacity:e.opacity||.5,offsetx:e.offsetx||0,offsety:e.offsety||0,color:e.color||"#000"},n=t.width/2,r=this.paper,i=r.set(),s=this.realPath||at[this.type](this);s=this.matrix?ft(s,this.matrix):s;for(var o=1;o<n+1;o++)i.push(r.path(s).attr({stroke:t.color,fill:t.fill?t.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(t.width/n*o).toFixed(3),opacity:+(t.opacity/n).toFixed(3)}));return i.insertBefore(this).translate(t.offsetx,t.offsety)};var yn={},bn=function(t,n,r,i,s,o,u,a,f){return f==null?kt(t,n,r,i,s,o,u,a):e.findDotsAtSegment(t,n,r,i,s,o,u,a,Lt(t,n,r,i,s,o,u,a,f))},wn=function(t,n){return function(r,i,s){r=zt(r);var o,u,a,f,l="",c={},h,p=0;for(var d=0,v=r.length;d<v;d++){a=r[d];if(a[0]=="M"){o=+a[1];u=+a[2]}else{f=bn(o,u,a[1],a[2],a[3],a[4],a[5],a[6]);if(p+f>i){if(n&&!c.start){h=bn(o,u,a[1],a[2],a[3],a
[4],a[5],a[6],i-p);l+=["C"+h.start.x,h.start.y,h.m.x,h.m.y,h.x,h.y];if(s)return l;c.start=l;l=["M"+h.x,h.y+"C"+h.n.x,h.n.y,h.end.x,h.end.y,a[5],a[6]].join();p+=f;o=+a[5];u=+a[6];continue}if(!t&&!n){h=bn(o,u,a[1],a[2],a[3],a[4],a[5],a[6],i-p);return{x:h.x,y:h.y,alpha:h.alpha}}}p+=f;o=+a[5];u=+a[6]}l+=a.shift()+a}c.end=l;h=t?p:n?c:e.findDotsAtSegment(o,u,a[0],a[1],a[2],a[3],a[4],a[5],1);h.alpha&&(h={x:h.x,y:h.y,alpha:h.alpha});return h}},En=wn(1),Sn=wn(),xn=wn(0,1);e.getTotalLength=En;e.getPointAtLength=Sn;e.getSubpath=function(e,t,n){if(this.getTotalLength(e)-n<1e-6)return xn(e,t).end;var r=xn(e,n,1);return t?xn(r,t).end:r};hn.getTotalLength=function(){if(this.type!="path")return;return this.node.getTotalLength?this.node.getTotalLength():En(this.attrs.path)};hn.getPointAtLength=function(e){if(this.type!="path")return;return Sn(this.attrs.path,e)};hn.getSubpath=function(t,n){if(this.type!="path")return;return e.getSubpath(this.attrs.path,t,n)};var Tn=e.easing_formulas={linear:function(e){return e},"<":function(e){return C(e,1.7)},">":function(e){return C(e,.48)},"<>":function(e){var t=.48-e/1.04,n=S.sqrt(.1734+t*t),r=n-t,i=C(N(r),1/3)*(r<0?-1:1),s=-n-t,o=C(N(s),1/3)*(s<0?-1:1),u=i+o+.5;return(1-u)*3*u*u+u*u*u},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){e-=1;var t=1.70158;return e*e*((t+1)*e+t)+1},elastic:function(e){return e==!!e?e:C(2,-10*e)*S.sin((e-.075)*2*k/.3)+1},bounce:function(e){var t=7.5625,n=2.75,r;if(e<1/n)r=t*e*e;else if(e<2/n){e-=1.5/n;r=t*e*e+.75}else if(e<2.5/n){e-=2.25/n;r=t*e*e+.9375}else{e-=2.625/n;r=t*e*e+.984375}return r}};Tn.easeIn=Tn["ease-in"]=Tn["<"];Tn.easeOut=Tn["ease-out"]=Tn[">"];Tn.easeInOut=Tn["ease-in-out"]=Tn["<>"];Tn["back-in"]=Tn.backIn;Tn["back-out"]=Tn.backOut;var Nn=[],Cn=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,16)},kn=function(){var t=+(new Date),n=0;for(;n<Nn.length;n++){var r=Nn[n];if(r.el.removed||r.paused)continue;var i=t-r.start,s=r.ms,u=r.easing,a=r.from,f=r.diff,l=r.to,c=r.t,h=r.el,d={},v,g={},y;if(r.initstatus){i=(r.initstatus*r.anim.top-r.prev)/(r.percent-r.prev)*s;r.status=r.initstatus;delete r.initstatus;r.stop&&Nn.splice(n--,1)}else r.status=(r.prev+(r.percent-r.prev)*(i/s))/r.anim.top;if(i<0)continue;if(i<s){var b=u(i/s);for(var w in a)if(a[o](w)){switch(V[w]){case L:v=+a[w]+b*s*f[w];break;case"colour":v="rgb("+[Ln(q(a[w].r+b*s*f[w].r)),Ln(q(a[w].g+b*s*f[w].g)),Ln(q(a[w].b+b*s*f[w].b))].join(",")+")";break;case"path":v=[];for(var E=0,S=a[w].length;E<S;E++){v[E]=[a[w][E][0]];for(var x=1,T=a[w][E].length;x<T;x++)v[E][x]=+a[w][E][x]+b*s*f[w][E][x];v[E]=v[E].join(m)}v=v.join(m);break;case"transform":if(f[w].real){v=[];for(E=0,S=a[w].length;E<S;E++){v[E]=[a[w][E][0]];for(x=1,T=a[w][E].length;x<T;x++)v[E][x]=a[w][E][x]+b*s*f[w][E][x]}}else{var N=function(e){return+a[w][e]+b*s*f[w][e]};v=[["m",N(0),N(1),N(2),N(3),N(4),N(5)]]}break;case"csv":if(w=="clip-rect"){v=[];E=4;while(E--)v[E]=+a[w][E]+b*s*f[w][E]}break;default:var C=[][p](a[w]);v=[];E=h.paper.customAttributes[w].length;while(E--)v[E]=+C[E]+b*s*f[w][E]}d[w]=v}h.attr(d);(function(e,t,n){setTimeout(function(){eve("raphael.anim.frame."+e,t,n)})})(h.id,h,r.anim)}else{(function(t,n,r){setTimeout(function(){eve("raphael.anim.frame."+n.id,n,r);eve("raphael.anim.finish."+n.id,n,r);e.is(t,"function")&&t.call(n)})})(r.callback,h,r.anim);h.attr(l);Nn.splice(n--,1);if(r.repeat>1&&!r.next){for(y in l)l[o](y)&&(g[y]=r.totalOrigin[y]);r.el.attr(g);Mn(r.anim,r.el,r.anim.percents[0],null,r.totalOrigin,r.repeat-1)}r.next&&!r.stop&&Mn(r.anim,r.el,r.next,null,r.totalOrigin,r.repeat)}}e.svg&&h&&h.paper&&h.paper.safari();Nn.length&&Cn(kn)},Ln=function(e){return e>255?255:e<0?0:e};hn.animateWith=function(t,n,r,i,s,o){var u=this;if(u.removed){o&&o.call(u);return u}var a=r instanceof On?r:e.animation(r,i,s,o),f,l;Mn(a,u,a.percents[0],null,u.attr());for(var c=0,h=Nn.length;c<h;c++)if(Nn[c].anim==n&&Nn[c].el==t){Nn[h-1].start=Nn[c].start;break}return u};hn.onAnimation=function(e){e?eve.on("raphael.anim.frame."+this.id,e):eve.unbind("raphael.anim.frame."+this.id);return this};On.prototype.delay=function(e){var t=new On(this.anim,this.ms);t.times=this.times;t.del=+e||0;return t};On.prototype.repeat=function(e){var t=new On(this.anim,this.ms);t.del=this.del;t.times=S.floor(x(e,0))||1;return t};e.animation=function(t,n,r,i){if(t instanceof On)return t;if(e.is(r,"function")||!r){i=i||r||null;r=null}t=Object(t);n=+n||0;var s={},u,a;for(a in t)if(t[o](a)&&U(a)!=a&&U(a)+"%"!=a){u=!0;s[a]=t[a]}if(!u)return new On(t,n);r&&(s.easing=r);i&&(s.callback=i);return new On({100:s},n)};hn.animate=function(t,n,r,i){var s=this;if(s.removed){i&&i.call(s);return s}var o=t instanceof On?t:e.animation(t,n,r,i);Mn(o,s,o.percents[0],null,s.attr());return s};hn.setTime=function(e,t){e&&t!=null&&this.status(e,T(t,e.ms)/e.ms);return this};hn.status=function(e,t){var n=[],r=0,i,s;if(t!=null){Mn(e,this,-1,T(t,1));return this}i=Nn.length;for(;r<i;r++){s=Nn[r];if(s.el.id==this.id&&(!e||s.anim==e)){if(e)return s.status;n.push({anim:s.anim,status:s.status})}}return e?0:n};hn.pause=function(e){for(var t=0;t<Nn.length;t++)Nn[t].el.id==this.id&&(!e||Nn[t].anim==e)&&eve("raphael.anim.pause."+this.id,this,Nn[t].anim)!==!1&&(Nn[t].paused=!0);return this};hn.resume=function(e){for(var t=0;t<Nn.length;t++)if(Nn[t].el.id==this.id&&(!e||Nn[t].anim==e)){var n=Nn[t];if(eve("raphael.anim.resume."+this.id,this,n.anim)!==!1){delete n.paused;this.status(n.anim,n.status)}}return this};hn.stop=function(e){for(var t=0;t<Nn.length;t++)Nn[t].el.id==this.id&&(!e||Nn[t].anim==e)&&eve("raphael.anim.stop."+this.id,this,Nn[t].anim)!==!1&&Nn.splice(t--,1);return this};eve.on("raphael.remove",_n);eve.on("raphael.clear",_n);hn.toString=function(){return"Raphals object"};var Dn=function(e){this.items=[];this.length=0;this.type="set";if(e)for(var t=0,n=e.length;t<n;t++)if(e[t]&&(e[t].constructor==hn.constructor||e[t].constructor==Dn)){this[this.items.length]=this.items[this.items.length]=e[t];this.length++}},Pn=Dn.prototype;Pn.push=function(){var e,t;for(var n=0,r=arguments.length;n<r;n++){e=arguments[n];if(e&&(e.constructor==hn.constructor||e.constructor==Dn)){t=this.items.length;this[t]=this.items[t]=e;this.length++}}return this};Pn.pop=function(){this.length&&delete this[this.length--];return this.items.pop()};Pn.forEach=function(e,t){for(var n=0,r=this.items.length;n<r;n++)if(e.call(t,this.items[n],n)===!1)return this;return this};for(var Hn in hn)hn[o](Hn)&&(Pn[Hn]=function(e){return function(){var t=arguments;return this.forEach(function(n){n[e][h](n,t)})}}(Hn));Pn.attr=function(t,n){if(t&&e.is(t,O)&&e.is(t[0],"object"))for(var r=0,i=t.length;r<i;r++)this.items[r].attr(t[r]);else for(var s=0,o=this.items.length;s<o;s++)this.items[s].attr(t,n);return this};Pn.clear=function(){while(this.length)this.pop()};Pn.splice=function(e,t,n){e=e<0?x(this.length+e,0):e;t=x(0,T(this.length-e,t));var r=[],i=[],s=[],o;for(o=2;o<arguments.length;o++)s.push(arguments[o]);for(o=0;o<t;o++)i.push(this[e+o]);for(;o<this.length-e;o++)r.push(this[e+o]);var u=s.length;for(o=0;o<u+r.length;o++)this.items[e+o]=this[e+o]=o<u?s[o]:r[o-u];o=this.items.length=this.length-=t-u;while(this[o])delete this[o++];return new Dn(i)};Pn.exclude=function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]==e){this.splice(t,1);return!0}};Pn.animate=function(t,n,r,i){(e.is(r,"function")||!r)&&(i=r||null);var s=this.items.length,o=s,u,a=this,f;if(!s)return this;i&&(f=function(){!--s&&i.call(a)});r=e.is(r,A)?r:f;var l=e.animation(t,n,r,f);u=this.items[--o].animate(l);while(o--)this.items[o]&&!this.items[o].removed&&this.items[o].animateWith(u,l,l);return this};Pn.insertAfter=function(e){var t=this.items.length;while(t--)this.items[t].insertAfter(e);return this};Pn.getBBox=function(){var e=[],t=[],n=[],r=[];for(var i=this.items.length;i--;)if(!this.items[i].removed){var s=this.items[i].getBBox();e.push(s.x);t.push(s.y);n.push(s.x+s.width);r.push(s.y+s.height)}e=T[h](0,e);t=T[h](0,t);n=x[h](0,n);r=x[h](0,r);return{x:e,y:t,x2:n,y2:r,width:n-e,height:r-t}};Pn.clone=function(e){e=new Dn;for(var t=0,n=this.items.length;t<n;t++)e.push(this.items[t].clone());return e};Pn.toString=function(){return"Raphals set"};e.registerFont=function(e){if(!e.face)return e;this.fonts=this.fonts||{};var t={w:e.w,face:{},glyphs:{}},n=e.face["font-family"];for(var r in e.face)e.face[o](r)&&(t.face[r]=e.face[r]);this.fonts[n]?this.fonts[n].push(t):this.fonts[n]=[t];if(!e.svg){t.face["units-per-em"]=z(e.face["units-per-em"],10);for(var i in e.glyphs)if(e.glyphs[o](i)){var s=e.glyphs[i];t.glyphs[i]={w:s.w,k:{},d:s.d&&"M"+s.d.replace(/[mlcxtrv]/g,function(e){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[e]||"M"})+"z"};if(s.k)for(var u in s.k)s[o](u)&&(t.glyphs[i].k[u]=s.k[u])}}return e};l.getFont=function(t,n,r,i){i=i||"normal";r=r||"normal";n=+n||{normal:400,bold:700,lighter:300,bolder:800}[n]||400;if(!e.fonts)return;var s=e.fonts[t];if(!s){var u=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,v)+"(\\s|$)","i");for(var a in e.fonts)if(e.fonts[o](a)&&u.test(a)){s=e.fonts[a];break}}var f;if(s)for(var l=0,c=s.length;l<c;l++){f=s[l];if(f.face["font-weight"]==n&&(f.face["font-style"]==r||!f.face["font-style"])&&f.face["font-stretch"]==i)break}return f};l.print=function(t,r,i,s,o,u,a){u=u||"middle";a=x(T(a||0,1),-1);var f=g(i)[y](v),l=0,c=0,h=v,p;e.is(s,i)&&(s=this.getFont(s));if(s){p=(o||16)/s.face["units-per-em"];var d=s.face.bbox[y](n),m=+d[0],b=d[3]-d[1],w=0,E=+d[1]+(u=="baseline"?b+ +s.face.descent:b/2);for(var S=0,N=f.length;S<N;S++){if(f[S]=="\n"){l=0;k=0;c=0;w+=b}else{var C=c&&s.glyphs[f[S-1]]||{},k=s.glyphs[f[S]];l+=c?(C.w||s.w)+(C.k&&C.k[f[S]]||0)+s.w*a:0;c=1}k&&k.d&&(h+=e.transformPath(k.d,["t",l*p,w*p,"s",p,p,m,E,"t",(t-m)/p,(r-E)/p]))}}return this.path(h).attr({fill:"#000",stroke:"none"})};l.add=function(t){if(e.is(t,"array")){var n=this.set(),i=0,s=t.length,u;for(;i<s;i++){u=t[i]||{};r[o](u.type)&&n.push(this[u.type]().attr(u))}}return n};e.format=function(t,n){var r=e.is(n,O)?[0][p](n):arguments;t&&e.is(t,A)&&r.length-1&&(t=t.replace(i,function(e,t){return r[++t]==null?v:r[t]}));return t||v};e.fullfill=function(){var e=/\{([^\}]+)\}/g,t=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,n=function(e,n,r){var i=r;n.replace(t,function(e,t,n,r,s){t=t||r;if(i){t in i&&(i=i[t]);typeof i=="function"&&s&&(i=i())}});i=(i==null||i==r?e:i)+"";return i};return function(t,r){return String(t).replace(e,function(e,t){return n(e,t,r)})}}();e.ninja=function(){a.was?u.win.Raphael=a.is:delete Raphael;return e};e.st=Pn;(function(t,n,r){function i(){/in/.test(t.readyState)?setTimeout(i,9):e.eve("raphael.DOMload")}if(t.readyState==null&&t.addEventListener){t.addEventListener(n,r=function(){t.removeEventListener(n,r,!1);t.readyState="complete"},!1);t.readyState="loading"}i()})(document,"DOMContentLoaded");a.was?u.win.Raphael=e:Raphael=e;eve.on("raphael.DOMload",function(){t=!0})})();window.Raphael.svg&&function(e){var t="hasOwnProperty",n=String,r=parseFloat,i=parseInt,s=Math,o=s.max,u=s.abs,a=s.pow,f=/[, ]+/,l=e.eve,c="",h=" ",p="http://www.w3.org/1999/xlink",d={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},v={};e.toString=function(){return"Your browser supports SVG.\nYou are running Raphal "+this.version};var m=function(r,i){if(i){typeof r=="string"&&(r=m(r));for(var s in i)i[t](s)&&(s.substring(0,6)=="xlink:"?r.setAttributeNS(p,s.substring(6),n(i[s])):r.setAttribute(s,n(i[s])))}else{r=e._g.doc.createElementNS("http://www.w3.org/2000/svg",r);r.style&&(r.style.webkitTapHighlightColor="rgba(0,0,0,0)")}return r},g=function(t,i){var f="linear",l=t.id+i,h=.5,p=.5,d=t.node,v=t.paper,g=d.style,y=e._g.doc.getElementById(l);if(!y){i=n(i).replace(e._radial_gradient,function(e,t,n){f="radial";if(t&&n){h=r(t);p=r(n);var i=(p>.5)*2-1;a(h-.5,2)+a(p-.5,2)>.25&&(p=s.sqrt(.25-a(h-.5,2))*i+.5)&&p!=.5&&(p=p.toFixed(5)-1e-5*i)}return c});i=i.split(/\s*\-\s*/);if(f=="linear"){var b=i.shift();b=-r(b);if(isNaN(b))return null;var w=[0,0,s.cos(e.rad(b)),s.sin(e.rad(b))],E=1/(o(u(w[2]),u(w[3]))||1);w[2]*=E;w[3]*=E;if(w[2]<0){w[0]=-w[2];w[2]=0}if(w[3]<0){w[1]=-w[3];w[3]=0}}var S=e._parseDots(i);if(!S)return null;l=l.replace(/[\(\)\s,\xb0#]/g,"_");if(t.gradient&&l!=t.gradient.id){v.defs.removeChild(t.gradient);delete t.gradient}if(!t.gradient){y=m(f+"Gradient",{id:l});t.gradient=y;m(y,f=="radial"?{fx:h,fy:p}:{x1:w[0],y1:w[1],x2:w[2],y2:w[3],gradientTransform:t.matrix.invert()});v.defs.appendChild(y);for(var x=0,T=S.length;x<T;x++)y.appendChild(m("stop",{offset:S[x].offset?S[x].offset:x?"100%":"0%","stop-color":S[x].color||"#fff"}))}}m(d,{fill:"url(#"+l+")",opacity:1,"fill-opacity":1});g.fill=c;g.opacity=1;g.fillOpacity=1;return 1},y=function(e){var t=e.getBBox(1);m(e.pattern,{patternTransform:e.matrix.invert()+" translate("+t.x+","+t.y+")"})},b=function(r,i,s){if(r.type=="path"){var o=n(i).toLowerCase().split("-"),u=r.paper,a=s?"end":"start",f=r.node,l=r.attrs,h=l["stroke-width"],p=o.length,g="classic",y,b,w,E,S,x=3,T=3,N=5;while(p--)switch(o[p]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":g=o[p];break;case"wide":T=5;break;case"narrow":T=2;break;case"long":x=5;break;case"short":x=2}if(g=="open"){x+=2;T+=2;N+=2;w=1;E=s?4:1;S={fill:"none",stroke:l.stroke}}else{E=w=x/2;S={fill:l.stroke,stroke:"none"}}if(r._.arrows)if(s){r._.arrows.endPath&&v[r._.arrows.endPath]--;r._.arrows.endMarker&&v[r._.arrows.endMarker]--}else{r._.arrows.startPath&&v[r._.arrows.startPath]--;r._.arrows.startMarker&&v[r._.arrows.startMarker]--}else r._.arrows={};if(g!="none"){var C="raphael-marker-"+g,k="raphael-marker-"+a+g+x+T;if(!e._g.doc.getElementById(C)){u.defs.appendChild(m(m("path"),{"stroke-linecap":"round",d:d[g],id:C}));v[C]=1}else v[C]++;var L=e._g.doc.getElementById(k),A;if(!L){L=m(m("marker"),{id:k,markerHeight:T,markerWidth:x,orient:"auto",refX:E,refY:T/2});A=m(m("use"),{"xlink:href":"#"+C,transform:(s?"rotate(180 "+x/2+" "+T/2+") ":c)+"scale("+x/N+","+T/N+")","stroke-width":(1/((x/N+T/N)/2)).toFixed(4)});L.appendChild(A);u.defs.appendChild(L);v[k]=1}else{v[k]++;A=L.getElementsByTagName("use")[0]}m(A,S);var O=w*(g!="diamond"&&g!="oval");if(s){y=r._.arrows.startdx*h||0;b=e.getTotalLength(l.path)-O*h}else{y=O*h;b=e.getTotalLength(l.path)-(r._.arrows.enddx*h||0)}S={};S["marker-"+a]="url(#"+k+")";if(b||y)S.d=Raphael.getSubpath(l.path,y,b);m(f,S);r._.arrows[a+"Path"]=C;r._.arrows[a+"Marker"]=k;r._.arrows[a+"dx"]=O;r._.arrows[a+"Type"]=g;r._.arrows[a+"String"]=i}else{if(s){y=r._.arrows.startdx*h||0;b=e.getTotalLength(l.path)-y}else{y=0;b=e.getTotalLength(l.path)-(r._.arrows.enddx*h||0)}r._.arrows[a+"Path"]&&m(f,{d:Raphael.getSubpath(l.path,y,b)});delete r._.arrows[a+"Path"];delete r._.arrows[a+"Marker"];delete r._.arrows[a+"dx"];delete r._.arrows[a+"Type"];delete r._.arrows[a+"String"]}for(S in v)if(v[t](S)&&!v[S]){var M=e._g.doc.getElementById(S);M&&M.parentNode.removeChild(M)}}},w={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},E=function(e,t,r){t=w[n(t).toLowerCase()];if(t){var i=e.attrs["stroke-width"]||"1",s={round:i,square:i,butt:0}[e.attrs["stroke-linecap"]||r["stroke-linecap"]]||0,o=[],u=t.length;while(u--)o[u]=t[u]*i+(u%2?1:-1)*s;m(e.node,{"stroke-dasharray":o.join(",")})}},S=function(r,s){var a=r.node,l=r.attrs,h=a.style.visibility;a.style.visibility="hidden";for(var d in s)if(s[t](d)){if(!e._availableAttrs[t](d))continue;var v=s[d];l[d]=v;switch(d){case"blur":r.blur(v);break;case"href":case"title":case"target":var w=a.parentNode;if(w.tagName.toLowerCase()!="a"){var S=m("a");w.insertBefore(S,a);S.appendChild(a);w=S}d=="target"?w.setAttributeNS(p,"show",v=="blank"?"new":v):w.setAttributeNS(p,d,v);break;case"cursor":a.style.cursor=v;break;case"transform":r.transform(v);break;case"arrow-start":b(r,v);break;case"arrow-end":b(r,v,1);break;case"clip-rect":var x=n(v).split(f);if(x.length==4){r.clip&&r.clip.parentNode.parentNode.removeChild(r.clip.parentNode);var N=m("clipPath"),C=m("rect");N.id=e.createUUID();m(C,{x:x[0],y:x[1],width:x[2],height:x[3]});N.appendChild(C);r.paper.defs.appendChild(N);m(a,{"clip-path":"url(#"+N.id+")"});r.clip=C}if(!v){var k=a.getAttribute("clip-path");if(k){var L=e._g.doc.getElementById(k.replace(/(^url\(#|\)$)/g,c));L&&L.parentNode.removeChild(L);m(a,{"clip-path":c});delete r.clip}}break;case"path":if(r.type=="path"){m(a,{d:v?l.path=e._pathToAbsolute(v):"M0,0"});r._.dirty=1;if(r._.arrows){"startString"in r._.arrows&&b(r,r._.arrows.startString);"endString"in r._.arrows&&b(r,r._.arrows.endString,1)}}break;case"width":a.setAttribute(d,v);r._.dirty=1;if(!l.fx)break;d="x";v=l.x;case"x":l.fx&&(v=-l.x-(l.width||0));case"rx":if(d=="rx"&&r.type=="rect")break;case"cx":a.setAttribute(d,v);r.pattern&&y(r);r._.dirty=1;break;case"height":a.setAttribute(d,v);r._.dirty=1;if(!l.fy)break;d="y";v=l.y;case"y":l.fy&&(v=-l.y-(l.height||0));case"ry":if(d=="ry"&&r.type=="rect")break;case"cy":a.setAttribute(d,v);r.pattern&&y(r);r._.dirty=1;break;case"r":r.type=="rect"?m(a,{rx:v,ry:v}):a.setAttribute(d,v);r._.dirty=1;break;case"src":r.type=="image"&&a.setAttributeNS(p,"href",v);break;case"stroke-width":if(r._.sx!=1||r._.sy!=1)v/=o(u(r._.sx),u(r._.sy))||1;a.setAttribute(d,v);l["stroke-dasharray"]&&E(r,l["stroke-dasharray"],s);if(r._.arrows){"startString"in r._.arrows&&b(r,r._.arrows.startString);"endString"in r._.arrows&&b(r,r._.arrows.endString,1)}break;case"stroke-dasharray":E(r,v,s);break;case"fill":var A=n(v).match(e._ISURL);if(A){N=m("pattern");var O=m("image");N.id=e.createUUID();m(N,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});m(O,{x:0,y:0,"xlink:href":A[1]});N.appendChild(O);(function(t){e._preload(A[1],function(){var e=this.offsetWidth,n=this.offsetHeight;m(t,{width:e,height:n});m(O,{width:e,height:n});r.paper.safari()})})(N);r.paper.defs.appendChild(N);m(a,{fill:"url(#"+N.id+")"});r.pattern=N;r.pattern&&y(r);break}var M=e.getRGB(v);if(!M.error){delete s.gradient;delete l.gradient;!e.is(l.opacity,"undefined")&&e.is(s.opacity,"undefined")&&m(a,{opacity:l.opacity});!e.is(l["fill-opacity"],"undefined")&&e.is(s["fill-opacity"],"undefined")&&m(a,{"fill-opacity":l["fill-opacity"]})}else if((r.type=="circle"||r.type=="ellipse"||n(v).charAt()!="r")&&g(r,v)){if("opacity"in l||"fill-opacity"in l){var _=e._g.doc.getElementById(a.getAttribute("fill").replace(/^url\(#|\)$/g,c));if(_){var D=_.getElementsByTagName("stop");m(D[D.length-1],{"stop-opacity":("opacity"in l?l.opacity:1)*("fill-opacity"in l?l["fill-opacity"]:1)})}}l.gradient=v;l.fill="none";break}M[t]("opacity")&&m(a,{"fill-opacity":M.opacity>1?M.opacity/100:M.opacity});case"stroke":M=e.getRGB(v);a.setAttribute(d,M.hex);d=="stroke"&&M[t]("opacity")&&m(a,{"stroke-opacity":M.opacity>1?M.opacity/100:M.opacity});if(d=="stroke"&&r._.arrows){"startString"in r._.arrows&&b(r,r._.arrows.startString);"endString"in r._.arrows&&b(r,r._.arrows.endString,1)}break;case"gradient":(r.type=="circle"||r.type=="ellipse"||n(v).charAt()!="r")&&g(r,v);break;case"opacity":l.gradient&&!l[t]("stroke-opacity")&&m(a,{"stroke-opacity":v>1?v/100:v});case"fill-opacity":if(l.gradient){_=e._g.doc.getElementById(a.getAttribute("fill").replace(/^url\(#|\)$/g,c));if(_){D=_.getElementsByTagName("stop");m(D[D.length-1],{"stop-opacity":v})}break};default:d=="font-size"&&(v=i(v,10)+"px");var P=d.replace(/(\-.)/g,function(e){return e.substring(1).toUpperCase()});a.style[P]=v;r._.dirty=1;a.setAttribute(d,v)}}T(r,s);a.style.visibility=h},x=1.2,T=function(r,s){if(r.type!="text"||!(s[t]("text")||s[t]("font")||s[t]("font-size")||s[t]("x")||s[t]("y")))return;var o=r.attrs,u=r.node,a=u.firstChild?i(e._g.doc.defaultView.getComputedStyle(u.firstChild,c).getPropertyValue("font-size"),10):10;if(s[t]("text")){o.text=s.text;while(u.firstChild)u.removeChild(u.firstChild);var f=n(s.text).split("\n"),l=[],h;for(var p=0,d=f.length;p<d;p++){h=m("tspan");p&&m(h,{dy:a*x,x:o.x});h.appendChild(e._g.doc.createTextNode(f[p]));u.appendChild(h);l[p]=h}}else{l=u.getElementsByTagName("tspan");for(p=0,d=l.length;p<d;p++)p?m(l[p],{dy:a*x,x:o.x}):m(l[0],{dy:0})}m(u,{x:o.x,y:o.y});r._.dirty=1;var v=r._getBBox(),g=o.y-(v.y+v.height/2);g&&e.is(g,"finite")&&m(l[0],{dy:g})},N=function(t,n){var r=0,i=0;this[0]=this.node=t;t.raphael=!0;this.id=e._oid++;t.raphaelid=this.id;this.matrix=e.matrix();this.realPath=null;this.paper=n;this.attrs=this.attrs||{};this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1};!n.bottom&&(n.bottom=this);this.prev=n.top;n.top&&(n.top.next=this);n.top=this;this.next=null},C=e.el;N.prototype=C;C.constructor=N;e._engine.path=function(e,t){var n=m("path");t.canvas&&t.canvas.appendChild(n);var r=new N(n,t);r.type="path";S(r,{fill:"none",stroke:"#000",path:e});return r};C.rotate=function(e,t,i){if(this.removed)return this;e=n(e).split(f);if(e.length-1){t=r(e[1]);i=r(e[2])}e=r(e[0]);i==null&&(t=i);if(t==null||i==null){var s=this.getBBox(1);t=s.x+s.width/2;i=s.y+s.height/2}this.transform(this._.transform.concat([["r",e,t,i]]));return this};C.scale=function(e,t,i,s){if(this.removed)return this;e=n(e).split(f);if(e.length-1){t=r(e[1]);i=r(e[2]);s=r(e[3])}e=r(e[0]);t==null&&(t=e);s==null&&(i=s);if(i==null||s==null)var o=this.getBBox(1);i=i==null?o.x+o.width/2:i;s=s==null?o.y+o.height/2:s;this.transform(this._.transform.concat([["s",e,t,i,s]]));return this};C.translate=function(e,t){if(this.removed)return this;e=n(e).split(f);e.length-1&&(t=r(e[1]));e=r(e[0])||0;t=+t||0;this.transform(this._.transform.concat([["t",e,t]]));return this};C.transform=function(n){var r=this._;if(n==null)return r.transform;e._extractTransform(this,n);this.clip&&m(this.clip,{transform:this.matrix.invert()});this.pattern&&y(this);this.node&&m(this.node,{transform:this.matrix});if(r.sx!=1||r.sy!=1){var i=this.attrs[t]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":i})}return this};C.hide=function(){!this.removed&&this.paper.safari(this.node.style.display="none");return this};C.show=function(){!this.removed&&this.paper.safari(this.node.style.display="");return this};C.remove=function(){if(this.removed||!this.node.parentNode)return;var t=this.paper;t.__set__&&t.__set__.exclude(this);l.unbind("raphael.*.*."+this.id);this.gradient&&t.defs.removeChild(this.gradient);e._tear(this,t);this.node.parentNode.tagName.toLowerCase()=="a"?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(var n in this)this[n]=typeof this[n]=="function"?e._removedFactory(n):null;this.removed=!0};C._getBBox=function(){if(this.node.style.display=="none"){this.show();var e=!0}var t={};try{t=this.node.getBBox()}catch(n){}finally{t=t||{}}e&&this.hide();return t};C.attr=function(n,r){if(this.removed)return this;if(n==null){var i={};for(var s in this.attrs)this.attrs[t](s)&&(i[s]=this.attrs[s]);i.gradient&&i.fill=="none"&&(i.fill=i.gradient)&&delete i.gradient;i.transform=this._.transform;return i}if(r==null&&e.is(n,"string")){if(n=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;if(n=="transform")return this._.transform;var o=n.split(f),u={};for(var a=0,c=o.length;a<c;a++){n=o[a];n in this.attrs?u[n]=this.attrs[n]:e.is(this.paper.customAttributes[n],"function")?u[n]=this.paper.customAttributes[n].def:u[n]=e._availableAttrs[n]}return c-1?u:u[o[0]]}if(r==null&&e.is(n,"array")){u={};for(a=0,c=n.length;a<c;a++)u[n[a]]=this.attr(n[a]);return u}if(r!=null){var h={};h[n]=r}else n!=null&&e.is(n,"object")&&(h=n);for(var p in h)l("raphael.attr."+p+"."+this.id,this,h[p]);for(p in this.paper.customAttributes)if(this.paper.customAttributes[t](p)&&h[t](p)&&e.is(this.paper.customAttributes[p],"function")){var d=this.paper.customAttributes[p].apply(this,[].concat(h[p]));this.attrs[p]=h[p];for(var v in d)d[t](v)&&(h[v]=d[v])}S(this,h);return this};C.toFront=function(){if(this.removed)return this;this.node.parentNode.tagName.toLowerCase()=="a"?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var t=this.paper;t.top!=this&&e._tofront(this,t);return this};C.toBack=function(){if(this.removed)return this;var t=this.node.parentNode;t.tagName.toLowerCase()=="a"?t.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):t.firstChild!=this.node&&t.insertBefore(this.node,this.node.parentNode.firstChild);e._toback(this,this.paper);var n=this.paper;return this};C.insertAfter=function(t){if(this.removed)return this;var n=t.node||t[t.length-1].node;n.nextSibling?n.parentNode.insertBefore(this.node,n.nextSibling):n.parentNode.appendChild(this.node);e._insertafter(this,t,this.paper);return this};C.insertBefore=function(t){if(this.removed)return this;var n=t.node||t[0].node;n.parentNode.insertBefore(this.node,n);e._insertbefore(this,t,this.paper);return this};C.blur=function(t){var n=this;if(+t!==0){var r=m("filter"),i=m("feGaussianBlur");n.attrs.blur=t;r.id=e.createUUID();m(i,{stdDeviation:+t||1.5});r.appendChild(i);n.paper.defs.appendChild(r);n._blur=r;m(n.node,{filter:"url(#"+r.id+")"})}else{if(n._blur){n._blur.parentNode.removeChild(n._blur);delete n._blur;delete n.attrs.blur}n.node.removeAttribute("filter")}};e._engine.circle=function(e,t,n,r){var i=m("circle");e.canvas&&e.canvas.appendChild(i);var s=new N(i,e);s.attrs={cx:t,cy:n,r:r,fill:"none",stroke:"#000"};s.type="circle";m(i,s.attrs);return s};e._engine.rect=function(e,t,n,r,i,s){var o=m("rect");e.canvas&&e.canvas.appendChild(o);var u=new N(o,e);u.attrs={x:t,y:n,width:r,height:i,r:s||0,rx:s||0,ry:s||0,fill:"none",stroke:"#000"};u.type="rect";m(o,u.attrs);return u};e._engine.ellipse=function(e,t,n,r,i){var s=m("ellipse");e.canvas&&e.canvas.appendChild(s);var o=new N(s,e);o.attrs={cx:t,cy:n,rx:r,ry:i,fill:"none",stroke:"#000"};o.type="ellipse";m(s,o.attrs);return o};e._engine.image=function(e,t,n,r,i,s){var o=m("image");m(o,{x:n,y:r,width:i,height:s,preserveAspectRatio:"none"});o.setAttributeNS(p,"href",t);e.canvas&&e.canvas.appendChild(o);var u=new N(o,e);u.attrs={x:n,y:r,width:i,height:s,src:t};u.type="image";return u};e._engine.text=function(t,n,r,i){var s=m("text");t.canvas&&t.canvas.appendChild(s);var o=new N(s,t);o.attrs={x:n,y:r,"text-anchor":"middle",text:i,font:e._availableAttrs.font,stroke:"none",fill:"#000"};o.type="text";S(o,o.attrs);return o};e._engine.setSize=function(e,t){this.width=e||this.width;this.height=t||this.height;this.canvas.setAttribute("width",this.width);this.canvas.setAttribute("height",this.height);this._viewBox&&this.setViewBox.apply(this,this._viewBox);return this};e._engine.create=function(){var t=e._getContainer.apply(0,arguments),n=t&&t.container,r=t.x,i=t.y,s=t.width,o=t.height;if(!n)throw new Error("SVG container not found.");var u=m("svg"),a="overflow:hidden;",f;r=r||0;i=i||0;s=s||512;o=o||342;m(u,{height:o,version:1.1,width:s,xmlns:"http://www.w3.org/2000/svg"});if(n==1){u.style.cssText=a+"position:absolute;left:"+r+"px;top:"+i+"px";e._g.doc.body.appendChild(u);f=1}else{u.style.cssText=a+"position:relative";n.firstChild?n.insertBefore(u,n.firstChild):n.appendChild(u)}n=new e._Paper;n.width=s;n.height=o;n.canvas=u;n.clear();n._left=n._top=0;f&&(n.renderfix=function(){});n.renderfix();return n};e._engine.setViewBox=function(e,t,n,r,i){l("raphael.setViewBox",this,this._viewBox,[e,t,n,r,i]);var s=o(n/this.width,r/this.height),u=this.top,a=i?"meet":"xMinYMin",f,c;if(e==null){this._vbSize&&(s=1);delete this._vbSize;f="0 0 "+this.width+h+this.height}else{this._vbSize=s;f=e+h+t+h+n+h+r}m(this.canvas,{viewBox:f,preserveAspectRatio:a});while(s&&u){c="stroke-width"in u.attrs?u.attrs["stroke-width"]:1;u.attr({"stroke-width":c});u._.dirty=1;u._.dirtyT=1;u=u.prev}this._viewBox=[e,t,n,r,!!i];return this};e.prototype.renderfix=function(){var e=this.canvas,t=e.style,n;try{n=e.getScreenCTM()||e.createSVGMatrix()}catch(r){n=e.createSVGMatrix()}var i=-n.e%1,s=-n.f%1;if(i||s){if(i){this._left=(this._left+i)%1;t.left=this._left+"px"}if(s){this._top=(this._top+s)%1;t.top=this._top+"px"}}};e.prototype.clear=function(){e.eve("raphael.clear",this);var t=this.canvas;while(t.firstChild)t.removeChild(t.firstChild);this.bottom=this.top=null;(this.desc=m("desc")).appendChild(e._g.doc.createTextNode("Created with Raphal "+e.version));t.appendChild(this.desc);t.appendChild(this.defs=m("defs"))};e.prototype.remove=function(){l("raphael.remove",this);this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]=typeof this[t]=="function"?e._removedFactory(t):null};var k=e.st;for(var L in C)C[t](L)&&!k[t](L)&&(k[L]=function(e){return function(){var t=arguments;return this.forEach(function(n){n[e].apply(n,t)})}}(L))}(window.Raphael);window.Raphael.vml&&function(e){var t="hasOwnProperty",n=String,r=parseFloat,i=Math,s=i.round,o=i.max,u=i.min,a=i.abs,f="fill",l=/[, ]+/,c=e.eve,h=" progid:DXImageTransform.Microsoft",p=" ",d="",v={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},m=/([clmz]),?([^clmz]*)/gi,g=/ progid:\S+Blur\([^\)]+\)/g,y=/-?[^,\s-]+/g,b="position:absolute;left:0;top:0;width:1px;height:1px",w=21600,E={path:1,rect:1,image:1},S={circle:1,ellipse:1},x=function(t){var r=/[ahqstv]/ig,i=e._pathToAbsolute;n(t).match(r)&&(i=e._path2curve);r=/[clmz]/g;if(i==e._pathToAbsolute&&!n(t).match(r)){var o=n(t).replace(m,function(e,t,n){var r=[],i=t.toLowerCase()=="m",o=v[t];n.replace(y,function(e){if(i&&r.length==2){o+=r+v[t=="m"?"l":"L"];r=[]}r.push(s(e*w))});return o+r});return o}var u=i(t),a,f;o=[];for(var l=0,c=u.length;l<c;l++){a=u[l];f=u[l][0].toLowerCase();f=="z"&&(f="x");for(var h=1,g=a.length;h<g;h++)f+=s(a[h]*w)+(h!=g-1?",":d);o.push(f)}return o.join(p)},T=function(t,n,r){var i=e.matrix();i.rotate(-t,.5,.5);return{dx:i.x(n,r),dy:i.y(n,r)}},N=function(e,t,n,r,i,s){var o=e._,u=e.matrix,l=o.fillpos,c=e.node,h=c.style,d=1,v="",m,g=w/t,y=w/n;h.visibility="hidden";if(!t||!n)return;c.coordsize=a(g)+p+a(y);h.rotation=s*(t*n<0?-1:1);if(s){var b=T(s,r,i);r=b.dx;i=b.dy}t<0&&(v+="x");n<0&&(v+=" y")&&(d=-1);h.flip=v;c.coordorigin=r*-g+p+i*-y;if(l||o.fillsize){var E=c.getElementsByTagName(f);E=E&&E[0];c.removeChild(E);if(l){b=T(s,u.x(l[0],l[1]),u.y(l[0],l[1]));E.position=b.dx*d+p+b.dy*d}o.fillsize&&(E.size=o.fillsize[0]*a(t)+p+o.fillsize[1]*a(n));c.appendChild(E)}h.visibility="visible"};e.toString=function(){return"Your browser doesnt support SVG. Falling down to VML.\nYou are running Raphal "+this.version};var C=function(e,t,r){var i=n(t).toLowerCase().split("-"),s=r?"end":"start",o=i.length,u="classic",a="medium",f="medium";while(o--)switch(i[o]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":u=i[o];break;case"wide":case"narrow":f=i[o];break;case"long":case"short":a=i[o]}var l=e.node.getElementsByTagName("stroke")[0];l[s+"arrow"]=u;l[s+"arrowlength"]=a;l[s+"arrowwidth"]=f},k=function(i,a){i.attrs=i.attrs||{};var c=i.node,h=i.attrs,v=c.style,m,g=E[i.type]&&(a.x!=h.x||a.y!=h.y||a.width!=h.width||a.height!=h.height||a.cx!=h.cx||a.cy!=h.cy||a.rx!=h.rx||a.ry!=h.ry||a.r!=h.r),y=S[i.type]&&(h.cx!=a.cx||h.cy!=a.cy||h.r!=a.r||h.rx!=a.rx||h.ry!=a.ry),b=i;for(var T in a)a[t](T)&&(h[T]=a[T]);if(g){h.path=e._getPath[i.type](i);i._.dirty=1}a.href&&(c.href=a.href);a.title&&(c.title=a.title);a.target&&(c.target=a.target);a.cursor&&(v.cursor=a.cursor);"blur"in a&&i.blur(a.blur);if(a.path&&i.type=="path"||g){c.path=x(~n(h.path).toLowerCase().indexOf("r")?e._pathToAbsolute(h.path):h.path);if(i.type=="image"){i._.fillpos=[h.x,h.y];i._.fillsize=[h.width,h.height];N(i,1,1,0,0,0)}}"transform"in a&&i.transform(a.transform);if(y){var k=+h.cx,A=+h.cy,O=+h.rx||+h.r||0,_=+h.ry||+h.r||0;c.path=e.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",s((k-O)*w),s((A-_)*w),s((k+O)*w),s((A+_)*w),s(k*w))}if("clip-rect"in a){var D=n(a["clip-rect"]).split(l);if(D.length==4){D[2]=+D[2]+ +D[0];D[3]=+D[3]+ +D[1];var P=c.clipRect||e._g.doc.createElement("div"),H=P.style;H.clip=e.format("rect({1}px {2}px {3}px {0}px)",D);if(!c.clipRect){H.position="absolute";H.top=0;H.left=0;H.width=i.paper.width+"px";H.height=i.paper.height+"px";c.parentNode.insertBefore(P,c);P.appendChild(c);c.clipRect=P}}a["clip-rect"]||c.clipRect&&(c.clipRect.style.clip="auto")}if(i.textpath){var B=i.textpath.style;a.font&&(B.font=a.font);a["font-family"]&&(B.fontFamily='"'+a["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,d)+'"');a["font-size"]&&(B.fontSize=a["font-size"]);a["font-weight"]&&(B.fontWeight=a["font-weight"]);a["font-style"]&&(B.fontStyle=a["font-style"])}"arrow-start"in a&&C(b,a["arrow-start"]);"arrow-end"in a&&C(b,a["arrow-end"],1);if(a.opacity!=null||a["stroke-width"]!=null||a.fill!=null||a.src!=null||a.stroke!=null||a["stroke-width"
]!=null||a["stroke-opacity"]!=null||a["fill-opacity"]!=null||a["stroke-dasharray"]!=null||a["stroke-miterlimit"]!=null||a["stroke-linejoin"]!=null||a["stroke-linecap"]!=null){var j=c.getElementsByTagName(f),F=!1;j=j&&j[0];!j&&(F=j=M(f));i.type=="image"&&a.src&&(j.src=a.src);a.fill&&(j.on=!0);if(j.on==null||a.fill=="none"||a.fill===null)j.on=!1;if(j.on&&a.fill){var I=n(a.fill).match(e._ISURL);if(I){j.parentNode==c&&c.removeChild(j);j.rotate=!0;j.src=I[1];j.type="tile";var q=i.getBBox(1);j.position=q.x+p+q.y;i._.fillpos=[q.x,q.y];e._preload(I[1],function(){i._.fillsize=[this.offsetWidth,this.offsetHeight]})}else{j.color=e.getRGB(a.fill).hex;j.src=d;j.type="solid";if(e.getRGB(a.fill).error&&(b.type in{circle:1,ellipse:1}||n(a.fill).charAt()!="r")&&L(b,a.fill,j)){h.fill="none";h.gradient=a.fill;j.rotate=!1}}}if("fill-opacity"in a||"opacity"in a){var U=((+h["fill-opacity"]+1||2)-1)*((+h.opacity+1||2)-1)*((+e.getRGB(a.fill).o+1||2)-1);U=u(o(U,0),1);j.opacity=U;j.src&&(j.color="none")}c.appendChild(j);var z=c.getElementsByTagName("stroke")&&c.getElementsByTagName("stroke")[0],W=!1;!z&&(W=z=M("stroke"));if(a.stroke&&a.stroke!="none"||a["stroke-width"]||a["stroke-opacity"]!=null||a["stroke-dasharray"]||a["stroke-miterlimit"]||a["stroke-linejoin"]||a["stroke-linecap"])z.on=!0;(a.stroke=="none"||a.stroke===null||z.on==null||a.stroke==0||a["stroke-width"]==0)&&(z.on=!1);var X=e.getRGB(a.stroke);z.on&&a.stroke&&(z.color=X.hex);U=((+h["stroke-opacity"]+1||2)-1)*((+h.opacity+1||2)-1)*((+X.o+1||2)-1);var V=(r(a["stroke-width"])||1)*.75;U=u(o(U,0),1);a["stroke-width"]==null&&(V=h["stroke-width"]);a["stroke-width"]&&(z.weight=V);V&&V<1&&(U*=V)&&(z.weight=1);z.opacity=U;a["stroke-linejoin"]&&(z.joinstyle=a["stroke-linejoin"]||"miter");z.miterlimit=a["stroke-miterlimit"]||8;a["stroke-linecap"]&&(z.endcap=a["stroke-linecap"]=="butt"?"flat":a["stroke-linecap"]=="square"?"square":"round");if(a["stroke-dasharray"]){var $={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};z.dashstyle=$[t](a["stroke-dasharray"])?$[a["stroke-dasharray"]]:d}W&&c.appendChild(z)}if(b.type=="text"){b.paper.canvas.style.display=d;var J=b.paper.span,K=100,Q=h.font&&h.font.match(/\d+(?:\.\d*)?(?=px)/);v=J.style;h.font&&(v.font=h.font);h["font-family"]&&(v.fontFamily=h["font-family"]);h["font-weight"]&&(v.fontWeight=h["font-weight"]);h["font-style"]&&(v.fontStyle=h["font-style"]);Q=r(h["font-size"]||Q&&Q[0])||10;v.fontSize=Q*K+"px";b.textpath.string&&(J.innerHTML=n(b.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var G=J.getBoundingClientRect();b.W=h.w=(G.right-G.left)/K;b.H=h.h=(G.bottom-G.top)/K;b.X=h.x;b.Y=h.y+b.H/2;("x"in a||"y"in a)&&(b.path.v=e.format("m{0},{1}l{2},{1}",s(h.x*w),s(h.y*w),s(h.x*w)+1));var Y=["x","y","text","font","font-family","font-weight","font-style","font-size"];for(var Z=0,et=Y.length;Z<et;Z++)if(Y[Z]in a){b._.dirty=1;break}switch(h["text-anchor"]){case"start":b.textpath.style["v-text-align"]="left";b.bbx=b.W/2;break;case"end":b.textpath.style["v-text-align"]="right";b.bbx=-b.W/2;break;default:b.textpath.style["v-text-align"]="center";b.bbx=0}b.textpath.style["v-text-kern"]=!0}},L=function(t,s,o){t.attrs=t.attrs||{};var u=t.attrs,a=Math.pow,f,l,c="linear",h=".5 .5";t.attrs.gradient=s;s=n(s).replace(e._radial_gradient,function(e,t,n){c="radial";if(t&&n){t=r(t);n=r(n);a(t-.5,2)+a(n-.5,2)>.25&&(n=i.sqrt(.25-a(t-.5,2))*((n>.5)*2-1)+.5);h=t+p+n}return d});s=s.split(/\s*\-\s*/);if(c=="linear"){var v=s.shift();v=-r(v);if(isNaN(v))return null}var m=e._parseDots(s);if(!m)return null;t=t.shape||t.node;if(m.length){t.removeChild(o);o.on=!0;o.method="none";o.color=m[0].color;o.color2=m[m.length-1].color;var g=[];for(var y=0,b=m.length;y<b;y++)m[y].offset&&g.push(m[y].offset+p+m[y].color);o.colors=g.length?g.join():"0% "+o.color;if(c=="radial"){o.type="gradientTitle";o.focus="100%";o.focussize="0 0";o.focusposition=h;o.angle=0}else{o.type="gradient";o.angle=(270-v)%360}t.appendChild(o)}return 1},A=function(t,n){this[0]=this.node=t;t.raphael=!0;this.id=e._oid++;t.raphaelid=this.id;this.X=0;this.Y=0;this.attrs={};this.paper=n;this.matrix=e.matrix();this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1};!n.bottom&&(n.bottom=this);this.prev=n.top;n.top&&(n.top.next=this);n.top=this;this.next=null},O=e.el;A.prototype=O;O.constructor=A;O.transform=function(t){if(t==null)return this._.transform;var r=this.paper._viewBoxShift,i=r?"s"+[r.scale,r.scale]+"-1-1t"+[r.dx,r.dy]:d,s;r&&(s=t=n(t).replace(/\.{3}|\u2026/g,this._.transform||d));e._extractTransform(this,i+t);var o=this.matrix.clone(),u=this.skew,a=this.node,f,l=~n(this.attrs.fill).indexOf("-"),c=!n(this.attrs.fill).indexOf("url(");o.translate(-0.5,-0.5);if(c||l||this.type=="image"){u.matrix="1 0 0 1";u.offset="0 0";f=o.split();if(l&&f.noRotation||!f.isSimple){a.style.filter=o.toFilter();var h=this.getBBox(),v=this.getBBox(1),m=h.x-v.x,g=h.y-v.y;a.coordorigin=m*-w+p+g*-w;N(this,1,1,m,g,0)}else{a.style.filter=d;N(this,f.scalex,f.scaley,f.dx,f.dy,f.rotate)}}else{a.style.filter=d;u.matrix=n(o);u.offset=o.offset()}s&&(this._.transform=s);return this};O.rotate=function(e,t,i){if(this.removed)return this;if(e==null)return;e=n(e).split(l);if(e.length-1){t=r(e[1]);i=r(e[2])}e=r(e[0]);i==null&&(t=i);if(t==null||i==null){var s=this.getBBox(1);t=s.x+s.width/2;i=s.y+s.height/2}this._.dirtyT=1;this.transform(this._.transform.concat([["r",e,t,i]]));return this};O.translate=function(e,t){if(this.removed)return this;e=n(e).split(l);e.length-1&&(t=r(e[1]));e=r(e[0])||0;t=+t||0;if(this._.bbox){this._.bbox.x+=e;this._.bbox.y+=t}this.transform(this._.transform.concat([["t",e,t]]));return this};O.scale=function(e,t,i,s){if(this.removed)return this;e=n(e).split(l);if(e.length-1){t=r(e[1]);i=r(e[2]);s=r(e[3]);isNaN(i)&&(i=null);isNaN(s)&&(s=null)}e=r(e[0]);t==null&&(t=e);s==null&&(i=s);if(i==null||s==null)var o=this.getBBox(1);i=i==null?o.x+o.width/2:i;s=s==null?o.y+o.height/2:s;this.transform(this._.transform.concat([["s",e,t,i,s]]));this._.dirtyT=1;return this};O.hide=function(){!this.removed&&(this.node.style.display="none");return this};O.show=function(){!this.removed&&(this.node.style.display=d);return this};O._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}};O.remove=function(){if(this.removed||!this.node.parentNode)return;this.paper.__set__&&this.paper.__set__.exclude(this);e.eve.unbind("raphael.*.*."+this.id);e._tear(this,this.paper);this.node.parentNode.removeChild(this.node);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var t in this)this[t]=typeof this[t]=="function"?e._removedFactory(t):null;this.removed=!0};O.attr=function(n,r){if(this.removed)return this;if(n==null){var i={};for(var s in this.attrs)this.attrs[t](s)&&(i[s]=this.attrs[s]);i.gradient&&i.fill=="none"&&(i.fill=i.gradient)&&delete i.gradient;i.transform=this._.transform;return i}if(r==null&&e.is(n,"string")){if(n==f&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;var o=n.split(l),u={};for(var a=0,h=o.length;a<h;a++){n=o[a];n in this.attrs?u[n]=this.attrs[n]:e.is(this.paper.customAttributes[n],"function")?u[n]=this.paper.customAttributes[n].def:u[n]=e._availableAttrs[n]}return h-1?u:u[o[0]]}if(this.attrs&&r==null&&e.is(n,"array")){u={};for(a=0,h=n.length;a<h;a++)u[n[a]]=this.attr(n[a]);return u}var p;if(r!=null){p={};p[n]=r}r==null&&e.is(n,"object")&&(p=n);for(var d in p)c("raphael.attr."+d+"."+this.id,this,p[d]);if(p){for(d in this.paper.customAttributes)if(this.paper.customAttributes[t](d)&&p[t](d)&&e.is(this.paper.customAttributes[d],"function")){var v=this.paper.customAttributes[d].apply(this,[].concat(p[d]));this.attrs[d]=p[d];for(var m in v)v[t](m)&&(p[m]=v[m])}p.text&&this.type=="text"&&(this.textpath.string=p.text);k(this,p)}return this};O.toFront=function(){!this.removed&&this.node.parentNode.appendChild(this.node);this.paper&&this.paper.top!=this&&e._tofront(this,this.paper);return this};O.toBack=function(){if(this.removed)return this;if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild);e._toback(this,this.paper)}return this};O.insertAfter=function(t){if(this.removed)return this;t.constructor==e.st.constructor&&(t=t[t.length-1]);t.node.nextSibling?t.node.parentNode.insertBefore(this.node,t.node.nextSibling):t.node.parentNode.appendChild(this.node);e._insertafter(this,t,this.paper);return this};O.insertBefore=function(t){if(this.removed)return this;t.constructor==e.st.constructor&&(t=t[0]);t.node.parentNode.insertBefore(this.node,t.node);e._insertbefore(this,t,this.paper);return this};O.blur=function(t){var n=this.node.runtimeStyle,r=n.filter;r=r.replace(g,d);if(+t!==0){this.attrs.blur=t;n.filter=r+p+h+".Blur(pixelradius="+(+t||1.5)+")";n.margin=e.format("-{0}px 0 0 -{0}px",s(+t||1.5))}else{n.filter=r;n.margin=0;delete this.attrs.blur}};e._engine.path=function(e,t){var n=M("shape");n.style.cssText=b;n.coordsize=w+p+w;n.coordorigin=t.coordorigin;var r=new A(n,t),i={fill:"none",stroke:"#000"};e&&(i.path=e);r.type="path";r.path=[];r.Path=d;k(r,i);t.canvas.appendChild(n);var s=M("skew");s.on=!0;n.appendChild(s);r.skew=s;r.transform(d);return r};e._engine.rect=function(t,n,r,i,s,o){var u=e._rectPath(n,r,i,s,o),a=t.path(u),f=a.attrs;a.X=f.x=n;a.Y=f.y=r;a.W=f.width=i;a.H=f.height=s;f.r=o;f.path=u;a.type="rect";return a};e._engine.ellipse=function(e,t,n,r,i){var s=e.path(),o=s.attrs;s.X=t-r;s.Y=n-i;s.W=r*2;s.H=i*2;s.type="ellipse";k(s,{cx:t,cy:n,rx:r,ry:i});return s};e._engine.circle=function(e,t,n,r){var i=e.path(),s=i.attrs;i.X=t-r;i.Y=n-r;i.W=i.H=r*2;i.type="circle";k(i,{cx:t,cy:n,r:r});return i};e._engine.image=function(t,n,r,i,s,o){var u=e._rectPath(r,i,s,o),a=t.path(u).attr({stroke:"none"}),l=a.attrs,c=a.node,h=c.getElementsByTagName(f)[0];l.src=n;a.X=l.x=r;a.Y=l.y=i;a.W=l.width=s;a.H=l.height=o;l.path=u;a.type="image";h.parentNode==c&&c.removeChild(h);h.rotate=!0;h.src=n;h.type="tile";a._.fillpos=[r,i];a._.fillsize=[s,o];c.appendChild(h);N(a,1,1,0,0,0);return a};e._engine.text=function(t,r,i,o){var u=M("shape"),a=M("path"),f=M("textpath");r=r||0;i=i||0;o=o||"";a.v=e.format("m{0},{1}l{2},{1}",s(r*w),s(i*w),s(r*w)+1);a.textpathok=!0;f.string=n(o);f.on=!0;u.style.cssText=b;u.coordsize=w+p+w;u.coordorigin="0 0";var l=new A(u,t),c={fill:"#000",stroke:"none",font:e._availableAttrs.font,text:o};l.shape=u;l.path=a;l.textpath=f;l.type="text";l.attrs.text=n(o);l.attrs.x=r;l.attrs.y=i;l.attrs.w=1;l.attrs.h=1;k(l,c);u.appendChild(f);u.appendChild(a);t.canvas.appendChild(u);var h=M("skew");h.on=!0;u.appendChild(h);l.skew=h;l.transform(d);return l};e._engine.setSize=function(t,n){var r=this.canvas.style;this.width=t;this.height=n;t==+t&&(t+="px");n==+n&&(n+="px");r.width=t;r.height=n;r.clip="rect(0 "+t+" "+n+" 0)";this._viewBox&&e._engine.setViewBox.apply(this,this._viewBox);return this};e._engine.setViewBox=function(t,n,r,i,s){e.eve("raphael.setViewBox",this,this._viewBox,[t,n,r,i,s]);var u=this.width,a=this.height,f=1/o(r/u,i/a),l,c;if(s){l=a/i;c=u/r;r*l<u&&(t-=(u-r*l)/2/l);i*c<a&&(n-=(a-i*c)/2/c)}this._viewBox=[t,n,r,i,!!s];this._viewBoxShift={dx:-t,dy:-n,scale:f};this.forEach(function(e){e.transform("...")});return this};var M;e._engine.initWin=function(e){var t=e.document;t.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!t.namespaces.rvml&&t.namespaces.add("rvml","urn:schemas-microsoft-com:vml");M=function(e){return t.createElement("<rvml:"+e+' class="rvml">')}}catch(n){M=function(e){return t.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}};e._engine.initWin(e._g.win);e._engine.create=function(){var t=e._getContainer.apply(0,arguments),n=t.container,r=t.height,i,s=t.width,o=t.x,u=t.y;if(!n)throw new Error("VML container not found.");var a=new e._Paper,f=a.canvas=e._g.doc.createElement("div"),l=f.style;o=o||0;u=u||0;s=s||512;r=r||342;a.width=s;a.height=r;s==+s&&(s+="px");r==+r&&(r+="px");a.coordsize=w*1e3+p+w*1e3;a.coordorigin="0 0";a.span=e._g.doc.createElement("span");a.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;";f.appendChild(a.span);l.cssText=e.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",s,r);if(n==1){e._g.doc.body.appendChild(f);l.left=o+"px";l.top=u+"px";l.position="absolute"}else n.firstChild?n.insertBefore(f,n.firstChild):n.appendChild(f);a.renderfix=function(){};return a};e.prototype.clear=function(){e.eve("raphael.clear",this);this.canvas.innerHTML=d;this.span=e._g.doc.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas.appendChild(this.span);this.bottom=this.top=null};e.prototype.remove=function(){e.eve("raphael.remove",this);this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]=typeof this[t]=="function"?e._removedFactory(t):null;return!0};var _=e.st;for(var D in O)O[t](D)&&!_[t](D)&&(_[D]=function(e){return function(){var t=arguments;return this.forEach(function(n){n[e].apply(n,t)})}}(D))}(window.Raphael);Raphael.fn.drawGrid=function(e,t,n,r,i,s,o){o=o||"#000";var u=["M",Math.round(e)+.5,Math.round(t)+.5,"L",Math.round(e+n)+.5,Math.round(t)+.5,Math.round(e+n)+.5,Math.round(t+r)+.5,Math.round(e)+.5,Math.round(t+r)+.5,Math.round(e)+.5,Math.round(t)+.5],a=r/s,f=n/i;for(var l=1;l<s;l++)u=u.concat(["M",Math.round(e)+.5,Math.round(t+l*a)+.5,"H",Math.round(e+n)+.5]);for(l=1;l<i;l++)u=u.concat(["M",Math.round(e+l*f)+.5,Math.round(t)+.5,"V",Math.round(t+r)+.5]);return this.path(u.join(",")).attr({stroke:o})};Raphael.fn.importFileSVG=function(e,t,n){var r=window.vtl.vtlLoadedModels,i=this;if(r[e]!==undefined){i.importGroups=i.importSVG(r[e]);t.call(n,i.importGroups)}else{var s=e;$.ajax({type:"GET",url:e,context:i,dataType:"xml",success:function(o,u,a){r[s]=o;this.importGroups=i.importSVG(r[e]);t.call(n,this.importGroups)},error:function(e,t,n){},complete:function(e,t){}})}};Raphael.fn.importSVG=function(e){var t=this.set(),n={},r=0,i=undefined,s={"text-anchor":"start"};this.stringtoXML=function(e){if(window.ActiveXObject){var t=new ActiveXObject("Microsoft.XMLDOM");t.async="false";t.loadXML(e)}else var n=new DOMParser,t=n.parseFromString(e,"text/xml");return t};this.parseElement=function(e){if(e.nodeType==3)return;var o={stroke:"transparent","stroke-width":0,fill:"#000"},u;if(e.attributes)for(u=e.attributes.length-1;u>=0;--u)e.attributes[u].name=="stroke-dasharray"?o["stroke-dasharray"]="- ":o[e.attributes[u].name]=e.attributes[u].value;var a,f,l=e.nodeName;switch(l){case"svg":case"g":r++;if(r==2){var c=e.getAttribute("id");c&&e.childNodes.length&&e.childNodes.item(1)!=null&&e.childNodes.item(1).setAttribute("id",c);var h=this.set();i=h}else i===undefined&&(i=this.set());for(u=0;u<e.childNodes.length;++u)i.push(this.parseElement(e.childNodes.item(u)));if(o.transform){var p=/translate\(([^,]+),([^,]+)\)/.exec(o.transform);p.length==3&&h.translate(p[1],p[2])}o.display==="none"&&h.hide();o.visibility==="hidden"&&h.hide();try{styles=this.styleToAttr(o.style);styles.visibility==="hidden"&&h.hide()}catch(d){}c&&e.childNodes.length&&(n[c]=h);r--;return;case"rect":if(o.rx&&o.ry){o.r=(+(o.rx||0)+ +(o.ry||0))/2;delete o.rx;delete o.ry}else{o.r=o.rx||o.ry||0;delete o.rx;delete o.ry};case"circle":case"ellipse":a=this[l]();break;case"path":a=this.path(o.d);delete o.d;break;case"polygon":a=this.polygon(o);break;case"polyline":a=this.polyline(o);break;case"line":a=this.line(o);break;case"image":a=this.image();break;case"text":for(var v in s)!o[v]&&s.hasOwnProperty(v)&&(o[v]=s[v]);a=this.text(o.x,o.y,e.text||e.textContent);break;default:var m=e.getElementsByTagName("svg");if(m.length){m[0].normalize();this.parseElement(m[0])}return}var g=o.transform;if(g){g=g.substring(7,g.length-1).split(" ").map(function(e){return parseFloat(e)});var y=a.matrix;y.add.apply(y,g);a.transform(y.toTransformString());delete o.transform}a.attr(o);styles=this.styleToAttr(o.style);a.attr(styles);var b=e.getAttribute("id");b&&(a.node.id=b);t.push(a);return a};typeof e=="string"&&(e=this.stringtoXML(e));this.parseElement(e);var o=!1,u;for(u in n){o=!0;break}o&&(t.groups=n);return t};Raphael.fn.line=function(e){var t=["M",e.x1,e.y1,"L",e.x2,e.y2,"Z"];delete e.x1;delete e.y1;delete e.x2;delete e.y2;return this.path(t)};Raphael.fn.styleToAttr=function(e){var t={};if(typeof e!="string")return;var n=e.split(";");for(var r=0;r<n.length;r++){var i=n[r].split(":");t[i[0]]=i[1]}return t};Raphael.fn.polygon=function(e){var t=e.points,n=["M"],r=t.split(" ");for(var i=0;i<r.length;i++){var s=r[i].split(",");for(var o=0;o<s.length;o++){var u=parseFloat(s[o]);isNaN(u)||n.push(u)}i===0&&n.push("L")}n.push("Z");delete e.points;return this.path(n)};Raphael.fn.polyline=function(e){var t=e.points,n=["M"],r=t.split(" ");for(var i=0;i<r.length;i++){var s=r[i].split(",");for(var o=0;o<s.length;o++){var u=parseFloat(s[o]);isNaN(u)||n.push(u)}i===0&&n.push("L")}delete e.points;return this.path(n)};Raphael.fn.fitContent=function(){var e=this.set();this.forEach(function(t){e.push(t)});var t=e.getBBox();this.setViewBox(t.x,t.y,t.x2-t.x,t.y2-t.x)};Raphael.st.cloneSet=function(){var e={};oset=this;paper=this[0].paper;var t=paper.set();for(setAtual in oset.groups){groupId=setAtual.toString();s=paper.set();for(var n=0,r=oset.groups[setAtual].items.length;n<r;n++){el=oset.groups[setAtual].items[n].clone();s.push(el);t.push(el)}e[groupId]=s}t.groups=e;return t};Raphael.st.cloneSetToPaper=function(e){var t={};oset=this;paper=e;var n=paper.set();for(setAtual in oset.groups){groupId=setAtual.toString();s=paper.set();for(var r=0,i=oset.groups[setAtual].items.length;r<i;r++){el=oset.groups[setAtual].items[r].clone();s.push(el);n.push(el)}t[groupId]=s}n.groups=t;return n};Raphael.st.position=function(e){var t=this.getBBox(!0),n=t.x+t.width/2,r=t.y+t.height/2;return{x:n,y:r}};Raphael.st.stop=function(){set.tween.pause()};Raphael.st.anima=function(e){e=e||7;var t=this,n=11,r=-1,i=1,s=[];for(grp in this.groups)/FRAME/.test(grp)&&s.push(this.groups[grp]);if(s.length==0)return;t.frames=s;t.totalframes=s.length-1;totalframes=t.totalframes;t.frame=0;t.prev_frame=0;t.tween&&TweenMax.killTweensOf(t);t.tween=new TimelineMax({delay:0,repeat:-1,repeatDelay:0,useFrames:!1,yoyo:!0});var o=totalframes/e;VTL_TIMELINE.add(t.tween.to(t,o,{frame:totalframes,onUpdateScope:t,onUpdate:function(){this.frame=parseInt(this.frame,10);try{if(this.frame!=this.prev_frame){svgobj=this.frames[this.prev_frame];svgobj.hide()}svgobj=this.frames[this.frame];svgobj.show()}catch(e){}this.prev_frame=this.frame},ease:Linear.easeNone,roundProps:"frame"}),0);return this};Raphael.st.selfRotate=function(e){var t=this.getBBox(!0),n=t.x+t.width/2,r=t.y+t.height/2;this.transform("...R"+e+" "+n+" "+r);return this};Raphael.st.applyTransform=function(){this.forEach(function(e){var t=e.transform().toString(),n=e.attr("path").toString();e.attr({path:Raphael.transformPath(n,t)});e.transform("")});return this};Raphael.el.getPoints=function(){e=this;var t=e.transform().toString(),n=e.attr("path").toString(),r=e.getTotalLength(),i=[];for(var s=0;s<r;s+=r/20){var o=e.getPointAtLength(s);i.push({x:o.x,y:o.y,rotation:o.alpha})}var u=[],a=i[0];u.push(a);for(var s=1;s<i.length;s++){var f=i[s];if(Math.sqrt((a.x-f.x)*(a.x-f.x)+(a.y-f.y)*(a.y-f.y))>100){u.push(f);a=f}}e.attr({path:n});return u};Raphael.el.applyTransform=function(){e=this;var t=e.transform().toString(),n=e.attr("path").toString();e.attr({path:Raphael.transformPath(n,t)});e.transform("");return this};Raphael.el.showProgressive=function(e){var t=this.attr("path").toString(),n=this.paper,r=n.path(t).attr({stroke:"none",fill:"none"}),i=this.attr({path:r.getSubpath(0,1)});i.anima=0;i.guia=r;var s=r.getTotalLength(r);TweenMax.to(i,e/1e3,{anima:s,onUpdateScope:i,onUpdate:function(){novocaminho=this.guia.getSubpath(0,this.anima);this.attr({path:novocaminho})}});return this};Raphael.el.stoptween=function(){TweenMax.killTweensOf(this);return this};Raphael.fn.cloneSet=function(e){var t={},n=this.set();for(setAtual in e.groups){groupId=setAtual.toString();s=this.set();for(var r=0,i=e.groups[setAtual].items.length;r<i;r++){el=e.groups[setAtual].items[r].clone();s.push(el);n.push(el)}t[groupId]=s}n.groups=t;return n};Raphael.fn.cloneSetToPaper=function(e,t){var n={},r=t.set();for(setAtual in e.groups){groupId=setAtual.toString();s=t.set();for(var i=0,o=e.groups[setAtual].items.length;i<o;i++){el=e.groups[setAtual].items[i].clone();s.push(el);r.push(el)}n[groupId]=s}r.groups=n;return r};Raphael.fn.addGuides=function(){this.ca.guide=function(e){return{guide:e}};this.ca.along=function(e){var t=this.attr("guide"),n=t.getTotalLength(),r=t.getPointAtLength(e*n);speed_length=10;r.alpha+=90;while(r.alpha>180)r.alpha-=90;speed_angle=e*54e3*Math.PI/180;speed_x=r.x+speed_length*Math.cos(speed_angle);speed_y=r.y+speed_length*Math.sin(speed_angle);var i={transform:"t"+speed_x+" "+speed_y};console.log(r.alpha+" --  "+speed_angle);return i}};Raphael.el.popup=function(e,t,n,r){var i=this.paper||this[0].paper,s,o,u,a;if(i){switch(this.type){case"text":case"circle":case"ellipse":o=!0;break;default:o=!1}e=null==e?"up":e;t=t||5;s=this.getBBox();n="number"==typeof n?n:o?s.x+s.width/2:s.x;r="number"==typeof r?r:o?s.y+s.height/2:s.y;u=Math.max(s.width/2-t,0);a=Math.max(s.height/2-t,0);this.translate(n-s.x-(o?s.width/2:0),r-s.y-(o?s.height/2:0));s=this.getBBox();n={up:["M",n,r,"l",-t,-t,-u,0,"a",t,t,0,0,1,-t,-t,"l",0,-s.height,"a",t,t,0,0,1,t,-t,"l",2*t+2*u,0,"a",t,t,0,0,1,t,t,"l",0,s.height,"a",t,t,0,0,1,-t,t,"l",-u,0,"z"].join(),down:["M",n,r,"l",t,t,u,0,"a",t,t,0,0,1,t,t,"l",0,s.height,"a",t,t,0,0,1,-t,t,"l",-(2*t+2*u),0,"a",t,t,0,0,1,-t,-t,"l",0,-s.height,"a",t,t,0,0,1,t,-t,"l",u,0,"z"].join(),left:["M",n,r,"l",-t,t,0,a,"a",t,t,0,0,1,-t,t,"l",-s.width,0,"a",t,t,0,0,1,-t,-t,"l",0,-(2*t+2*a),"a",t,t,0,0,1,t,-t,"l",s.width,0,"a",t,t,0,0,1,t,t,"l",0,a,"z"].join(),right:["M",n,r,"l",t,-t,0,-a,"a",t,t,0,0,1,t,-t,"l",s.width,0,"a",t,t,0,0,1,t,t,"l",0,2*t+2*a,"a",t,t,0,0,1,-t,t,"l",-s.width,0,"a",t,t,0,0,1,-t,-t,"l",0,-a,"z"].join()};t={up:{x:-!o*(s.width/2),y:2*-t-(o?s.height/2:s.height)},down:{x:-!o*(s.width/2),y:2*t+(o?s.height/2:s.height)},left:{x:2*-t-(o?s.width/2:s.width),y:-!o*(s.height/2)},right:{x:2*t+(o?s.width/2:s.width),y:-!o*(s.height/2)}}[e];this.translate(t.x,t.y);return i.path(n[e]).attr({fill:"#000",stroke:"none"}).insertBefore(this.node?this:this[0])}};Raphael.el.tag=function(e,t,n,r){var i=this.paper||this[0].paper;if(i){var i=i.path().attr({fill:"#000",stroke:"#000"}),s=this.getBBox(),o,u,a;switch(this.type){case"text":case"circle":case"ellipse":a=!0;break;default:a=!1}e=e||0;n="number"==typeof n?n:a?s.x+s.width/2:s.x;r="number"==typeof r?r:a?s.y+s.height/2:s.y;t=null==t?5:t;u=.5522*t;s.height>=2*t?i.attr({path:["M",n,r+t,"a",t,t,0,1,1,0,2*-t,t,t,0,1,1,0,2*t,"m",0,2*-t-3,"a",t+3,t+3,0,1,0,0,2*(t+3),"L",n+t+3,r+s.height/2+3,"l",s.width+6,0,0,-s.height-6,-s.width-6,0,"L",n,r-t-3].join()}):(o=Math.sqrt(Math.pow(t+3,2)-Math.pow(s.height/2+3,2)),i.attr({path:["M",n,r+t,"c",-u,0,-t,u-t,-t,-t,0,-u,t-u,-t,t,-t,u,0,t,t-u,t,t,0,u,u-t,t,-t,t,"M",n+o,r-s.height/2-3,"a",t+3,t+3,0,1,0,0,s.height+6,"l",t+3-o+s.width+6,0,0,-s.height-6,"L",n+o,r-s.height/2-3].join()}));e=360-e;i.rotate(e,n,r);this.attrs?(this.attr(this.attrs.x?"x":"cx",n+t+3+(a?s.width/2:"text"==this.type?s.width:0)).attr("y",a?r:r-s.height/2),this.rotate(e,n,r),90<e&&270>e&&this.attr(this.attrs.x?"x":"cx",n-t-3-(a?s.width/2:s.width)).rotate(180,n,r)):90<e&&270>e?(this.translate(n-s.x-s.width-t-3,r-s.y-s.height/2),this.rotate(e-180,s.x+s.width+t+3,s.y+s.height/2)):(this.translate(n-s.x+t+3,r-s.y-s.height/2),this.rotate(e,s.x-t-3,s.y+s.height/2));return i.insertBefore(this.node?this:this[0])}};Raphael.el.drop=function(e,t,n){var r=this.getBBox(),i=this.paper||this[0].paper,s,o;if(i){switch(this.type){case"text":case"circle":case"ellipse":s=!0;break;default:s=!1}e=e||0;t="number"==typeof t?t:s?r.x+r.width/2:r.x;n="number"==typeof n?n:s?r.y+r.height/2:r.y;o=Math.max(r.width,r.height)+Math.min(r.width,r.height);i=i.path(["M",t,n,"l",o,0,"A",.4*o,.4*o,0,1,0,t+.7*o,n-.7*o,"z"]).attr({fill:"#000",stroke:"none"}).rotate(22.5-e,t,n);e=(e+90)*Math.PI/180;t=t+o*Math.sin(e)-(s?0:r.width/2);e=n+o*Math.cos(e)-(s?0:r.height/2);this.attrs?this.attr(this.attrs.x?"x":"cx",t).attr(this.attrs.y?"y":"cy",e):this.translate(t-r.x,e-r.y);return i.insertBefore(this.node?this:this[0])}};Raphael.el.flag=function(e,t,n){var r=this.paper||this[0].paper;if(r){var r=r.path().attr({fill:"#000",stroke:"#000"}),i=this.getBBox(),s=i.height/2,o;switch(this.type){case"text":case"circle":case"ellipse":o=!0;break;default:o=!1}e=e||0;t="number"==typeof t?t:o?i.x+i.width/2:i.x;n="number"==typeof n?n:o?i.y+i.height/2:i.y;r.attr({path:["M",t,n,"l",s+3,-s-3,i.width+6,0,0,i.height+6,-i.width-6,0,"z"].join()});e=360-e;r.rotate(e,t,n);this.attrs?(this.attr(this.attrs.x?"x":"cx",t+s+3+(o?i.width/2:"text"==this.type?i.width:0)).attr("y",o?n:n-i.height/2),this.rotate(e,t,n),90<e&&270>e&&this.attr(this.attrs.x?"x":"cx",t-s-3-(o?i.width/2:i.width)).rotate(180,t,n)):90<e&&270>e?(this.translate(t-i.x-i.width-s-3,n-i.y-i.height/2),this.rotate(e-180,i.x+i.width+s+3,i.y+i.height/2)):(this.translate(t-i.x+s+3,n-i.y-i.height/2),this.rotate(e,i.x-s-3,i.y+i.height/2));return r.insertBefore(this.node?this:this[0])}};Raphael.el.label=function(){var e=this.getBBox(),t=this.paper||this[0].paper,n=Math.min(20,e.width+10,e.height+10)/2;if(t)return t.rect(e.x-n/2,e.y-n/2,e.width+n,e.height+n,n).attr({stroke:"none",fill:"#000"}).insertBefore(this.node?this:this[0])};Raphael.el.blob=function(e,t,n){var r=this.getBBox(),i=Math.PI/180,s=this.paper||this[0].paper,o,u;if(s){switch(this.type){case"text":case"circle":case"ellipse":o=!0;break;default:o=!1}s=s.path().attr({fill:"#000",stroke:"none"});e=(+e+1?e:45)+90;u=Math.min(r.height,r.width);var t="number"==typeof t?t:o?r.x+r.width/2:r.x,n="number"==typeof n?n:o?r.y+r.height/2:r.y,a=Math.max(r.width+u,25*u/12),f=Math.max(r.height+u,25*u/12);o=t+u*Math.sin((e-22.5)*i);var l=n+u*Math.cos((e-22.5)*i),c=t+u*Math.sin((e+22.5)*i),e=n+u*Math.cos((e+22.5)*i),i=(c-o)/2;u=(e-l)/2;var a=a/2,f=f/2,h=-Math.sqrt(Math.abs(a*a*f*f-a*a*u*u-f*f*i*i)/(a*a*u*u+f*f*i*i));u=h*a*u/f+(c+o)/2;i=h*-f*i/a+(e+l)/2;s.attr({x:u,y:i,path:["M",t,n,"L",c,e,"A",a,f,0,1,1,o,l,"z"].join()});this.translate(u-r.x-r.width/2,i-r.y-r.height/2);return s.insertBefore(this.node?this:this[0])}};Raphael.fn.label=function(e,t,n){var r=this.set(),n=this.text(e,t,n).attr(Raphael.g.txtattr);return r.push(n.label(),n)};Raphael.fn.popup=function(e,t,n,r,i){var s=this.set(),n=this.text(e,t,n).attr(Raphael.g.txtattr);return s.push(n.popup(r,i),n)};Raphael.fn.tag=function(e,t,n,r,i){var s=this.set(),n=this.text(e,t,n).attr(Raphael.g.txtattr);return s.push(n.tag(r,i),n)};Raphael.fn.flag=function(e,t,n,r){var i=this.set(),n=this.text(e,t,n).attr(Raphael.g.txtattr);return i.push(n.flag(r),n)};Raphael.fn.drop=function(e,t,n,r){var i=this.set(),n=this.text(e,t,n).attr(Raphael.g.txtattr);return i.push(n.drop(r),n)};Raphael.fn.blob=function(e,t,n,r){var i=this.set(),n=this.text(e,t,n).attr(Raphael.g.txtattr);return i.push(n.blob(r),n)};Raphael.el.lighter=function(e){var e=e||2,t=[this.attrs.fill,this.attrs.stroke];this.fs=this.fs||[t[0],t[1]];t[0]=Raphael.rgb2hsb(Raphael.getRGB(t[0]).hex);t[1]=Raphael.rgb2hsb(Raphael.getRGB(t[1]).hex);t[0].b=Math.min(t[0].b*e,1);t[0].s/=e;t[1].b=Math.min(t[1].b*e,1);t[1].s/=e;this.attr({fill:"hsb("+[t[0].h,t[0].s,t[0].b]+")",stroke:"hsb("+[t[1].h,t[1].s,t[1].b]+")"});return this};Raphael.el.darker=function(e){var e=e||2,t=[this.attrs.fill,this.attrs.stroke];this.fs=this.fs||[t[0],t[1]];t[0]=Raphael.rgb2hsb(Raphael.getRGB(t[0]).hex);t[1]=Raphael.rgb2hsb(Raphael.getRGB(t[1]).hex);t[0].s=Math.min(t[0].s*e,1);t[0].b/=e;t[1].s=Math.min(t[1].s*e,1);t[1].b/=e;this.attr({fill:"hsb("+[t[0].h,t[0].s,t[0].b]+")",stroke:"hsb("+[t[1].h,t[1].s,t[1].b]+")"});return this};Raphael.el.resetBrightness=function(){this.fs&&(this.attr({fill:this.fs[0],stroke:this.fs[1]}),delete this.fs);return this};(function(){var e=["lighter","darker","resetBrightness"],t="popup tag flag label drop blob".split(" "),n;for(n in t)(function(e){Raphael.st[e]=function(){return Raphael.el[e].apply(this,arguments)}})(t[n]);for(n in e)(function(e){Raphael.st[e]=function(){for(var t=0;t<this.length;t++)this[t][e].apply(this[t],arguments);return this}})(e[n])})();Raphael.g={shim:{stroke:"none",fill:"#000","fill-opacity":0},txtattr:{font:"12px Arial, sans-serif",fill:"#fff"},colors:function(){for(var e=[.6,.2,.05,.1333,.75,0],t=[],n=0;10>n;n++)n<e.length?t.push("hsb("+e[n]+",.75, .75)"):t.push("hsb("+e[n-e.length]+", 1, .5)");return t}(),snapEnds:function(e,t,n){function r(e){return.25>Math.abs(e-.5)?~~e+.5:Math.round(e)}var i=e,s=t;if(i==s)return{from:i,to:s,power:0};var i=(s-i)/n,o=s=~~i,n=0;if(s){for(;o;)n--,o=~~(i*Math.pow(10,n))/Math.pow(10,n);n++}else{if(0==i||!isFinite(i))n=1;else for(;!s;)n=n||1,s=~~(i*Math.pow(10,n))/Math.pow(10,n),n++;n&&n--}s=r(t*Math.pow(10,n))/Math.pow(10,n);s<t&&(s=r((t+.5)*Math.pow(10,n))/Math.pow(10,n));i=r((e-(0<n?0:.5))*Math.pow(10,n))/Math.pow(10,n);return{from:i,to:s,power:n}},axis:function(e,t,n,r,i,s,o,u,a,f,l){var f=null==f?2:f,a=a||"t",s=s||10,l=arguments[arguments.length-1],c="|"==a||" "==a?["M",e+.5,t,"l",0,.001]:1==o||3==o?["M",e+.5,t,"l",0,-n]:["M",e,t+.5,"l",n,0],h=this.snapEnds(r,i,s),p=h.from,d=h.to,v=h.power,m=0,g={font:"11px 'Fontin Sans', Fontin-Sans, sans-serif"},h=l.set(),d=(d-p)/s,y=p,b=0<v?v:0,w=n/s;if(1==+o||3==+o){v=t;for(p=(o-1?1:-1)*(f+3+!!(o-1));v>=t-n;)"-"!=a&&" "!=a&&(c=c.concat(["M",e-("+"==a||"|"==a?f:2*!(o-1)*f),v+.5,"l",2*f+1,0])),h.push(l.text(e+p,v,u&&u[m++]||(Math.round(y)==y?y:+y.toFixed(b))).attr(g).attr({"text-anchor":o-1?"start":"end"})),y+=d,v-=w;Math.round(v+w-(t-n))&&("-"!=a&&" "!=a&&(c=c.concat(["M",e-("+"==a||"|"==a?f:2*!(o-1)*f),t-n+.5,"l",2*f+1,0])),h.push(l.text(e+p,t-n,u&&u[m]||(Math.round(y)==y?y:+y.toFixed(b))).attr(g).attr({"text-anchor":o-1?"start":"end"})))}else{for(var y=p,b=(0<v)*v,p=(o?-1:1)*(f+9+!o),v=e,w=n/s,E=0,S=0;v<=e+n;)"-"!=a&&" "!=a&&(c=c.concat(["M",v+.5,t-("+"==a?f:2*!!o*f),"l",0,2*f+1])),h.push(E=l.text(v,t+p,u&&u[m++]||(Math.round(y)==y?y:+y.toFixed(b))).attr(g)),E=E.getBBox(),S>=E.x-5?h.pop(h.length-1).remove():S=E.x+E.width,y+=d,v+=w;Math.round(v-w-e-n)&&("-"!=a&&" "!=a&&(c=c.concat(["M",e+n+.5,t-("+"==a?f:2*!!o*f),"l",0,2*f+1])),h.push(l.text(e+n,t+p,u&&u[m]||(Math.round(y)==y?y:+y.toFixed(b))).attr(g)))}c=l.path(c);c.text=h;c.all=l.set([c,h]);c.remove=function(){this.text.remove();this.constructor.prototype.remove.call(this)};return c},labelise:function(e,t,n){return e?(e+"").replace(/(##+(?:\.#+)?)|(%%+(?:\.%+)?)/g,function(e,r,i){if(r)return(+t).toFixed(r.replace(/^#+\.?/g,"").length);if(i)return(100*t/n).toFixed(i.replace(/^%+\.?/g,"").length)+"%"}):(+t).toFixed(0)}};(function(){function e(e,t){for(var n=e.length/t,r=0,i=n,s=0,o=[];r<e.length;)i--,0>i?(s+=e[r]*(1+i),o.push(s/n),s=e[r++]*-i,i+=n):s+=1*e[r++];return o}function t(t,n,r,i,s,o,u,a){function p(e){for(var a=[],f=0,l=o.length;f<l;f++)a=a.concat(o[f]);a.sort(function(e,t){return e-t});for(var c=[],h=[],f=0,l=a.length;f<l;f++)a[f]!=a[f-1]&&c.push(a[f])&&h.push(n+v+(a[f]-k)*A);for(var a=c,l=a.length,p=e||t.set(),f=0;f<l;f++){var c=h[f]-(h[f]-(h[f-1]||n))/2,d=((h[f+1]||n+i)-h[f])/2+(h[f]-(h[f-1]||n))/2,m;e?m={}:p.push(m=t.rect(c-1,r,Math.max(d+1,1),s).attr({stroke:"none",fill:"#000",opacity:0}));m.values=[];m.symbols=t.set();m.y=[];m.x=h[f];m.axis=a[f];for(var d=0,g=u.length;d<g;d++)for(var c=o[d]||o[0],y=0,w=c.length;y<w;y++)c[y]==a[f]&&(m.values.push(u[d][y]),m.y.push(r+s-v-(u[d][y]-L)*O),m.symbols.push(E.symbols[d][y]));e&&e.call(m)}!e&&(b=p)}function d(e){for(var i=e||t.set(),a,f=0,l=u.length;f<l;f++)for(var c=0,h=u[f].length;c<h;c++){var p=n+v+((o[f]||o[0])[c]-k)*A,d=n+v+((o[f]||o[0])[c?c-1:1]-k)*A,m=r+s-v-(u[f][c]-L)*O;e?a={}:i.push(a=t.circle(p,m,Math.abs(d-p)/2).attr({stroke:"#000",fill:"#000",opacity:1}));a.x=p;a.y=m;a.value=u[f][c];a.line=E.lines[f];a.shade=E.shades[f];a.symbol=E.symbols[f][c];a.symbols=E.symbols[f];a.axis=(o[f]||o[0])[c];e&&e.call(a)}!e&&(w=i)}var f,l,c,h;a=a||{};t.raphael.is(o[0],"array")||(o=[o]);t.raphael.is(u[0],"array")||(u=[u]);for(var v=a.gutter||10,m=Math.max(o[0].length,u[0].length),g=a.symbol||"",y=a.colors||this.colors,b=null,w=null,E=t.set(),x=[],T=0,N=u.length;T<N;T++)m=Math.max(m,u[T].length);for(var C=t.set(),T=0,N=u.length;T<N;T++)a.shade&&C.push(t.path().attr({stroke:"none",fill:y[T],opacity:a.nostroke?1:.3})),u[T].length>i-2*v&&(u[T]=e(u[T],i-2*v),m=i-2*v),o[T]&&
o[T].length>i-2*v&&(o[T]=e(o[T],i-2*v));var x=Array.prototype.concat.apply([],o),m=Array.prototype.concat.apply([],u),x=this.snapEnds(Math.min.apply(Math,x),Math.max.apply(Math,x),o[0].length-1),k=x.from,x=x.to,m=this.snapEnds(Math.min.apply(Math,m),Math.max.apply(Math,m),u[0].length-1),L=m.from,T=m.to,A=(i-2*v)/(x-k||1),O=(s-2*v)/(T-L||1),m=t.set();a.axis&&(N=(a.axis+"").split(/[,\s]+/),+N[0]&&m.push(this.axis(n+v,r+v,i-2*v,k,x,a.axisxstep||Math.floor((i-2*v)/20),2,t)),+N[1]&&m.push(this.axis(n+i-v,r+s-v,s-2*v,L,T,a.axisystep||Math.floor((s-2*v)/20),3,t)),+N[2]&&m.push(this.axis(n+v,r+s-v,i-2*v,k,x,a.axisxstep||Math.floor((i-2*v)/20),0,t)),+N[3]&&m.push(this.axis(n+v,r+s-v,s-2*v,L,T,a.axisystep||Math.floor((s-2*v)/20),1,t)));for(var M=t.set(),_=t.set(),D,T=0,N=u.length;T<N;T++){a.nostroke||M.push(D=t.path().attr({stroke:y[T],"stroke-width":a.width||2,"stroke-linejoin":"round","stroke-linecap":"round","stroke-dasharray":a.dash||""}));for(var P=Raphael.is(g,"array")?g[T]:g,H=t.set(),x=[],B=0,j=u[T].length;B<j;B++){var F=n+v+((o[T]||o[0])[B]-k)*A,I=r+s-v-(u[T][B]-L)*O;(Raphael.is(P,"array")?P[B]:P)&&H.push(t[Raphael.is(P,"array")?P[B]:P](F,I,3*(a.width||2)).attr({fill:y[T],stroke:"none"}));if(a.smooth){if(B&&B!=j-1){l=n+v+((o[T]||o[0])[B-1]-k)*A;var q=r+s-v-(u[T][B-1]-L)*O;c=F;h=I;var R=n+v+((o[T]||o[0])[B+1]-k)*A,U=r+s-v-(u[T][B+1]-L)*O,z=(c-l)/2;f=(R-c)/2;l=Math.atan((c-l)/Math.abs(h-q));R=Math.atan((R-c)/Math.abs(h-U));l=q<h?Math.PI-l:l;R=U<h?Math.PI-R:R;U=Math.PI/2-(l+R)%(2*Math.PI)/2;q=z*Math.sin(U+l);l=z*Math.cos(U+l);z=f*Math.sin(U+R);R=f*Math.cos(U+R);f=c-q;l=h+l;c+=z;h+=R;x=x.concat([f,l,F,I,c,h])}B||(x=["M",F,I,"C",F,I])}else x=x.concat([B?"L":"M",F,I])}a.smooth&&(x=x.concat([F,I,F,I]));_.push(H);a.shade&&C[T].attr({path:x.concat(["L",F,r+s-v,"L",n+v+((o[T]||o[0])[0]-k)*A,r+s-v,"z"]).join(",")});!a.nostroke&&D.attr({path:x.join(",")})}E.push(M,C,_,m,b,w);E.lines=M;E.shades=C;E.symbols=_;E.axis=m;E.hoverColumn=function(e,t){!b&&p();b.mouseover(e).mouseout(t);return this};E.clickColumn=function(e){!b&&p();b.click(e);return this};E.hrefColumn=function(e){var n=t.raphael.is(arguments[0],"array")?arguments[0]:arguments;if(!(arguments.length-1)&&typeof e=="object")for(var r in e)for(var i=0,s=b.length;i<s;i++)b[i].axis==r&&b[i].attr("href",e[r]);!b&&p();i=0;for(s=n.length;i<s;i++)b[i]&&b[i].attr("href",n[i]);return this};E.hover=function(e,t){!w&&d();w.mouseover(e).mouseout(t);return this};E.click=function(e){!w&&d();w.click(e);return this};E.each=function(e){d(e);return this};E.eachColumn=function(e){p(e);return this};return E}var n=function(){};n.prototype=Raphael.g;t.prototype=new n;Raphael.fn.linechart=function(e,n,r,i,s,o,u){return new t(this,e,n,r,i,s,o,u)}})();(function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=i.toString,l=i.hasOwnProperty,c=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,E=Object.keys,S=s.bind,x=function(e){return e instanceof x?e:this instanceof x?(this._wrapped=e,void 0):new x(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.4.4";var T=x.each=x.forEach=function(e,t,r){if(null!=e)if(c&&e.forEach===c)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;s>i;i++)if(t.call(r,e[i],i,e)===n)return}else for(var o in e)if(x.has(e,o)&&t.call(r,e[o],o,e)===n)return};x.map=x.collect=function(e,t,n){var r=[];return null==e?r:h&&e.map===h?e.map(t,n):(T(e,function(e,i,s){r[r.length]=t.call(n,e,i,s)}),r)};var N="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);if(T(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)}),!i)throw new TypeError(N);return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),d&&e.reduceRight===d)return r&&(t=x.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=x.keys(e);s=o.length}if(T(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)}),!i)throw new TypeError(N);return n},x.find=x.detect=function(e,t,n){var r;return C(e,function(e,i,s){return t.call(n,e,i,s)?(r=e,!0):void 0}),r},x.filter=x.select=function(e,t,n){var r=[];return null==e?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,s){t.call(n,e,i,s)&&(r[r.length]=e)}),r)},x.reject=function(e,t,n){return x.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},x.every=x.all=function(e,t,r){t||(t=x.identity);var i=!0;return null==e?i:m&&e.every===m?e.every(t,r):(T(e,function(e,s,o){return(i=i&&t.call(r,e,s,o))?void 0:n}),!!i)};var C=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;return null==e?i:g&&e.some===g?e.some(t,r):(T(e,function(e,s,o){return i||(i=t.call(r,e,s,o))?n:void 0}),!!i)};x.contains=x.include=function(e,t){return null==e?!1:y&&e.indexOf===y?e.indexOf(t)!=-1:C(e,function(e){return e===t})},x.invoke=function(e,t){var n=u.call(arguments,2),r=x.isFunction(t);return x.map(e,function(e){return(r?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,function(e){return e[t]})},x.where=function(e,t,n){return x.isEmpty(t)?n?null:[]:x[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},x.findWhere=function(e,t){return x.where(e,t,!0)},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.max.apply(Math,e);if(!t&&x.isEmpty(e))return-1/0;var r={computed:-1/0,value:-1/0};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>=r.computed&&(r={value:e,computed:o})}),r.value},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.min.apply(Math,e);if(!t&&x.isEmpty(e))return 1/0;var r={computed:1/0,value:1/0};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;r.computed>o&&(r={value:e,computed:o})}),r.value},x.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=x.random(n++),r[n-1]=r[t],r[t]=e}),r};var k=function(e){return x.isFunction(e)?e:function(t){return t[e]}};x.sortBy=function(e,t,n){var r=k(t);return x.pluck(x.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(r>n||r===void 0)return-1}return e.index<t.index?-1:1}),"value")};var L=function(e,t,n,r){var i={},s=k(t||x.identity);return T(e,function(t,o){var u=s.call(n,t,o,e);r(i,u,t)}),i};x.groupBy=function(e,t,n){return L(e,t,n,function(e,t,n){(x.has(e,t)?e[t]:e[t]=[]).push(n)})},x.countBy=function(e,t,n){return L(e,t,n,function(e,t){x.has(e,t)||(e[t]=0),e[t]++})},x.sortedIndex=function(e,t,n,r){n=null==n?x.identity:k(n);for(var i=n.call(r,t),s=0,o=e.length;o>s;){var u=s+o>>>1;i>n.call(r,e[u])?s=u+1:o=u}return s},x.toArray=function(e){return e?x.isArray(e)?u.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return null==e?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:u.call(e,0,t)},x.initial=function(e,t,n){return u.call(e,0,e.length-(null==t||n?1:t))},x.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},x.rest=x.tail=x.drop=function(e,t,n){return u.call(e,null==t||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n){return T(e,function(e){x.isArray(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n};x.flatten=function(e,t){return A(e,t,[])},x.without=function(e){return x.difference(e,u.call(arguments,1))},x.uniq=x.unique=function(e,t,n,r){x.isFunction(t)&&(r=n,n=t,t=!1);var i=n?x.map(e,n,r):e,s=[],o=[];return T(i,function(n,r){(t?r&&o[o.length-1]===n:x.contains(o,n))||(o.push(n),s.push(e[r]))}),s},x.union=function(){return x.uniq(a.apply(r,arguments))},x.intersection=function(e){var t=u.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.indexOf(t,e)>=0})})},x.difference=function(e){var t=a.apply(r,u.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){for(var e=u.call(arguments),t=x.max(x.pluck(e,"length")),n=Array(t),r=0;t>r;r++)n[r]=x.pluck(e,""+r);return n},x.object=function(e,t){if(null==e)return{};for(var n={},r=0,i=e.length;i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.indexOf=function(e,t,n){if(null==e)return-1;var r=0,i=e.length;if(n){if("number"!=typeof n)return r=x.sortedIndex(e,t),e[r]===t?r:-1;r=0>n?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;i>r;r++)if(e[r]===t)return r;return-1},x.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=null!=n;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var i=r?n:e.length;i--;)if(e[i]===t)return i;return-1},x.range=function(e,t,n){1>=arguments.length&&(t=e||0,e=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=Array(r);r>i;)s[i++]=e,e+=n;return s},x.bind=function(e,t){if(e.bind===S&&S)return S.apply(e,u.call(arguments,1));var n=u.call(arguments,2);return function(){return e.apply(t,n.concat(u.call(arguments)))}},x.partial=function(e){var t=u.call(arguments,1);return function(){return e.apply(this,t.concat(u.call(arguments)))}},x.bindAll=function(e){var t=u.call(arguments,1);return 0===t.length&&(t=x.functions(e)),T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(u.call(arguments,1)))},x.throttle=function(e,t){var n,r,i,s,o=0,u=function(){o=new Date,i=null,s=e.apply(n,r)};return function(){var a=new Date,f=t-(a-o);return n=this,r=arguments,0>=f?(clearTimeout(i),i=null,o=a,s=e.apply(n,r)):i||(i=setTimeout(u,f)),s}},x.debounce=function(e,t,n){var r,i;return function(){var s=this,o=arguments,u=function(){r=null,n||(i=e.apply(s,o))},a=n&&!r;return clearTimeout(r),r=setTimeout(u,t),a&&(i=e.apply(s,o)),i}},x.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},x.wrap=function(e,t){return function(){var n=[e];return o.apply(n,arguments),t.apply(this,n)}},x.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return 0>=e?t():function(){return 1>--e?t.apply(this,arguments):void 0}},x.keys=E||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)x.has(e,n)&&(t[t.length]=n);return t},x.values=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push(e[n]);return t},x.pairs=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push([n,e[n]]);return t},x.invert=function(e){var t={};for(var n in e)x.has(e,n)&&(t[e[n]]=n);return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t},x.defaults=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)null==e[n]&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var O=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==t+"";case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var s=n.length;s--;)if(n[s]==e)return r[s]==t;n.push(e),r.push(t);var o=0,u=!0;if("[object Array]"==i){if(o=e.length,u=o==t.length)for(;o--&&(u=O(e[o],t[o],n,r)););}else{var a=e.constructor,l=t.constructor;if(a!==l&&!(x.isFunction(a)&&a instanceof a&&x.isFunction(l)&&l instanceof l))return!1;for(var c in e)if(x.has(e,c)&&(o++,!(u=x.has(t,c)&&O(e[c],t[c],n,r))))break;if(u){for(c in t)if(x.has(t,c)&&!(o--))break;u=!o}}return n.pop(),r.pop(),u};x.isEqual=function(e,t){return O(e,t,[],[])},x.isEmpty=function(e){if(null==e)return!0;if(x.isArray(e)||x.isString(e))return 0===e.length;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!!e&&1===e.nodeType},x.isArray=w||function(e){return"[object Array]"==f.call(e)},x.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!!e&&!!x.has(e,"callee")}),"function"!=typeof /./&&(x.isFunction=function(e){return"function"==typeof e}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==f.call(e)},x.isNull=function(e){return null===e},x.isUndefined=function(e){return e===void 0},x.has=function(e,t){return l.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.times=function(e,t,n){for(var r=Array(e),i=0;e>i;i++)r[i]=t.call(n,i);return r},x.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var M={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};M.unescape=x.invert(M.escape);var _={escape:RegExp("["+x.keys(M.escape).join("")+"]","g"),unescape:RegExp("("+x.keys(M.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return null==t?"":(""+t).replace(_[e],function(t){return M[e][t]})}}),x.result=function(e,t){if(null==e)return null;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){T(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),j.call(this,n.apply(x,e))}})};var D=0;x.uniqueId=function(e){var t=++D+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","    ":"t","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){var r;n=x.defaults({},n,x.templateSettings);var i=RegExp([(n.escape||P).source,(n.interpolate||P).source,(n.evaluate||P).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,r,i,u){return o+=e.slice(s,u).replace(B,function(e){return"\\"+H[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),s=u+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return r(t,x);var a=function(e){return r.call(this,e,x)};return a.source="function("+(n.variable||"obj")+"){\n"+o+"}",a},x.chain=function(e){return x(e).chain()};var j=function(e){return this._chain?x(e).chain():e};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],j.call(this,n)}}),T(["concat","join","slice"],function(e){var t=r[e];x.prototype[e]=function(){return j.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);(function(e,t,n,r){function f(e){return parseFloat(e)}function l(){var e={transformProperty:"",MozTransform:"-moz-",WebkitTransform:"-webkit-",OTransform:"-o-",msTransform:"-ms-"};for(var t in e)if(typeof a[t]!="undefined")return e[t];return null}function c(){if(typeof t.Modernizr!="undefined")return Modernizr.csstransforms;var e=["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"];for(var n in e)if(a[e[n]]!==r)return!0}function v(t,n){var r=s.exec(e.trim(n));if(r[3]&&r[3]!=="px"){var i="paddingBottom",o=e.style(t,i);e.style(t,i,n);n=m(t,i);e.style(t,i,o);return n}return parseFloat(n)}function m(t,n){if(t[n]==null||!!t.style&&t.style[n]!=null){var r=parseFloat(e.css(t,n));return r&&r>-1e4?r:0}return t[n]}var i=/progid:DXImageTransform\.Microsoft\.Matrix\(.*?\)/,s=/^([\+\-]=)?([\d+.\-]+)(.*)$/,o=/%/,u=n.createElement("modernizr"),a=u.style,h=l(),p=h!==null?h+"transform":!1,d=h!==null?h+"transform-origin":!1;e.support.csstransforms=c();if(h=="-ms-"){p="msTransform";d="msTransformOrigin"}e.extend({transform:function(t){t.transform=this;this.$elem=e(t);this.applyingMatrix=!1;this.matrix=null;this.height=null;this.width=null;this.outerHeight=null;this.outerWidth=null;this.boxSizingValue=null;this.boxSizingProperty=null;this.attr=null;this.transformProperty=p;this.transformOriginProperty=d}});e.extend(e.transform,{funcs:["matrix","origin","reflect","reflectX","reflectXY","reflectY","rotate","scale","scaleX","scaleY","skew","skewX","skewY","translate","translateX","translateY"]});e.fn.transform=function(t,n){return this.each(function(){var r=this.transform||new e.transform(this);t&&r.exec(t,n)})};e.transform.prototype={exec:function(t,n){n=e.extend(!0,{forceMatrix:!1,preserve:!1},n);this.attr=null;n.preserve?t=e.extend(!0,this.getAttrs(!0,!0),t):t=e.extend(!0,{},t);this.setAttrs(t);return e.support.csstransforms&&!n.forceMatrix?this.execFuncs(t):e.browser.msie||e.support.csstransforms&&n.forceMatrix?this.execMatrix(t):!1},execFuncs:function(t){var n=[];for(var r in t)r=="origin"?this[r].apply(this,e.isArray(t[r])?t[r]:[t[r]]):e.inArray(r,e.transform.funcs)!==-1&&n.push(this.createTransformFunc(r,t[r]));this.$elem.css(p,n.join(" "));return!0},execMatrix:function(t){function l(e,t){return o.test(e)?parseFloat(e)/100*a["safeOuter"+(t?"Height":"Width")]():v(u,e)}var n,r,s,u=this.$elem[0],a=this,c=/translate[X|Y]?/,d=[];for(var m in t){switch(e.type(t[m])){case"array":s=t[m];break;case"string":s=e.map(t[m].split(","),e.trim);break;default:s=[t[m]]}if(e.matrix[m]){e.cssAngle[m]?s=e.map(s,e.angle.toDegree):e.cssNumber[m]?s=e.map(s,f):s=e.map(s,l);r=e.matrix[m].apply(this,s);c.test(m)?d.push(r):n=n?n.x(r):r}else m=="origin"&&this[m].apply(this,s)}n=n||e.matrix.identity();e.each(d,function(e,t){n=n.x(t)});var g=parseFloat(n.e(1,1).toFixed(6)),y=parseFloat(n.e(2,1).toFixed(6)),b=parseFloat(n.e(1,2).toFixed(6)),w=parseFloat(n.e(2,2).toFixed(6)),E=n.rows===3?parseFloat(n.e(1,3).toFixed(6)):0,S=n.rows===3?parseFloat(n.e(2,3).toFixed(6)):0;if(e.support.csstransforms&&h==="-moz-")this.$elem.css(p,"matrix("+g+", "+y+", "+b+", "+w+", "+E+"px, "+S+"px)");else if(e.support.csstransforms)this.$elem.css(p,"matrix("+g+", "+y+", "+b+", "+w+", "+E+", "+S+")");else if(e.browser.msie){var x=", FilterType='nearest neighbor'",T=this.$elem[0].style,N="progid:DXImageTransform.Microsoft.Matrix(M11="+g+", M12="+b+", M21="+y+", M22="+w+", sizingMethod='auto expand'"+x+")",C=T.filter||e.curCSS(this.$elem[0],"filter")||"";T.filter=i.test(C)?C.replace(i,N):C?C+" "+N:N;this.applyingMatrix=!0;this.matrix=n;this.fixPosition(n,E,S);this.applyingMatrix=!1;this.matrix=null}return!0},origin:function(t,n){if(e.support.csstransforms){typeof n=="undefined"?this.$elem.css(d,t):this.$elem.css(d,t+" "+n);return!0}switch(t){case"left":t="0";break;case"right":t="100%";break;case"center":case r:t="50%"}switch(n){case"top":n="0";break;case"bottom":n="100%";break;case"center":case r:n="50%"}this.setAttr("origin",[o.test(t)?t:v(this.$elem[0],t)+"px",o.test(n)?n:v(this.$elem[0],n)+"px"]);return!0},createTransformFunc:function(t,n){if(t.substr(0,7)==="reflect"){var r=n?e.matrix[t]():e.matrix.identity();return"matrix("+r.e(1,1)+", "+r.e(2,1)+", "+r.e(1,2)+", "+r.e(2,2)+", 0, 0)"}if(t=="matrix"&&h==="-moz-"){n[4]=n[4]?n[4]+"px":0;n[5]=n[5]?n[5]+"px":0}return t+"("+(e.isArray(n)?n.join(", "):n)+")"},fixPosition:function(t,n,r,i,s){var u=new e.matrix.calc(t,this.safeOuterHeight(),this.safeOuterWidth()),a=this.getAttr("origin"),f=u.originOffset(new e.matrix.V2(o.test(a[0])?parseFloat(a[0])/100*u.outerWidth:parseFloat(a[0]),o.test(a[1])?parseFloat(a[1])/100*u.outerHeight:parseFloat(a[1]))),l=u.sides(),c=this.$elem.css("position");c=="static"&&(c="relative");var h={top:0,left:0},p={position:c,top:f.top+r+l.top+h.top+"px",left:f.left+n+l.left+h.left+"px",zoom:1};this.$elem.css(p)}}})(jQuery,this,this.document);(function(e,t,n,r){function s(){if(i)return i;var e={boxSizing:"box-sizing",MozBoxSizing:"-moz-box-sizing",WebkitBoxSizing:"-webkit-box-sizing",OBoxSizing:"-o-box-sizing"},t=n.body;for(var r in e)if(typeof t.style[r]!="undefined"){i=e[r];return i}return null}e.extend(e.transform.prototype,{safeOuterHeight:function(){return this.safeOuterLength("height")},safeOuterWidth:function(){return this.safeOuterLength("width")},safeOuterLength:function(t){var n="outer"+(t=="width"?"Width":"Height");if(!e.support.csstransforms&&e.browser.msie){t=t=="width"?"width":"height";if(this.applyingMatrix&&!this[n]&&this.matrix){var r=new e.matrix.calc(this.matrix,1,1),i=r.offset(),o=this.$elem[n]()/i[t];this[n]=o;return o}if(this.applyingMatrix&&this[n])return this[n];var u={height:["top","bottom"],width:["left","right"]},a=this.$elem[0],f=parseFloat(e.curCSS(a,t,!0)),l=this.boxSizingProperty,c=this.boxSizingValue;if(!this.boxSizingProperty){l=this.boxSizingProperty=s()||"box-sizing";c=this.boxSizingValue=this.$elem.css(l)||"content-box"}if(this[n]&&this[t]==f)return this[n];this[t]=f;l&&(c=="padding-box"||c=="content-box")&&(f+=parseFloat(e.curCSS(a,"padding-"+u[t][0],!0))||0+parseFloat(e.curCSS(a,"padding-"+u[t][1],!0))||0);l&&c=="content-box"&&(f+=parseFloat(e.curCSS(a,"border-"+u[t][0]+"-width",!0))||0+parseFloat(e.curCSS(a,"border-"+u[t][1]+"-width",!0))||0);this[n]=f;return f}return this.$elem[n]()}});var i=null})(jQuery,this,this.document);(function(e,t,n,r){var i=/([\w\-]*?)\((.*?)\)/g,s="data-transform",o=/\s/,u=/,\s?/;e.extend(e.transform.prototype,{setAttrs:function(t){var n="",r;for(var i in t){r=t[i];e.isArray(r)&&(r=r.join(", "));n+=" "+i+"("+r+")"}this.attr=e.trim(n);this.$elem.attr(s,this.attr)},setAttr:function(t,n){e.isArray(n)&&(n=n.join(", "));var r=this.attr||this.$elem.attr(s);if(!r||r.indexOf(t)==-1){this.attr=e.trim(r+" "+t+"("+n+")");this.$elem.attr(s,this.attr)}else{var o=[],u;i.lastIndex=0;while(u=i.exec(r))t==u[1]?o.push(t+"("+n+")"):o.push(u[0]);this.attr=o.join(" ");this.$elem.attr(s,this.attr)}},getAttrs:function(){var e=this.attr||this.$elem.attr(s);if(!e)return{};var t={},n,r;i.lastIndex=0;while((n=i.exec(e))!==null)if(n){r=n[2].split(u);t[n[1]]=r.length==1?r[0]:r}return t},getAttr:function(t){var n=this.getAttrs();return typeof n[t]!="undefined"?n[t]:t==="origin"&&e.support.csstransforms?this.$elem.css(this.transformOriginProperty).split(o):t==="origin"?["50%","50%"]:e.cssDefault[t]||0}});typeof e.cssAngle=="undefined"&&(e.cssAngle={});e.extend(e.cssAngle,{rotate:!0,skew:!0,skewX:!0,skewY:!0});typeof e.cssDefault=="undefined"&&(e.cssDefault={});e.extend(e.cssDefault,{scale:[1,1],scaleX:1,scaleY:1,matrix:[1,0,0,1,0,0],origin:["50%","50%"],reflect:[1,0,0,1,0,0],reflectX:[1,0,0,1,0,0],reflectXY:[1,0,0,1,0,0],reflectY:[1,0,0,1,0,0]});typeof e.cssMultipleValues=="undefined"&&(e.cssMultipleValues={});e.extend(e.cssMultipleValues,{matrix:6,origin:{length:2,duplicate:!0},reflect:6,reflectX:6,reflectXY:6,reflectY:6,scale:{length:2,duplicate:!0},skew:2,translate:2});e.extend(e.cssNumber,{matrix:!0,reflect:!0,reflectX:!0,reflectXY:!0,reflectY:!0,scale:!0,scaleX:!0,scaleY:!0});e.each(e.transform.funcs,function(t,n){e.cssHooks[n]={set:function(t,r){var i=t.transform||new e.transform(t),s={};s[n]=r;i.exec(s,{preserve:!0})},get:function(t,r){var i=t.transform||new e.transform(t);return i.getAttr(n)}}});e.each(["reflect","reflectX","reflectXY","reflectY"],function(t,n){e.cssHooks[n].get=function(t,r){var i=t.transform||new e.transform(t);return i.getAttr("matrix")||e.cssDefault[n]}})})(jQuery,this,this.document);(function(e,t,n,r){function u(t,n){t[n]!=null&&(!t.style||t.style[n]==null);var r=parseFloat(e.css(t,n));return r&&r>-1e4?r:0}var i=/^([+\-]=)?([\d+.\-]+)(.*)$/,s=e.fn.animate;e.fn.animate=function(t,n,r,i){var o=e.speed(n,r,i),u=e.cssMultipleValues;o.complete=o.old;if(!e.isEmptyObject(t)){typeof o.original=="undefined"&&(o.original={});e.each(t,function(n,r){if(u[n]||e.cssAngle[n]||!e.cssNumber[n]&&e.inArray(n,e.transform.funcs)!==-1){var i=null;if(jQuery.isArray(t[n])){var s=1,a=r.length;u[n]&&(s=typeof u[n].length=="undefined"?u[n]:u[n].length);if(a>s||a<s&&a==2||a==2&&s==2&&isNaN(parseFloat(r[a-1]))){i=r[a-1];r.splice(a-1,1)}}o.original[n]=r.toString();t[n]=parseFloat(r)}})}return s.apply(this,[arguments[0],o])};var o="paddingBottom",a=e.fx.prototype.custom;e.fx.prototype.custom=function(t,n,r){var s=e.cssMultipleValues[this.prop],l=e.cssAngle[this.prop];if(s||!e.cssNumber[this.prop]&&e.inArray(this.prop,e.transform.funcs)!==-1){this.values=[];s||(s=1);var c=this.options.original[this.prop],h=e(this.elem).css(this.prop),p=e.cssDefault[this.prop]||0;e.isArray(h)||(h=[h]);e.isArray(c)||(e.type(c)==="string"?c=c.split(","):c=[c]);var v=s.length||s,m=0;while(c.length<v){c.push(s.duplicate?c[0]:p[m]||0);m++}var g,y,w,E=this,S=E.elem.transform;orig=e.style(E.elem,o);e.each(c,function(t,n){h[t]?g=h[t]:p[t]&&!s.duplicate?g=p[t]:s.duplicate?g=h[0]:g=0;if(l)g=e.angle.toDegree(g);else if(!e.cssNumber[E.prop]){y=i.exec(e.trim(g));if(y[3]&&y[3]!=="px")if(y[3]==="%")g=parseFloat(y[2])/100*S["safeOuter"+(t?"Height":"Width")]();else{e.style(E.elem,o,g);g=u(E.elem,o);e.style(E.elem,o,orig)}}g=parseFloat(g);y=i.exec(e.trim(n));if(y){w=parseFloat(y[2]);r=y[3]||"px";if(l){w=e.angle.toDegree(w+r);r="deg"}else if(!e.cssNumber[E.prop]&&r==="%")g=g/S["safeOuter"+(t?"Height":"Width")]()*100;else if(!e.cssNumber[E.prop]&&r!=="px"){e.style(E.elem,o,(w||1)+r);g=(w||1)/u(E.elem,o)*g;e.style(E.elem,o,orig)}y[1]&&(w=(y[1]==="-="?-1:1)*w+g)}else{w=n;r=""}E.values.push({start:g,end:w,unit:r})})}return a.apply(this,arguments)};e.fx.multipleValueStep={_default:function(t){e.each(t.values,function(e,n){t.values[e].now=n.start+(n.end-n.start)*t.pos})}};e.each(["matrix","reflect","reflectX","reflectXY","reflectY"],function(t,n){e.fx.multipleValueStep[n]=function(t){var n=t.decomposed,r=e.matrix;m=r.identity();n.now={};e.each(n.start,function(e){n.now[e]=parseFloat(n.start[e])+(parseFloat(n.end[e])-parseFloat(n.start[e]))*t.pos;if((e==="scaleX"||e==="scaleY")&&n.now[e]===1||e!=="scaleX"&&e!=="scaleY"&&n.now[e]===0)return!0;m=m.x(r[e](n.now[e]))});var i;e.each(t.values,function(e){switch(e){case 0:i=parseFloat(m.e(1,1).toFixed(6));break;case 1:i=parseFloat(m.e(2,1).toFixed(6));break;case 2:i=parseFloat(m.e(1,2).toFixed(6));break;case 3:i=parseFloat(m.e(2,2).toFixed(6));break;case 4:i=parseFloat(m.e(1,3).toFixed(6));break;case 5:i=parseFloat(m.e(2,3).toFixed(6))}t.values[e].now=i})}});e.each(e.transform.funcs,function(t,n){e.fx.step[n]=function(t){var r=t.elem.transform||new e.transform(t.elem),i={};if(e.cssMultipleValues[n]||!e.cssNumber[n]&&e.inArray(n,e.transform.funcs)!==-1){(e.fx.multipleValueStep[t.prop]||e.fx.multipleValueStep._default)(t);i[t.prop]=[];e.each(t.values,function(n,r){i[t.prop].push(r.now+(e.cssNumber[t.prop]?"":r.unit))})}else i[t.prop]=t.now+(e.cssNumber[t.prop]?"":t.unit);r.exec(i,{preserve:!0})}});e.each(["matrix","reflect","reflectX","reflectXY","reflectY"],function(t,n){e.fx.step[n]=function(t){var r=t.elem.transform||new e.transform(t.elem),i={};if(!t.initialized){t.initialized=!0;if(n!=="matrix"){var s=e.matrix[n]().elements,o;e.each(t.values,function(e){switch(e){case 0:o=s[0];break;case 1:o=s[2];break;case 2:o=s[1];break;case 3:o=s[3];break;default:o=0}t.values[e].end=o})}t.decomposed={};var u=t.values;t.decomposed.start=e.matrix.matrix(u[0].start,u[1].start,u[2].start,u[3].start,u[4].start,u[5].start).decompose();t.decomposed.end=e.matrix.matrix(u[0].end,u[1].end,u[2].end,u[3].end,u[4].end,u[5].end).decompose()}(e.fx.multipleValueStep[t.prop]||e.fx.multipleValueStep._default)(t);i.matrix=[];e.each(t.values,function(e,t){i.matrix.push(t.now)});r.exec(i,{preserve:!0})}})})(jQuery,this,this.document);(function(e,t,n,r){var i=180/Math.PI,s=200/Math.PI,o=Math.PI/180,u=2/1.8,a=.9,f=Math.PI/200,l=/^([+\-]=)?([\d+.\-]+)(.*)$/;e.extend({angle:{runit:/(deg|g?rad)/,radianToDegree:function(e){return e*i},radianToGrad:function(e){return e*s},degreeToRadian:function(e){return e*o},degreeToGrad:function(e){return e*u},gradToDegree:function(e){return e*a},gradToRadian:function(e){return e*f},toDegree:function(t){var n=l.exec(t);if(n){t=parseFloat(n[2]);switch(n[3]||"deg"){case"grad":t=e.angle.gradToDegree(t);break;case"rad":t=e.angle.radianToDegree(t)}return t}return 0}}})})(jQuery,this,this.document);(function(e,t,n,r){typeof e.matrix=="undefined"&&e.extend({matrix:{}});var i=e.matrix;e.extend(i,{V2:function(t,n){e.isArray(arguments[0])?this.elements=arguments[0].slice(0,2):this.elements=[t,n];this.length=2},V3:function(t,n,r){e.isArray(arguments[0])?this.elements=arguments[0].slice(0,3):this.elements=[t,n,r];this.length=3},M2x2:function(t,n,r,i){e.isArray(arguments[0])?this.elements=arguments[0].slice(0,4):this.elements=Array.prototype.slice.call(arguments).slice(0,4);this.rows=2;this.cols=2},M3x3:function(t,n,r,i,s,o,u,a,l){e.isArray(arguments[0])?this.elements=arguments[0].slice(0,9):this.elements=Array.prototype.slice.call(arguments).slice(0,9);this.rows=3;this.cols=3}});var s={e:function(e,t){var n=this.rows,r=this.cols;return e>n||t>n||e<1||t<1?0:this.elements[(e-1)*r+t-1]},decompose:function(){var t=this.e(1,1),n=this.e(2,1),r=this.e(1,2),i=this.e(2,2),s=this.e(1,3),o=this.e(2,3);if(Math.abs(t*i-n*r)<.01)return{rotate:"0deg",skewX:"0deg",scaleX:1,scaleY:1,translateX:"0px",translateY:"0px"};var u=s,a=o,l=Math.sqrt(t*t+n*n);t/=l;n/=l;var c=t*r+n*i;r-=t*c;i-=n*c;var h=Math.sqrt(r*r+i*i);r/=h;i/=h;c/=h;if(t*i-n*r<0){t=-t;n=-n;l=-l}var p=e.angle.radianToDegree,d=p(Math.atan2(n,t));c=p(Math.atan(c));return{rotate:d+"deg",skewX:c+"deg",scaleX:l,scaleY:h,translateX:u+"px",translateY:a+"px"}}};e.extend(i.M2x2.prototype,s,{toM3x3:function(){var e=this.elements;return new i.M3x3(e[0],e[1],0,e[2],e[3],0,0,0,1)},x:function(e){var t=typeof e.rows=="undefined";if(!t&&e.rows==3)return this.toM3x3().x(e);var n=this.elements,r=e.elements;return t&&r.length==2?new i.V2(n[0]*r[0]+n[1]*r[1],n[2]*r[0]+n[3]*r[1]):r.length==n.length?new i.M2x2(n[0]*r[0]+n[1]*r[2],n[0]*r[1]+n[1]*r[3],n[2]*r[0]+n[3]*r[2],n[2]*r[1]+n[3]*r[3]):!1},inverse:function(){var e=1/this.determinant(),t=this.elements;return new i.M2x2(e*t[3],e*-t[1],e*-t[2],e*t[0])},determinant:function(){var e=this.elements;return e[0]*e[3]-e[1]*e[2]}});e.extend(i.M3x3.prototype,s,{x:function(e){var t=typeof e.rows=="undefined";!t&&e.rows<3&&(e=e.toM3x3());var n=this.elements,r=e.elements;return t&&r.length==3?new i.V3(n[0]*r[0]+n[1]*r[1]+n[2]*r[2],n[3]*r[0]+n[4]*r[1]+n[5]*r[2],n[6]*r[0]+n[7]*r[1]+n[8]*r[2]):r.length==n.length?new i.M3x3(n[0]*r[0]+n[1]*r[3]+n[2]*r[6],n[0]*r[1]+n[1]*r[4]+n[2]*r[7],n[0]*r[2]+n[1]*r[5]+n[2]*r[8],n[3]*r[0]+n[4]*r[3]+n[5]*r[6],n[3]*r[1]+n[4]*r[4]+n[5]*r[7],n[3]*r[2]+n[4]*r[5]+n[5]*r[8],n[6]*r[0]+n[7]*r[3]+n[8]*r[6],n[6]*r[1]+n[7]*r[4]+n[8]*r[7],n[6]*r[2]+n[7]*r[5]+n[8]*r[8]):!1},inverse:function(){var e=1/this.determinant(),t=this.elements;return new i.M3x3(e*(t[8]*t[4]-t[7]*t[5]),e*-(t[8]*t[1]-t[7]*t[2]),e*(t[5]*t[1]-t[4]*t[2]),e*-(t[8]*t[3]-t[6]*t[5]),e*(t[8]*t[0]-t[6]*t[2]),e*-(t[5]*t[0]-t[3]*t[2]),e*(t[7]*t[3]-t[6]*t[4]),e*-(t[7]*t[0]-t[6]*t[1]),e*(t[4]*t[0]-t[3]*t[1]))},determinant:function(){var e=this.elements;return e[0]*(e[8]*e[4]-e[7]*e[5])-e[3]*(e[8]*e[1]-e[7]*e[2])+e[6]*(e[5]*e[1]-e[4]*e[2])}});var o={e:function(e){return this.elements[e-1]}};e.extend(i.V2.prototype,o);e.extend(i.V3.prototype,o)})(jQuery,this,this.document);(function(e,t,n,r){typeof e.matrix=="undefined"&&e.extend({matrix:{}});e.extend(e.matrix,{calc:function(e,t,n){this.matrix=e;this.outerHeight=t;this.outerWidth=n}});e.matrix.calc.prototype={coord:function(t,n,r){r=typeof r!="undefined"?r:0;var i=this.matrix,s;switch(i.rows){case 2:s=i.x(new e.matrix.V2(t,n));break;case 3:s=i.x(new e.
matrix.V3(t,n,r))}return s},corners:function(e,t){var n=typeof e=="undefined"&&typeof t=="undefined",r;if(!this.c||!n){t=t||this.outerHeight;e=e||this.outerWidth;r={tl:this.coord(0,0),bl:this.coord(0,t),tr:this.coord(e,0),br:this.coord(e,t)}}else r=this.c;n&&(this.c=r);return r},sides:function(e){var t=e||this.corners();return{top:Math.min(t.tl.e(2),t.tr.e(2),t.br.e(2),t.bl.e(2)),bottom:Math.max(t.tl.e(2),t.tr.e(2),t.br.e(2),t.bl.e(2)),left:Math.min(t.tl.e(1),t.tr.e(1),t.br.e(1),t.bl.e(1)),right:Math.max(t.tl.e(1),t.tr.e(1),t.br.e(1),t.bl.e(1))}},offset:function(e){var t=this.sides(e);return{height:Math.abs(t.bottom-t.top),width:Math.abs(t.right-t.left)}},area:function(e){var t=e||this.corners(),n={x:t.tr.e(1)-t.tl.e(1)+t.br.e(1)-t.bl.e(1),y:t.tr.e(2)-t.tl.e(2)+t.br.e(2)-t.bl.e(2)},r={x:t.bl.e(1)-t.tl.e(1)+t.br.e(1)-t.tr.e(1),y:t.bl.e(2)-t.tl.e(2)+t.br.e(2)-t.tr.e(2)};return.25*Math.abs(n.e(1)*r.e(2)-n.e(2)*r.e(1))},nonAffinity:function(){var e=this.sides(),t=e.top-e.bottom,n=e.left-e.right;return parseFloat(parseFloat(Math.abs((Math.pow(t,2)+Math.pow(n,2))/(e.top*e.bottom+e.left*e.right))).toFixed(8))},originOffset:function(t,n){t=t?t:new e.matrix.V2(this.outerWidth*.5,this.outerHeight*.5);n=n?n:new e.matrix.V2(0,0);var r=this.coord(t.e(1),t.e(2)),i=this.coord(n.e(1),n.e(2));return{top:i.e(2)-n.e(2)-(r.e(2)-t.e(2)),left:i.e(1)-n.e(1)-(r.e(1)-t.e(1))}}}})(jQuery,this,this.document);(function(e,t,n,r){typeof e.matrix=="undefined"&&e.extend({matrix:{}});var i=e.matrix,s=i.M2x2,o=i.M3x3;e.extend(i,{identity:function(e){e=e||2;var t=e*e,n=new Array(t),r=e+1;for(var s=0;s<t;s++)n[s]=s%r===0?1:0;return new i["M"+e+"x"+e](n)},matrix:function(){var e=Array.prototype.slice.call(arguments);switch(arguments.length){case 4:return new s(e[0],e[2],e[1],e[3]);case 6:return new o(e[0],e[2],e[4],e[1],e[3],e[5],0,0,1)}},reflect:function(){return new s(-1,0,0,-1)},reflectX:function(){return new s(1,0,0,-1)},reflectXY:function(){return new s(0,1,1,0)},reflectY:function(){return new s(-1,0,0,1)},rotate:function(t){var n=e.angle.degreeToRadian(t),r=Math.cos(n),i=Math.sin(n),o=r,u=i,a=-i,f=r;return new s(o,a,u,f)},scale:function(e,t){e=e||e===0?e:1;t=t||t===0?t:e;return new s(e,0,0,t)},scaleX:function(e){return i.scale(e,1)},scaleY:function(e){return i.scale(1,e)},skew:function(t,n){t=t||0;n=n||0;var r=e.angle.degreeToRadian(t),i=e.angle.degreeToRadian(n),o=Math.tan(r),u=Math.tan(i);return new s(1,o,u,1)},skewX:function(e){return i.skew(e)},skewY:function(e){return i.skew(0,e)},translate:function(e,t){e=e||0;t=t||0;return new o(1,0,e,0,1,t,0,0,1)},translateX:function(e){return i.translate(e)},translateY:function(e){return i.translate(0,e)}})})(jQuery,this,this.document);(function(e,t,n){e.fn.jScrollPane=function(r){function i(r,i){function K(t){var i,o,a,w,E,x,T=!1,C=!1;s=t;if(u===n){E=r.scrollTop();x=r.scrollLeft();r.css({overflow:"hidden",padding:0});f=r.innerWidth()+R;l=r.innerHeight();r.width(f);u=e('<div class="jspPane" />').css("padding",q).append(r.children());h=e('<div class="jspContainer" />').css({width:f+"px",height:l+"px"}).append(u).appendTo(r)}else{r.css("width","");T=s.stickToBottom&&yt();C=s.stickToRight&&bt();w=r.innerWidth()+R!=f||r.outerHeight()!=l;if(w){f=r.innerWidth()+R;l=r.innerHeight();h.css({width:f+"px",height:l+"px"})}if(!w&&U==p&&u.outerHeight()==d){r.width(f);return}U=p;u.css("width","");r.width(f);h.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}u.css("overflow","auto");t.contentWidth?p=t.contentWidth:p=u[0].scrollWidth;d=u[0].scrollHeight;u.css("overflow","");v=p/f;m=d/l;g=m>1;y=v>1;if(!y&&!g){r.removeClass("jspScrollable");u.css({top:0,width:h.width()-R});Et();Tt();Ct();st()}else{r.addClass("jspScrollable");i=s.maintainPosition&&(S||N);if(i){o=mt();a=gt()}Q();Y();et();if(i){dt(C?p-f:o,!1);pt(T?d-l:a,!1)}xt();wt();At();s.enableKeyboardNavigation&&Nt();s.clickOnTrack&&it();kt();s.hijackInternalLinks&&Lt()}s.autoReinitialise&&!I?I=setInterval(function(){K(s)},s.autoReinitialiseDelay):!s.autoReinitialise&&I&&clearInterval(I);E&&r.scrollTop(0)&&pt(E,!1);x&&r.scrollLeft(0)&&dt(x,!1);r.trigger("jsp-initialised",[y||g])}function Q(){if(g){h.append(e('<div class="jspVerticalBar" />').append(e('<div class="jspCap jspCapTop" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragTop" />'),e('<div class="jspDragBottom" />'))),e('<div class="jspCap jspCapBottom" />')));C=h.find(">.jspVerticalBar");k=C.find(">.jspTrack");w=k.find(">.jspDrag");if(s.showArrows){M=e('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",nt(0,-1)).bind("click.jsp",St);_=e('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",nt(0,1)).bind("click.jsp",St);if(s.arrowScrollOnHover){M.bind("mouseover.jsp",nt(0,-1,M));_.bind("mouseover.jsp",nt(0,1,_))}tt(k,s.verticalArrowPositions,M,_)}A=l;h.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){A-=e(this).outerHeight()});w.hover(function(){w.addClass("jspHover")},function(){w.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",St);w.addClass("jspActive");var n=t.pageY-w.position().top;e("html").bind("mousemove.jsp",function(e){ut(e.pageY-n,!1)}).bind("mouseup.jsp mouseleave.jsp",ot);return!1});G()}}function G(){k.height(A+"px");S=0;L=s.verticalGutter+k.outerWidth();u.width(f-L-R);try{C.position().left===0&&u.css("margin-left",L+"px")}catch(e){}}function Y(){if(y){h.append(e('<div class="jspHorizontalBar" />').append(e('<div class="jspCap jspCapLeft" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragLeft" />'),e('<div class="jspDragRight" />'))),e('<div class="jspCap jspCapRight" />')));D=h.find(">.jspHorizontalBar");P=D.find(">.jspTrack");x=P.find(">.jspDrag");if(s.showArrows){j=e('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",nt(-1,0)).bind("click.jsp",St);F=e('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",nt(1,0)).bind("click.jsp",St);if(s.arrowScrollOnHover){j.bind("mouseover.jsp",nt(-1,0,j));F.bind("mouseover.jsp",nt(1,0,F))}tt(P,s.horizontalArrowPositions,j,F)}x.hover(function(){x.addClass("jspHover")},function(){x.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",St);x.addClass("jspActive");var n=t.pageX-x.position().left;e("html").bind("mousemove.jsp",function(e){ft(e.pageX-n,!1)}).bind("mouseup.jsp mouseleave.jsp",ot);return!1});H=h.innerWidth();Z()}}function Z(){h.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){H-=e(this).outerWidth()});P.width(H+"px");N=0}function et(){if(y&&g){var t=P.outerHeight(),n=k.outerWidth();A-=t;e(D).find(">.jspCap:visible,>.jspArrow").each(function(){H+=e(this).outerWidth()});H-=n;l-=n;f-=t;P.parent().append(e('<div class="jspCorner" />').css("width",t+"px"));G();Z()}y&&u.width(h.outerWidth()-R+"px");d=u.outerHeight();m=d/l;if(y){B=Math.ceil(1/v*H);B>s.horizontalDragMaxWidth?B=s.horizontalDragMaxWidth:B<s.horizontalDragMinWidth&&(B=s.horizontalDragMinWidth);x.width(B+"px");T=H-B;lt(N)}if(g){O=Math.ceil(1/m*A);O>s.verticalDragMaxHeight?O=s.verticalDragMaxHeight:O<s.verticalDragMinHeight&&(O=s.verticalDragMinHeight);w.height(O+"px");E=A-O;at(S)}}function tt(e,t,n,r){var i="before",s="after",o;t=="os"&&(t=/Mac/.test(navigator.platform)?"after":"split");if(t==i)s=t;else if(t==s){i=t;o=n;n=r;r=o}e[i](n)[s](r)}function nt(e,t,n){return function(){rt(e,t,this,n);this.blur();return!1}}function rt(t,n,r,i){r=e(r).addClass("jspActive");var u,a,f=!0,l=function(){t!==0&&o.scrollByX(t*s.arrowButtonSpeed);n!==0&&o.scrollByY(n*s.arrowButtonSpeed);a=setTimeout(l,f?s.initialDelay:s.arrowRepeatFreq);f=!1};l();u=i?"mouseout.jsp":"mouseup.jsp";i=i||e("html");i.bind(u,function(){r.removeClass("jspActive");a&&clearTimeout(a);a=null;i.unbind(u)})}function it(){st();g&&k.bind("mousedown.jsp",function(t){if(t.originalTarget===n||t.originalTarget==t.currentTarget){var r=e(this),i=r.offset(),u=t.pageY-i.top-S,a,f=!0,h=function(){var e=r.offset(),n=t.pageY-e.top-O/2,i=l*s.scrollPagePercent,c=E*i/(d-l);if(u<0)S-c>n?o.scrollByY(-i):ut(n);else{if(!(u>0)){p();return}S+c<n?o.scrollByY(i):ut(n)}a=setTimeout(h,f?s.initialDelay:s.trackClickRepeatFreq);f=!1},p=function(){a&&clearTimeout(a);a=null;e(document).unbind("mouseup.jsp",p)};h();e(document).bind("mouseup.jsp",p);return!1}});y&&P.bind("mousedown.jsp",function(t){if(t.originalTarget===n||t.originalTarget==t.currentTarget){var r=e(this),i=r.offset(),u=t.pageX-i.left-N,a,l=!0,h=function(){var e=r.offset(),n=t.pageX-e.left-B/2,i=f*s.scrollPagePercent,c=T*i/(p-f);if(u<0)N-c>n?o.scrollByX(-i):ft(n);else{if(!(u>0)){d();return}N+c<n?o.scrollByX(i):ft(n)}a=setTimeout(h,l?s.initialDelay:s.trackClickRepeatFreq);l=!1},d=function(){a&&clearTimeout(a);a=null;e(document).unbind("mouseup.jsp",d)};h();e(document).bind("mouseup.jsp",d);return!1}})}function st(){P&&P.unbind("mousedown.jsp");k&&k.unbind("mousedown.jsp")}function ot(){e("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp");w&&w.removeClass("jspActive");x&&x.removeClass("jspActive")}function ut(e,t){if(!g)return;e<0?e=0:e>E&&(e=E);t===n&&(t=s.animateScroll);if(t)o.animate(w,"top",e,at);else{w.css("top",e);at(e)}}function at(e){e===n&&(e=w.position().top);h.scrollTop(0);S=e;var t=S===0,i=S==E,s=e/E,o=-s*(d-l);if(z!=t||X!=i){z=t;X=i;r.trigger("jsp-arrow-change",[z,X,W,V])}ct(t,i);u.css("top",o);r.trigger("jsp-scroll-y",[-o,t,i]).trigger("scroll")}function ft(e,t){if(!y)return;e<0?e=0:e>T&&(e=T);t===n&&(t=s.animateScroll);if(t)o.animate(x,"left",e,lt);else{x.css("left",e);lt(e)}}function lt(e){e===n&&(e=x.position().left);h.scrollTop(0);N=e;var t=N===0,i=N==T,s=e/T,o=-s*(p-f);if(W!=t||V!=i){W=t;V=i;r.trigger("jsp-arrow-change",[z,X,W,V])}ht(t,i);u.css("left",o);r.trigger("jsp-scroll-x",[-o,t,i]).trigger("scroll")}function ct(e,t){if(s.showArrows){M[e?"addClass":"removeClass"]("jspDisabled");_[t?"addClass":"removeClass"]("jspDisabled")}}function ht(e,t){if(s.showArrows){j[e?"addClass":"removeClass"]("jspDisabled");F[t?"addClass":"removeClass"]("jspDisabled")}}function pt(e,t){var n=e/(d-l);ut(n*E,t)}function dt(e,t){var n=e/(p-f);ft(n*T,t)}function vt(t,n,r){var i,o,u,a=0,c=0,p,d,v,m,g,y;try{i=e(t)}catch(w){return}o=i.outerHeight();u=i.outerWidth();h.scrollTop(0);h.scrollLeft(0);while(!i.is(".jspPane")){a+=i.position().top;c+=i.position().left;i=i.offsetParent();if(/^body|html$/i.test(i[0].nodeName))return}p=gt();v=p+l;a<p||n?g=a-s.verticalGutter:a+o>v&&(g=a-l+o+s.verticalGutter);g&&pt(g,r);d=mt();m=d+f;c<d||n?y=c-s.horizontalGutter:c+u>m&&(y=c-f+u+s.horizontalGutter);y&&dt(y,r)}function mt(){return-u.position().left}function gt(){return-u.position().top}function yt(){var e=d-l;return e>20&&e-gt()<10}function bt(){var e=p-f;return e>20&&e-mt()<10}function wt(){h.unbind(J).bind(J,function(e,t,n,r){var i=N,u=S;o.scrollBy(n*s.mouseWheelSpeed,-r*s.mouseWheelSpeed,!1);return i==N&&u==S})}function Et(){h.unbind(J)}function St(){return!1}function xt(){u.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(e){vt(e.target,!1)})}function Tt(){u.find(":input,a").unbind("focus.jsp")}function Nt(){function a(){var e=N,r=S;switch(t){case 40:o.scrollByY(s.keyboardSpeed,!1);break;case 38:o.scrollByY(-s.keyboardSpeed,!1);break;case 34:case 32:o.scrollByY(l*s.scrollPagePercent,!1);break;case 33:o.scrollByY(-l*s.scrollPagePercent,!1);break;case 39:o.scrollByX(s.keyboardSpeed,!1);break;case 37:o.scrollByX(-s.keyboardSpeed,!1)}n=e!=N||r!=S;return n}var t,n,i=[];y&&i.push(D[0]);g&&i.push(C[0]);u.focus(function(){r.focus()});r.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(r){if(r.target!==this&&(!i.length||!e(r.target).closest(i).length))return;var s=N,o=S;switch(r.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:t=r.keyCode;a();break;case 35:pt(d-l);t=null;break;case 36:pt(0);t=null}n=r.keyCode==t&&s!=N||o!=S;return!n}).bind("keypress.jsp",function(e){e.keyCode==t&&a();return!n});if(s.hideFocus){r.css("outline","none");"hideFocus"in h[0]&&r.attr("hideFocus",!0)}else{r.css("outline","");"hideFocus"in h[0]&&r.attr("hideFocus",!1)}}function Ct(){r.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function kt(){if(location.hash&&location.hash.length>1){var t,n,r=escape(location.hash.substr(1));try{t=e("#"+r+', a[name="'+r+'"]')}catch(i){return}if(t.length&&u.find(r))if(h.scrollTop()===0)n=setInterval(function(){if(h.scrollTop()>0){vt(t,!0);e(document).scrollTop(h.position().top);clearInterval(n)}},50);else{vt(t,!0);e(document).scrollTop(h.position().top)}}}function Lt(){if(e(document.body).data("jspHijack"))return;e(document.body).data("jspHijack",!0);e(document.body).delegate("a[href*=#]","click",function(n){var r=this.href.substr(0,this.href.indexOf("#")),i=location.href,s,o,u,f,l,c;location.href.indexOf("#")!==-1&&(i=location.href.substr(0,location.href.indexOf("#")));if(r!==i)return;s=escape(this.href.substr(this.href.indexOf("#")+1));o;try{o=e("#"+s+', a[name="'+s+'"]')}catch(h){return}if(!o.length)return;u=o.closest(".jspScrollable");f=u.data("jsp");f.scrollToElement(o,!0);if(u[0].scrollIntoView){l=e(t).scrollTop();c=o.offset().top;(c<l||c>l+e(t).height())&&u[0].scrollIntoView()}n.preventDefault()})}function At(){var e,t,n,r,i,s=!1;h.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(o){var u=o.originalEvent.touches[0];e=mt();t=gt();n=u.pageX;r=u.pageY;i=!1;s=!0}).bind("touchmove.jsp",function(u){if(!s)return;var a=u.originalEvent.touches[0],f=N,l=S;o.scrollTo(e+n-a.pageX,t+r-a.pageY);i=i||Math.abs(n-a.pageX)>5||Math.abs(r-a.pageY)>5;return f==N&&l==S}).bind("touchend.jsp",function(e){s=!1}).bind("click.jsp-touchclick",function(e){if(i){i=!1;return!1}})}function Ot(){var e=gt(),t=mt();r.removeClass("jspScrollable").unbind(".jsp");r.replaceWith($.append(u.children()));$.scrollTop(e);$.scrollLeft(t);I&&clearInterval(I)}var s,o=this,u,f,l,h,p,d,v,m,g,y,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z=!0,W=!0,X=!1,V=!1,$=r.clone(!1,!1).empty(),J=e.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";q=r.css("paddingTop")+" "+r.css("paddingRight")+" "+r.css("paddingBottom")+" "+r.css("paddingLeft");R=(parseInt(r.css("paddingLeft"),10)||0)+(parseInt(r.css("paddingRight"),10)||0);e.extend(o,{reinitialise:function(t){t=e.extend({},s,t);K(t)},scrollToElement:function(e,t,n){vt(e,t,n)},scrollTo:function(e,t,n){dt(e,n);pt(t,n)},scrollToX:function(e,t){dt(e,t)},scrollToY:function(e,t){pt(e,t)},scrollToPercentX:function(e,t){dt(e*(p-f),t)},scrollToPercentY:function(e,t){pt(e*(d-l),t)},scrollBy:function(e,t,n){o.scrollByX(e,n);o.scrollByY(t,n)},scrollByX:function(e,t){var n=mt()+Math[e<0?"floor":"ceil"](e),r=n/(p-f);ft(r*T,t)},scrollByY:function(e,t){var n=gt()+Math[e<0?"floor":"ceil"](e),r=n/(d-l);ut(r*E,t)},positionDragX:function(e,t){ft(e,t)},positionDragY:function(e,t){ut(e,t)},animate:function(e,t,n,r){var i={};i[t]=n;e.animate(i,{duration:s.animateDuration,easing:s.animateEase,queue:!1,step:r})},getContentPositionX:function(){return mt()},getContentPositionY:function(){return gt()},getContentWidth:function(){return p},getContentHeight:function(){return d},getPercentScrolledX:function(){return mt()/(p-f)},getPercentScrolledY:function(){return gt()/(d-l)},getIsScrollableH:function(){return y},getIsScrollableV:function(){return g},getContentPane:function(){return u},scrollToBottom:function(e){ut(E,e)},hijackInternalLinks:e.noop,destroy:function(){Ot()}});K(i)}r=e.extend({},e.fn.jScrollPane.defaults,r);e.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){r[this]=r[this]||r.speed});return this.each(function(){var t=e(this),n=t.data("jsp");if(n)n.reinitialise(r);else{e("script",t).filter('[type="text/javascript"],:not([type])').remove();n=new i(t,r);t.data("jsp",n)}})};e.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:n,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}})(jQuery,this);(function(e){function t(){var e=document.createElement("input"),t="onpaste";return e.setAttribute(t,""),"function"==typeof e[t]?"paste":"input"}var n,r=t()+".mask",i=navigator.userAgent,s=/iphone/i.test(i),o=/android/i.test(i);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var n;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&(n=this.createTextRange(),n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(t,i){var u,f,l,c,h,p;return!t&&this.length>0?(u=e(this[0]),u.data(e.mask.dataName)()):(i=e.extend({placeholder:e.mask.placeholder,completed:null},i),f=e.mask.definitions,l=[],c=p=t.length,h=null,e.each(t.split(""),function(e,t){"?"==t?(p--,c=e):f[t]?(l.push(RegExp(f[t])),null===h&&(h=l.length-1)):l.push(null)}),this.trigger("unmask").each(function(){function u(e){for(;p>++e&&!l[e];);return e}function d(e){for(;--e>=0&&!l[e];);return e}function v(e,t){var n,r;if(!(0>e)){for(n=e,r=u(t);p>n;n++)if(l[n]){if(!(p>r&&l[n].test(x[r])))break;x[n]=x[r],x[r]=i.placeholder,r=u(r)}w(),S.caret(Math.max(h,e))}}function m(e){var t,n,r,s;for(t=e,n=i.placeholder;p>t;t++)if(l[t]){if(r=u(t),s=x[t],x[t]=n,!(p>r&&l[r].test(s)))break;n=s}}function g(e){var t,n,r,i=e.which;8===i||46===i||s&&127===i?(t=S.caret(),n=t.begin,r=t.end,0===r-n&&(n=46!==i?d(n):r=u(n-1),r=46===i?u(r):r),b(n,r),v(n,r-1),e.preventDefault()):27==i&&(S.val(T),S.caret(0,E()),e.preventDefault())}function y(t){var n,r,s,a=t.which,f=S.caret();t.ctrlKey||t.altKey||t.metaKey||32>a||a&&(0!==f.end-f.begin&&(b(f.begin,f.end),v(f.begin,f.end-1)),n=u(f.begin-1),p>n&&(r=String.fromCharCode(a),l[n].test(r)&&(m(n),x[n]=r,w(),s=u(n),o?setTimeout(e.proxy(e.fn.caret,S,s),0):S.caret(s),i.completed&&s>=p&&i.completed.call(S))),t.preventDefault())}function b(e,t){var n;for(n=e;t>n&&p>n;n++)l[n]&&(x[n]=i.placeholder)}function w(){S.val(x.join(""))}function E(e){var t,n,r=S.val(),s=-1;for(t=0,pos=0;p>t;t++)if(l[t]){for(x[t]=i.placeholder;pos++<r.length;)if(n=r.charAt(pos-1),l[t].test(n)){x[t]=n,s=t;break}if(pos>r.length)break}else x[t]===r.charAt(pos)&&t!==c&&(pos++,s=t);return e?w():c>s+1?(S.val(""),b(0,p)):(w(),S.val(S.val().substring(0,s+1))),c?t:h}var S=e(this),x=e.map(t.split(""),function(e){return"?"!=e?f[e]?i.placeholder:e:void 0}),T=S.val();S.data(e.mask.dataName,function(){return e.map(x,function(e,t){return l[t]&&e!=i.placeholder?e:null}).join("")}),S.attr("readonly")||S.one("unmask",function(){S.unbind(".mask").removeData(e.mask.dataName)}).bind("focus.mask",function(){clearTimeout(n);var e;T=S.val(),e=E(),n=setTimeout(function(){w(),e==t.length?S.caret(0,e):S.caret(e)},10)}).bind("blur.mask",function(){E(),S.val()!=T&&S.change()}).bind("keydown.mask",g).bind("keypress.mask",y).bind(r,function(){setTimeout(function(){var e=E(!0);S.caret(e),i.completed&&e==S.val().length&&i.completed.call(S)},0)}),E()}))}})})(jQuery);(function(e,t,n,r,i){"use strict";function F(e,t,n,r){var i=e.match(N);e=i[2]+i[3];i[3]!=="px"?e=i[3]==="%"?Z(e,t,n,r):Y(e,t):e=k(e);return e}function I(e){var t="top",n="right",r="bottom",s="center",o="left",u=" ",a="0",f="50%",l="100%",c,h=2;switch(e){case t+u+o:case o+u+t:e=a+u+a;break;case t:case t+u+s:case s+u+t:e=f+u+a;break;case n+u+t:case t+u+n:e=l+u+a;break;case o:case o+u+s:case s+u+o:e=a+u+f;break;case n:case n+u+s:case s+u+n:e=l+u+f;break;case r+u+o:case o+u+r:e=a+u+l;break;case r:case r+u+s:case s+u+r:e=f+u+l;break;case r+u+n:case n+u+r:e=l+u+l;break;case s:case s+u+s:e=f+u+f;break;default:c=e.split(u);c[1]===i&&(c[1]=c[0]);while(h--)switch(c[h]){case o:case t:c[h]=a;break;case n:case r:c[h]=l;break;case s:c[h]=f}e=c.join(u)}return e}function q(e,t,n){return[e[0]*t+e[2]*n,e[1]*t+e[3]*n]}function R(e,t,n){return[q(e,0,0),q(e,0,n),q(e,t,0),q(e,t,n)]}function U(e,t,n){var i=R(e,t,n);return{top:r.min(i[0][1],i[2][1],i[3][1],i[1][1]),bottom:r.max(i[0][1],i[2][1],i[3][1],i[1][1]),left:r.min(i[0][0],i[2][0],i[3][0],i[1][0]),right:r.max(i[0][0],i[2][0],i[3][0],i[1][0])}}function z(e,t,n){var i=U(e,t,n);return{height:r.abs(i.bottom-i.top),width:r.abs(i.right-i.left)}}function W(t){t=t.split(")");var n=e.trim,i=-1,s=t.length-1,o,u,a,f=g?new Float32Array(6):[],l=g?new Float32Array(6):[],c=g?new Float32Array(6):[1,0,0,1,0,0];f[0]=f[3]=c[0]=c[3]=1;f[1]=f[2]=f[4]=f[5]=0;while(++i<s){o=t[i].split("(");u=n(o[0]);a=o[1];l[0]=l[3]=1;l[1]=l[2]=l[4]=l[5]=0;switch(u){case M+"X":l[4]=parseInt(a,10);break;case M+"Y":l[5]=parseInt(a,10);break;case M:a=a.split(",");l[4]=parseInt(a[0],10);l[5]=parseInt(a[1]||0,10);break;case _:a=G(a);l[0]=r.cos(a);l[1]=r.sin(a);l[2]=-l[1];l[3]=l[0];break;case D+"X":l[0]=+a;break;case D+"Y":l[3]=a;break;case D:a=a.split(",");l[0]=a[0];l[3]=a.length>1?a[1]:a[0];break;case P+"X":l[2]=r.tan(G(a));break;case P+"Y":l[1]=r.tan(G(a));break;case P:a=a.split(",");l[2]=r.tan(G(a[0]));a[1]&&(l[1]=r.tan(G(a[1])));break;case H:a=a.split(",");l[0]=a[0];l[1]=a[1];l[2]=a[2];l[3]=a[3];l[4]=parseInt(a[4],10);l[5]=parseInt(a[5],10)}c[0]=f[0]*l[0]+f[2]*l[1];c[1]=f[1]*l[0]+f[3]*l[1];c[2]=f[0]*l[2]+f[2]*l[3];c[3]=f[1]*l[2]+f[3]*l[3];c[4]=f[0]*l[4]+f[2]*l[5]+f[4];c[5]=f[1]*l[4]+f[3]*l[5]+f[5];f=[c[0],c[1],c[2],c[3],c[4],c[5]]}return c}function X(e){var t,n,i,s=e[0],o=e[1],u=e[2],a=e[3];if(!(s*a-o*u))throw new Error("matrix is singular");t=r.sqrt(s*s+o*o);s/=t;o/=t;i=s*u+o*a;u-=s*i;a-=o*i;n=r.sqrt(u*u+a*a);u/=n;a/=n;i/=n;if(s*a<o*u){s=-s;o=-o;i=-i;t=-t}return[[M,[+e[4],+e[5]]],[_,r.atan2(o,s)],[P,[r.atan(i),0]],[D,[t,n]]]}function V(t,n){var r={start:[],end:[]},i=-1,s,o,u,a;(t=="none"||J(t))&&(t="");(n=="none"||J(n))&&(n="");if(t&&n&&!n.indexOf("matrix")&&et(t).join()==et(n.split(")")[0]).join()){r.origin=t;t="";n=n.slice(n.indexOf(")")+1)}if(!t&&!n)return;if(!t||!n||K(t)==K(n)){t&&(t=t.split(")"))&&(s=t.length);n&&(n=n.split(")"))&&(s=n.length);while(++i<s-1){t[i]&&(o=t[i].split("("));n[i]&&(u=n[i].split("("));a=e.trim((o||u)[0]);Q(r.start,$(a,o?o[1]:0));Q(r.end,$(a,u?u[1]:0))}}else{r.start=X(W(t));r.end=X(W(n))}return r}function $(e,t){var n=+!e.indexOf(D),r=e.indexOf(P)?k:G,i,s=e.replace(/[XY]/,"");switch(e){case M+"Y":case D+"Y":case P+"Y":t=[n,t?r(t):n];break;case M+"X":case M:case D+"X":i=1;case D:case P+"X":case P:t=t?(t=t.split(","))&&[r(t[0]),r(t.length>1?t[1]:e==D?i||t[0]:n+"")]:[n,n];break;case _:t=t?G(t):0;break;case H:return X(t?et(t):[1,0,0,1,0,0])}return[[s,t]]}function J(e){return T.test(e)}function K(e){return e.replace(/(?:\([^)]*\))|\s/g,"")}function Q(e,t,n){while(n=t.shift())e.push(n)}function G(e){var t=k(e),n=r.PI;return~e.indexOf("deg")?t*(n/180):~e.indexOf("grad")?t*(n/200):~e.indexOf("turn")?t*(n/.5):t}function Y(t,n,r){r=r||"left";var s=n.style[r],o=s!==i&&s!==null,u=e.css(n,r),a;e.style(n,r,t);a=e.css(n,r);o?e.style(this,r,u):n.style[r]=null;return k(a)}function Z(t,n,r,i,s,o){var u=1,a=e(n),f=(r?o:s)||a["outer"+(r?"Height":"Width")]();m&&(u=i[r?"height":"width"]);t=f*k(t)/100/u;return t}function et(e){e=/([^,]*),([^,]*),([^,]*),([^,]*),([^,p]*)(?:px)?,([^)p]*)(?:px)?/.exec(e);return[e[1],e[2],e[3],e[4],e[5],e[6]]}var s=n.createElement("div"),o=s.style,u="transform",a="Transform",f=[u,"O"+a,"ms"+a,"Webkit"+a,"Moz"+a],l="Origin",c=u+"-origin",h=u+l,p=f.length,d,v,m,g="Float32Array"in t,y,b,w,E,S,x=/Matrix([^)]*)/,T=/^\s*matrix\(\s*1\s*,\s*0\s*,\s*0\s*,\s*1\s*(?:,\s*0(?:px)?\s*){2}\)\s*$/,N=/^([\+\-]=)?(-?[\d+\.\-]+)([a-z]+|%)?(.*?)$/i,C=/%/,k=parseFloat,L="relative",A="static",O="position",M="translate",_="rotate",D="scale",P="skew",H="matrix";while(p--)if(f[p]in o){e.support[u]=d=f[p];continue}v=d+l;d||(e.support.matrixFilter=m=o.filter==="");e.cssNumber[u]=!0;e.cssNumber[h]=!0;if(d&&d!=u){e.cssProps[u]=d;e.cssProps[h]=v;d=="Moz"+a?y={get:function(t,n){return n?e.css(t,d).split("px").join(""):t.style[d]},set:function(e,t){e.style[d]=/matrix\([^)p]*\)/.test(t)?t.replace(/matrix((?:[^,]*,){4})([^,]*),([^)]*)/,H+"$1$2px,$3px"):t}}:/^1\.[0-5](?:\.|$)/.test(e.fn.jquery)&&(y={get:function(t,n){return n?e.css(t,d.replace(/^ms/,"Ms")):t.style[d]}})}else if(m){var B=a+"-translate-x",j=a+"-translate-y";y={get:function(t,n){var r=e(t),i=n&&t.currentStyle?t.currentStyle:t.style,s;if(i&&x.test(i.filter)){s=RegExp.$1.split(",");s=[s[0].split("=")[1],s[2].split("=")[1],s[1].split("=")[1],s[3].split("=")[1]]}else s=[1,0,0,1];s[4]=r.data(B)||0;s[5]=r.data(j)||0;return H+"("+s+")"},set:function(t,n,r){var i=e(t),s=t.style,o,u,a,f;r||(s.zoom=1);n=W(n);u=["Matrix(M11="+n[0],"M12="+n[2],"M21="+n[1],"M22="+n[3],"SizingMethod='auto expand'"].join();a=(o=t.currentStyle)&&o.filter||s.filter||"";s.filter=x.test(a)?a.replace(x,u):a+" progid:DXImageTransform.Microsoft."+u+")";i.data(B,n[4]);i.data(j,n[5]);S(t)}};w={get:function(t,n){var r=e(t),i=r.data(c);if(!i){var s=["-ms-"+c,c],o=s.length,u=t.currentStyle;while(o--)if(s[o]in u){i=u[s[o]];r.data(c,i);break}}if(!i){i="50% 50%";r.data(c,i)}return i},set:function(t,n){var r=e(t),s=b(t);n!==i&&r.data(c,n);if(!s)return;s=W(s);var o=s[4]||r.data(B)||0,u=s[5]||r.data(j)||0,a=I(n===i?E(t):n).split(" "),f=z(s,1,1),l=r.outerWidth()/f.width,h=r.outerHeight()/f.height,p=2,d;while(p--){d=a[p].match(N);d[3]!=="px"?a[p]=d[3]==="%"?Z(a[p],t,p,f,l,h):Y(a[p],t):a[p]=k(a[p])}var v=q(s,a[0],a[1]),m=q(s,0,0),g={top:m[1]-(v[1]-a[1]),left:m[0]-(v[0]-a[0])},y=U(s,l,h),w=r.css(O),S=w===L||w===A||e.transform.centerOrigin===O,x={},T=S?"top":"marginTop",C=S?"left":"marginLeft",M=g.top+u+y.top,_=g.left+o+y.left,D=0,P=0,H,F,R=t.style,X=t.currentStyle;if(w===A)x[O]=L;else{R[T]=null;R[C]=null;H=X[T];F=X[C];H!=="auto"&&(D=parseInt(H,10));F!=="auto"&&(P=parseInt(F,10))}x[T]=M+D;x[C]=_+P;r.css(x)}}}y&&(e.cssHooks[u]=y);w&&(e.cssHooks[h]=w);b=y&&y.get||e.css;E=w&&w.get||e.css;S=w&&w.set||e.css;e.fx.step.transform=function(t){var n=t.elem,r=t.start,i=t.end,s=t.pos,o="",u,a,f,l;if(!r||typeof r=="string"){r||(r=b(n,d));m&&(n.style.zoom=1);i=i.split("+=").join(r);return e.extend(t,V(r,i))}u=r.length;while(u--){a=r[u];f=i[u];l=0;switch(a[0]){case M:l="px";case D:l||(l=" ");case P:l||(l="rad");o=a[0]+"("+(a[1][0]+(f[1][0]-a[1][0])*s)+l+","+(a[1][1]+(f[1][1]-a[1][1])*s)+l+")"+o;break;case _:o=_+"("+(a[1]+(f[1]-a[1])*s)+"rad)"+o}}t.origin&&(o=t.origin+o);y&&y.set?y.set(n,o,1):n.style[d]=o};e.fx.step.transformOrigin=function(e){var t=e.elem,n,r=[],i=e.pos,s=2,o,u=[],a,f,l;if(!e.state){a=I(E(t,v)).split(" ");f=I(e.end).split(" ");while(s--){o=f[s].match(N)[1];m&&(l=z(W(b(t)),1,1));a[s]=F(a[s],t,s,l);f[s]=F(f[s],t,s,l);o&&(f[s]=a[s]+(o==="+="?1:-1)*f[s])}s=2;e.start=a;e.end=f;e.unit="px"}n=e.start;while(s--)r[s]=n[s]+(e.end[s]-n[s])*i+e.unit;r=r.join(" ");m?S(t,r):t.style[v]=r};e.transform={centerOrigin:O}})(jQuery,window,document,Math);!function(e){"use strict";e(function(){e.support.transition=function(){var e=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in t)if(e.style[n]!==undefined)return t[n]}();return e&&{end:e}}()})}(window.jQuery),!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function n(){s.trigger("closed").remove()}var r=e(this),i=r.attr("data-target"),s;i||(i=r.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),s=e(i),t&&t.preventDefault(),s.length||(s=r.hasClass("alert")?r:r.parent()),s.trigger(t=e.Event("close"));if(t.isDefaultPrevented())return;s.removeClass("in"),e.support.transition&&s.hasClass("fade")?s.on(e.support.transition.end,n):n()};var r=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("alert");i||r.data("alert",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.alert.data-api",t,n.prototype.close)}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";e+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[e]||this.options[e]),setTimeout(function(){e=="loadingText"?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var r=e(this),i=r.data("button"),s=typeof n=="object"&&n;i||r.data("button",i=new t(this,s)),n=="toggle"?i.toggle():n&&i.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.options.pause=="hover"&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(t){var n=this.getActiveIndex(),r=this;if(t>this.$items.length-1||t<0)return;return this.sliding?this.$element.one("slid",function(){r.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",e(this.$items[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(t,n){var r=this.$element.find(".item.active"),i=n||r[t](),s=this.interval,o=t=="next"?"left":"right",u=t=="next"?"first":"last",a=this,f;this.sliding=!0,s&&this.pause(),i=i.length?i:this.$element.find(".item")[u](),f=e.Event("slide",{relatedTarget:i[0],direction:o});if(i.hasClass("active"))return;this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var t=e(a.$indicators.children()[a.getActiveIndex()]);t&&t.addClass("active")}));if(e.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(f);if(f.isDefaultPrevented())return;i.addClass(t),i[0].offsetWidth,r.addClass(o),i.addClass(o),this.$element.one(e.support.transition.end,function(){i.removeClass([t,o].join(" ")).addClass("active"),r.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger("slid")},0)})}else{this.$element.trigger(f);if(f.isDefaultPrevented())return;r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each(function(){var r=e(this),i=r.data("carousel"),s=e.extend({},e.fn.carousel.defaults,typeof n=="object"&&n),o=typeof n=="string"?n:s.slide;i||r.data("carousel",i=new t(this,s)),typeof n=="number"?i.to(n):o?i[o]():s.interval&&i.pause().cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(t){var n=
e(this),r,i=e(n.attr("data-target")||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")),s=e.extend({},i.data(),n.data()),o;i.carousel(s),(o=n.attr("data-slide-to"))&&i.data("carousel").pause().to(o).cycle(),t.preventDefault()})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,r,i;if(this.transitioning||this.$element.hasClass("in"))return;t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),r=this.$parent&&this.$parent.find("> .accordion-group > .in");if(r&&r.length){i=r.data("collapse");if(i&&i.transitioning)return;r.collapse("hide"),i||r.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])},hide:function(){var t;if(this.transitioning||!this.$element.hasClass("in"))return;t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0)},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[e!==null?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,r){var i=this,s=function(){n.type=="show"&&i.reset(),i.transitioning=0,i.$element.trigger(r)};this.$element.trigger(n);if(n.isDefaultPrevented())return;this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,s):s()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var r=e(this),i=r.data("collapse"),s=e.extend({},e.fn.collapse.defaults,r.data(),typeof n=="object"&&n);i||r.data("collapse",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n=e(this),r,i=n.attr("data-target")||t.preventDefault()||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),s=e(i).data("collapse")?"toggle":n.data();n[e(i).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(i).collapse(s)})}(window.jQuery),!function(e){"use strict";function t(){e(r).each(function(){n(e(this)).removeClass("open")})}function n(t){var n=t.attr("data-target"),r;n||(n=t.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")),r=n&&e(n);if(!r||!r.length)r=t.parent();return r}var r="[data-toggle=dropdown]",i=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};i.prototype={constructor:i,toggle:function(r){var i=e(this),s,o;if(i.is(".disabled, :disabled"))return;return s=n(i),o=s.hasClass("open"),t(),o||s.toggleClass("open"),i.focus(),!1},keydown:function(t){var i,s,o,u,a,f;if(!/(38|40|27)/.test(t.keyCode))return;i=e(this),t.preventDefault(),t.stopPropagation();if(i.is(".disabled, :disabled"))return;u=n(i),a=u.hasClass("open");if(!a||a&&t.keyCode==27)return t.which==27&&u.find(r).focus(),i.click();s=e("[role=menu] li:not(.divider):visible a",u);if(!s.length)return;f=s.index(s.filter(":focus")),t.keyCode==38&&f>0&&f--,t.keyCode==40&&f<s.length-1&&f++,~f||(f=0),s.eq(f).focus()}};var s=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),r=n.data("dropdown");r||n.data("dropdown",r=new i(this)),typeof t=="string"&&r[t].call(n)})},e.fn.dropdown.Constructor=i,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.dropdown.data-api",t).on("click.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown-menu",function(e){e.stopPropagation()}).on("click.dropdown.data-api",r,i.prototype.toggle).on("keydown.dropdown.data-api",r+", [role=menu]",i.prototype.keydown)}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n);if(this.isShown||n.isDefaultPrevented())return;this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")})},hide:function(t){t&&t.preventDefault();var n=this;t=e.Event("hide"),this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]!==e.target&&!t.$element.has(e.target).length&&t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){t.which==27&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(document.body),this.$backdrop.click(this.options.backdrop=="static"?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in");if(!t)return;i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t):t()):t&&t()}};var n=e.fn.modal;e.fn.modal=function(n){return this.each(function(){var r=e(this),i=r.data("modal"),s=e.extend({},e.fn.modal.defaults,r.data(),typeof n=="object"&&n);i||r.data("modal",i=new t(this,s)),typeof n=="string"?i[n]():s.show&&i.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());t.preventDefault(),i.modal(s).one("hide",function(){n.focus()})})}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,r){var i,s,o,u,a;this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.enabled=!0,o=this.options.trigger.split(" ");for(a=o.length;a--;)u=o[a],u=="click"?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):u!="manual"&&(i=u=="hover"?"mouseenter":"focus",s=u=="hover"?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.leave,this)));this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,this.$element.data(),t),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e.fn[this.type].defaults,r={},i;this._options&&e.each(this._options,function(e,t){n[e]!=t&&(r[e]=t)},this),i=e(t.currentTarget)[this.type](r).data(this.type);if(!i.options.delay||!i.options.delay.show)return i.show();clearTimeout(this.timeout),i.hoverState="in",this.timeout=setTimeout(function(){i.hoverState=="in"&&i.show()},i.options.delay.show)},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out",this.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},show:function(){var t,n,r,i,s,o,u=e.Event("show");if(this.hasContent()&&this.enabled){this.$element.trigger(u);if(u.isDefaultPrevented())return;t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),s=typeof this.options.placement=="function"?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,t.detach().css({top:0,left:0,display:"block"}),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),n=this.getPosition(),r=t[0].offsetWidth,i=t[0].offsetHeight;switch(s){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":o={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width}}this.applyPlacement(o,s),this.$element.trigger("shown")}},applyPlacement:function(e,t){var n=this.tip(),r=n[0].offsetWidth,i=n[0].offsetHeight,s,o,u,a;n.offset(e).addClass(t).addClass("in"),s=n[0].offsetWidth,o=n[0].offsetHeight,t=="top"&&o!=i&&(e.top=e.top+i-o,a=!0),t=="bottom"||t=="top"?(u=0,e.left<0&&(u=e.left*-2,e.left=0,n.offset(e),s=n[0].offsetWidth,o=n[0].offsetHeight),this.replaceArrow(u-r+s,s,"left")):this.replaceArrow(o-i,o,"top"),a&&n.offset(e)},replaceArrow:function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function t(){var t=setTimeout(function(){r.off(e.support.transition.end).detach()},500);r.one(e.support.transition.end,function(){clearTimeout(t),r.detach()})}var n=this,r=this.tip(),i=e.Event("hide");this.$element.trigger(i);if(i.isDefaultPrevented())return;return r.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?t():r.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return e.extend({},typeof t.getBoundingClientRect=="function"?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title),e},tip:function(){return this.$tip=this.$tip||e(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=t?e(t.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("tooltip"),s=typeof n=="object"&&n;i||r.data("tooltip",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=(typeof n.content=="function"?n.content.call(t[0]):n.content)||t.attr("data-content"),e},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("popover"),s=typeof n=="object"&&n;i||r.data("popover",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(window.jQuery),!function(e){"use strict";function t(t,n){var r=e.proxy(this.process,this),i=e(t).is("body")?e(window):e(t),s;this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=i.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(s=e(t).attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t=this,n;this.offsets=e([]),this.targets=e([]),n=this.$body.find(this.selector).map(function(){var n=e(this),r=n.data("target")||n.attr("href"),i=/^#\w/.test(r)&&e(r);return i&&i.length&&[[i.position().top+(!e.isWindow(t.$scrollElement.get(0))&&t.$scrollElement.scrollTop()),r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},process:function(){var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=t-this.$scrollElement.height(),r=this.offsets,i=this.targets,s=this.activeTarget,o;if(e>=n)return s!=(o=i.last()[0])&&this.activate(o);for(o=r.length;o--;)s!=i[o]&&e>=r[o]&&(!r[o+1]||e<=r[o+1])&&this.activate(i[o])},activate:function(t){var n,r;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(r).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var r=e(this),i=r.data("scrollspy"),s=typeof n=="object"&&n;i||r.data("scrollspy",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.attr("data-target"),i,s,o;r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));if(t.parent("li").hasClass("active"))return;i=n.find(".active:last a")[0],o=e.Event("show",{relatedTarget:i}),t.trigger(o);if(o.isDefaultPrevented())return;s=e(r),this.activate(t.parent("li"),n),this.activate(s,s.parent(),function(){t.trigger({type:"shown",relatedTarget:i})})},activate:function(t,n,r){function i(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),o?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var s=n.find("> .active"),o=r&&e.support.transition&&s.hasClass("fade");o?s.one(e.support.transition.end,i):i(),s.removeClass("in")}};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var r=e(this),i=r.data("tab");i||r.data("tab",i=new t(this)),typeof n=="string"&&i[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var n;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(n=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,n?this.process(n):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){var t=[],n=[],r=[],i;while(i=e.shift())i.toLowerCase().indexOf(this.query.toLowerCase())?~i.indexOf(this.query)?n.push(i):r.push(i):t.push(i);return t.concat(n,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,r){return t=e(n.options.item).attr("data-value",r),t.find("a").html(n.highlighter(r)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(t){var n=this.$menu.find(".active").removeClass("active"),r=n.next();r.length||(r=e(this.$menu.find("li")[0])),r.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t=typeof this.$element[e]=="function"),t},move:function(e){if(!this.shown)return;switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){if(this.suppressKeyPressRepeat)return;this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},focus:function(e){this.focused=!0},blur:function(e){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")},mouseleave:function(e){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=e.fn.typeahead;e.fn.typeahead=function(n){return this.each(function(){var r=e(this),i=r.data("typeahead"),s=typeof n=="object"&&n;i||r.data("typeahead",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);if(n.data("typeahead"))return;n.typeahead(n.data())})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var t=e(document).height(),n=this.$window.scrollTop(),r=this.$element.offset(),i=this.options.offset,s=i.bottom,o=i.top,u="affix affix-top affix-bottom",a;typeof i!="object"&&(s=o=i),typeof o=="function"&&(o=i.top()),typeof s=="function"&&(s=i.bottom()),a=this.unpin!=null&&n+this.unpin<=r.top?!1:s!=null&&r.top+this.$element.height()>=t-s?"bottom":o!=null&&n<=o?"top":!1;if(this.affixed===a)return;this.affixed=a,this.unpin=a=="bottom"?r.top-n:null,this.$element.removeClass(u).addClass("affix"+(a?"-"+a:""))};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var r=e(this),i=r.data("affix"),s=typeof n=="object"&&n;i||r.data("affix",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery);if("undefined"==typeof net)var net={};net.brehaut||(net.brehaut={});(function(){"use strict";function p(e,t){e=e.toString();var n=[];for(var r=0,i=Math.max(t-e.length,0);r<i;r++)n.push("0");n.push(e);return n.join("")}function d(e){return e.slice(0,1).toUpperCase()+e.slice(1)}function v(e){return e.replace(/^\s+|\s+$/g,"")}function m(e){return function(){var t=this.clone();e.apply(t,arguments);return t}}function g(e,t){function s(e){return function(){return e.apply(this[i](),arguments)}}function v(){}function m(){return new v}var n=h(f),r=[],i="to"+d(e);for(var o in t)if(t.hasOwnProperty(o)){n[o]=t[o];var u=n[o];if(o.slice(0,1)=="_")continue;if(o in f||"function"!=typeof u){if("function"!=typeof u){r.push(o);var a="get"+d(o),p="set"+d(o);f[a]=s(n[a]=function(e){return function(){return this[e]}}(o));f[p]=s(n[p]=function(e){return function(t){var n=this.clone();n[e]=t;return n}}(o))}}else f[o]=s(u)}v.prototype=n;c[e]=m;n.clone=function(){var e=m();for(var t=0,n=r.length;t<n;t++){var i=r[t];e[i]=this[i]}return e};f[i]=function(){return m()};l.push(n);return n}function y(e){return f.fromObject(e)}var e={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370D8",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#D87093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",transparent:"#000",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:'#9ACD32"'},t="(?:\\+|-)?\\d+",n="(?:\\+|-)?\\d*\\.\\d+",r="(?:"+t+")|(?:"+n+")";t="("+t+")";n="("+n+")";r="("+r+")";var i=r+"%",s="\\s*?",o=new RegExp(["^hsl(a?)\\(",r,",",i,",",i,"(,",r,")?\\)$"].join(s)),u=new RegExp(["^rgb(a?)\\(",t,",",t,",",t,"(,",r,")?\\)$"].join(s)),a=new RegExp(["^rgb(a?)\\(",i,",",i,",",i,"(,",r,")?\\)$"].join(s)),f,l=[],c={};this.object||(this.object=function(e){function t(){}t.prototype=e;return new t});var h=this.object;f={fromObject:function(e){if(!e)return h(f);for(var t=0,n=l.length;t<n;t++){var r=l[t].fromObject(e);if(r)return r}return h(f)},toString:function(){return this.toCSS()}};g("RGB",{red:0,green:0,blue:0,getLuminance:function(){return this.red*.2126+this.green*.7152+this.blue*.0722},blend:function(e,t){e=e.toRGB();t=Math.min(Math.max(t,0),1);var n=this.clone();n.red=n.red*(1-t)+e.red*t;n.green=n.green*(1-t)+e.green*t;n.blue=n.blue*(1-t)+e.blue*t;return n},fromObject:function(e){if("string"==typeof e)return this._fromCSS(v(e));if(e.hasOwnProperty("red")&&e.hasOwnProperty("green")&&e.hasOwnProperty("blue"))return this._fromRGB(e)},_stringParsers:[function(e){function n(t,n){var r=e.match(t);if(!r||!!r[1]+!!r[5]===1)return null;var i=c.RGB();i.red=Math.min(1,Math.max(0,r[2]/n));i.green=Math.min(1,Math.max(0,r[3]/n));i.blue=Math.min(1,Math.max(0,r[4]/n));return i}e=v(e);var t=n(u,255);return t?t:n(a,100)},function(t){var n=t.toLowerCase();n in e&&(t=e[n]);if(!t.match(/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/))return;t=t.replace(/^#/,"");var r=t.length/3,i=Math.pow(16,r)-1,s=c.RGB();s.red=parseInt(t.slice(0,r),16)/i;s.green=parseInt(t.slice(r*1,r*2),16)/i;s.blue=parseInt(t.slice(r*2),16)/i;return s}],_fromCSS:function(e){var t=null;for(var n=0,r=this._stringParsers.length;n<r;n++){t=this._stringParsers[n](e);if(t)return t}},_fromRGB:function(e){var t=c.RGB();t.red=e.red;t.green=e.green;t.blue=e.blue;return t},toCSS:function(e){e=e||2;var t=Math.pow(16,e)-1,n=["#",p(Math.round(this.red*t).toString(16).toUpperCase(),e),p(Math.round(this.green*t).toString(16).toUpperCase(),e),p(Math.round(this.blue*t).toString(16).toUpperCase(),e)];return n.join("")},toHSV:function(){var e=c.HSV(),t,n,r;t=Math.min(this.red,this.green,this.blue);n=Math.max(this.red,this.green,this.blue);e.value=n;r=n-t;if(r==0)e.hue=e.saturation=0;else{e.saturation=r/n;this.red==n?e.hue=(this.green-this.blue)/r:this.green==n?e.hue=2+(this.blue-this.red)/r:e.hue=4+(this.red-this.green)/r;e.hue=(e.hue*60+360)%360}return e},toHSL:function(){return this.toHSV().toHSL()},toRGB:function(){return this.clone()}});g("HSV",{hue:0,saturation:0,value:1,shiftHue:m(function(e){var t=(this.hue+e)%360;t<0&&(t=(360+t)%360);this.hue=t}),devalueByAmount:m(function(e){this.value=Math.min(1,Math.max(this.value-e,0))}),devalueByRatio:m(function(e){this.value=Math.min(1,Math.max(this.value*(1-e),0))}),valueByAmount:m(function(e){this.value=Math.min(1,Math.max(this.value+e,0))}),valueByRatio:m(function(e){this.value=Math.min(1,Math.max(this.value*(1+e),0))}),desaturateByAmount:m(function(e){this.saturation=Math.min(1,Math.max(this.saturation-e,0))}),desaturateByRatio:m(function(e){this.saturation=Math.min(1,Math.max(this.saturation*(1-e),0))}),saturateByAmount:m(function(e){this.saturation=Math.min(1,Math.max(this.saturation+e,0))}),saturateByRatio:m(function(e){this.saturation=Math.min(1,Math.max(this.saturation*(1+e),0))}),schemeFromDegrees:function(e){var t=[];for(var n=0,r=e.length;n<r;n++){var i=this.clone();i.hue=(this.hue+e[n])%360;t.push(i)}return t},complementaryScheme:function(){return this.schemeFromDegrees([0,180])},splitComplementaryScheme:function(){return this.schemeFromDegrees([0,150,320])},splitComplementaryCWScheme:function(){return this.schemeFromDegrees([0,150,300])},splitComplementaryCCWScheme:function(){return this.schemeFromDegrees([0,60,210])},triadicScheme:function(){return this.schemeFromDegrees([0,120,240])},clashScheme:function(){return this.schemeFromDegrees([0,90,270])},tetradicScheme:function(){return this.schemeFromDegrees([0,90,180,270])},fourToneCWScheme:function(){return this.schemeFromDegrees([0,60,180,240])},fourToneCCWScheme:function(){return this.schemeFromDegrees([0,120,180,300])},fiveToneAScheme:function(){return this.schemeFromDegrees([0,115,155,205,245])},fiveToneBScheme:function(){return this.schemeFromDegrees([0,40,90,130,245])},fiveToneCScheme:function(){return this.schemeFromDegrees([0,50,90,205,320])},fiveToneDScheme:function(){return this.schemeFromDegrees([0,40,155,270,310])},fiveToneEScheme:function(){return this.schemeFromDegrees([0,115,230,270,320])},sixToneCWScheme:function(){return this.schemeFromDegrees([0,30,120,150,240,270])},sixToneCCWScheme:function(){return this.schemeFromDegrees([0,90,120,210,240,330])},neutralScheme:function(){return this.schemeFromDegrees([0,15,30,45,60,75])},analogousScheme:function(){return this.schemeFromDegrees([0,30,60,90,120,150])},fromObject:function(e){if(e.hasOwnProperty("hue")&&e.hasOwnProperty("saturation")&&e.hasOwnProperty("value")){var t=c.HSV();t.hue=e.hue;t.saturation=e.saturation;t.value=e.value;return t}return null},_normalise:function(){this.hue%=360;this.saturation=Math.min(Math.max(0,this.saturation),1);this.value=Math.min(Math.max(0,this.value))},toRGB:function(){this._normalise();var e=c.RGB(),t,n,r,i,s;if(this.saturation===0){e.red=this.value;e.green=this.value;e.blue=this.value;return e}var o=this.hue/60;t=Math.floor(o);n=o-t;r=this.value*(1-this.saturation);i=this.value*
(1-this.saturation*n);s=this.value*(1-this.saturation*(1-n));switch(t){case 0:e.red=this.value;e.green=s;e.blue=r;break;case 1:e.red=i;e.green=this.value;e.blue=r;break;case 2:e.red=r;e.green=this.value;e.blue=s;break;case 3:e.red=r;e.green=i;e.blue=this.value;break;case 4:e.red=s;e.green=r;e.blue=this.value;break;default:e.red=this.value;e.green=r;e.blue=i}return e},toHSL:function(){this._normalise();var e=c.HSL();e.hue=this.hue;var t=(2-this.saturation)*this.value,n=this.saturation*this.value;t&&2-t&&(n/=t<=1?t:2-t);t/=2;e.saturation=n;e.lightness=t;return e},toHSV:function(){return this.clone()}});g("HSL",{hue:0,saturation:0,lightness:0,darkenByAmount:m(function(e){this.lightness=Math.min(1,Math.max(this.lightness-e,0))}),darkenByRatio:m(function(e){this.lightness=Math.min(1,Math.max(this.lightness*(1-e),0))}),lightenByAmount:m(function(e){this.lightness=Math.min(1,Math.max(this.lightness+e,0))}),lightenByRatio:m(function(e){this.lightness=Math.min(1,Math.max(this.lightness*(1+e),0))}),fromObject:function(e){if("string"==typeof e)return this._fromCSS(e);if(e.hasOwnProperty("hue")&&e.hasOwnProperty("saturation")&&e.hasOwnProperty("lightness"))return this._fromHSL(e)},_fromCSS:function(e){var t=v(e).match(o);if(!t||!!t[1]+!!t[5]===1)return null;var n=c.HSL();n.hue=(t[2]%360+360)%360;n.saturation=Math.max(0,Math.min(parseInt(t[3],10)/100,1));n.lightness=Math.max(0,Math.min(parseInt(t[4],10)/100,1));return n},_fromHSL:function(e){var t=c.HSL();t.hue=e.hue;t.saturation=e.saturation;t.lightness=e.lightness;return t},_normalise:function(){this.hue=(this.hue%360+360)%360;this.saturation=Math.min(Math.max(0,this.saturation),1);this.lightness=Math.min(Math.max(0,this.lightness))},toHSL:function(){return this.clone()},toHSV:function(){this._normalise();var e=c.HSV();e.hue=this.hue;var t=2*this.lightness,n=this.saturation*(t<=1?t:2-t);e.value=(t+n)/2;e.saturation=2*n/(t+n)||0;return e},toRGB:function(){return this.toHSV().toRGB()}});y.isValid=function(e){var t=y(e),n=0;for(key in t)t.hasOwnProperty(key)&&n++;return n>0};net.brehaut.Color=y}).call(net.brehaut);var module;module&&(module.exports.Color=net.brehaut.Color);(function(e){function r(e){if(e in t.style)return e;var n=["Moz","Webkit","O","ms"],r=e.charAt(0).toUpperCase()+e.substr(1);if(e in t.style)return e;for(var i=0;i<n.length;++i){var s=n[i]+r;if(s in t.style)return s}}function i(){t.style[n.transform]="";t.style[n.transform]="rotateY(90deg)";return t.style[n.transform]!==""}function f(e){typeof e=="string"&&this.parse(e);return this}function l(e,t,n){t===!0?e.queue(n):t?e.queue(t,n):n()}function c(t){var n=[];e.each(t,function(t){t=e.camelCase(t);t=e.transit.propertyMap[t]||e.cssProps[t]||t;t=d(t);e.inArray(t,n)===-1&&n.push(t)});return n}function h(t,n,r,i){var s=c(t);e.cssEase[r]&&(r=e.cssEase[r]);var o=""+m(n)+" "+r;parseInt(i,10)>0&&(o+=" "+m(i));var u=[];e.each(s,function(e,t){u.push(t+" "+o)});return u.join(", ")}function p(t,r){r||(e.cssNumber[t]=!0);e.transit.propertyMap[t]=n.transform;e.cssHooks[t]={get:function(n){var r=e(n).css("transit:transform");return r.get(t)},set:function(n,r){var i=e(n).css("transit:transform");i.setFromString(t,r);e(n).css({"transit:transform":i})}}}function d(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function v(e,t){return typeof e=="string"&&!e.match(/^[\-0-9\.]+$/)?e:""+e+t}function m(t){var n=t;e.fx.speeds[n]&&(n=e.fx.speeds[n]);return v(n,"ms")}e.transit={version:"0.9.9",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var t=document.createElement("div"),n={},s=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;n.transition=r("transition");n.transitionDelay=r("transitionDelay");n.transform=r("transform");n.transformOrigin=r("transformOrigin");n.transform3d=i();var o={transition:"transitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"},u=n.transitionEnd=o[n.transition]||null;for(var a in n)n.hasOwnProperty(a)&&typeof e.support[a]=="undefined"&&(e.support[a]=n[a]);t=null;e.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};e.cssHooks["transit:transform"]={get:function(t){return e(t).data("transform")||new f},set:function(t,r){var i=r;i instanceof f||(i=new f(i));n.transform==="WebkitTransform"&&!s?t.style[n.transform]=i.toString(!0):t.style[n.transform]=i.toString();e(t).data("transform",i)}};e.cssHooks.transform={set:e.cssHooks["transit:transform"].set};if(e.fn.jquery<"1.8"){e.cssHooks.transformOrigin={get:function(e){return e.style[n.transformOrigin]},set:function(e,t){e.style[n.transformOrigin]=t}};e.cssHooks.transition={get:function(e){return e.style[n.transition]},set:function(e,t){e.style[n.transition]=t}}}p("scale");p("translate");p("rotate");p("rotateX");p("rotateY");p("rotate3d");p("perspective");p("skewX");p("skewY");p("x",!0);p("y",!0);f.prototype={setFromString:function(e,t){var n=typeof t=="string"?t.split(","):t.constructor===Array?t:[t];n.unshift(e);f.prototype.set.apply(this,n)},set:function(e){var t=Array.prototype.slice.apply(arguments,[1]);this.setter[e]?this.setter[e].apply(this,t):this[e]=t.join(",")},get:function(e){return this.getter[e]?this.getter[e].apply(this):this[e]||0},setter:{rotate:function(e){this.rotate=v(e,"deg")},rotateX:function(e){this.rotateX=v(e,"deg")},rotateY:function(e){this.rotateY=v(e,"deg")},scale:function(e,t){t===undefined&&(t=e);this.scale=e+","+t},skewX:function(e){this.skewX=v(e,"deg")},skewY:function(e){this.skewY=v(e,"deg")},perspective:function(e){this.perspective=v(e,"px")},x:function(e){this.set("translate",e,null)},y:function(e){this.set("translate",null,e)},translate:function(e,t){this._translateX===undefined&&(this._translateX=0);this._translateY===undefined&&(this._translateY=0);e!==null&&e!==undefined&&(this._translateX=v(e,"px"));t!==null&&t!==undefined&&(this._translateY=v(t,"px"));this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var e=(this.scale||"1,1").split(",");e[0]&&(e[0]=parseFloat(e[0]));e[1]&&(e[1]=parseFloat(e[1]));return e[0]===e[1]?e[0]:e},rotate3d:function(){var e=(this.rotate3d||"0,0,0,0deg").split(",");for(var t=0;t<=3;++t)e[t]&&(e[t]=parseFloat(e[t]));e[3]&&(e[3]=v(e[3],"deg"));return e}},parse:function(e){var t=this;e.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(e,n,r){t.setFromString(n,r)})},toString:function(e){var t=[];for(var r in this)if(this.hasOwnProperty(r)){if(!n.transform3d&&(r==="rotateX"||r==="rotateY"||r==="perspective"||r==="transformOrigin"))continue;r[0]!=="_"&&(e&&r==="scale"?t.push(r+"3d("+this[r]+",1)"):e&&r==="translate"?t.push(r+"3d("+this[r]+",0)"):t.push(r+"("+this[r]+")"))}return t.join(" ")}};e.fn.transition=e.fn.transit=function(t,r,i,s){var o=this,a=0,f=!0;if(typeof r=="function"){s=r;r=undefined}if(typeof i=="function"){s=i;i=undefined}if(typeof t.easing!="undefined"){i=t.easing;delete t.easing}if(typeof t.duration!="undefined"){r=t.duration;delete t.duration}if(typeof t.complete!="undefined"){s=t.complete;delete t.complete}if(typeof t.queue!="undefined"){f=t.queue;delete t.queue}if(typeof t.delay!="undefined"){a=t.delay;delete t.delay}typeof r=="undefined"&&(r=e.fx.speeds._default);typeof i=="undefined"&&(i=e.cssEase._default);r=m(r);var c=h(t,r,i,a),p=e.transit.enabled&&n.transition,d=p?parseInt(r,10)+parseInt(a,10):0;if(d===0){var v=function(e){o.css(t);s&&s.apply(o);e&&e()};l(o,f,v);return o}var y={},b=function(r){var i=!1,a=function(){i&&o.unbind(u,a);d>0&&o.each(function(){this.style[n.transition]=y[this]||null});typeof s=="function"&&s.apply(o);typeof r=="function"&&r()};if(d>0&&u&&e.transit.useTransitionEnd){i=!0;o.bind(u,a)}else window.setTimeout(a,d);o.each(function(){d>0&&(this.style[n.transition]=c);e(this).css(t)})},w=function(e){this.offsetWidth;b(e)};l(o,f,w);return this};e.transit.getTransitionValue=h})(jQuery);(function(){var e=!1,t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){};Class.extend=function(n){function o(){!e&&this.init&&this.init.apply(this,arguments)}var r=this.prototype;e=!0;var i=new this;e=!1;for(var s in n)i[s]=typeof n[s]=="function"&&typeof r[s]=="function"&&t.test(n[s])?function(e,t){return function(){var n=this._super;this._super=r[e];var i=t.apply(this,arguments);this._super=n;return i}}(s,n[s]):n[s];o.prototype=i;o.prototype.constructor=o;o.extend=arguments.callee;return o}})();var libFuncName=null;if(typeof jQuery=="undefined"&&typeof Zepto=="undefined"&&typeof $=="function")libFuncName=$;else if(typeof jQuery=="function")libFuncName=jQuery;else{if(typeof Zepto!="function")throw new TypeError;libFuncName=Zepto}(function(e){(function(){Array.prototype.filter||(Array.prototype.filter=function(e){"use strict";if(this==null)throw new TypeError;var t=Object(this),n=t.length>>>0;if(typeof e!="function")try{throw new TypeError}catch(r){return}var i=[],s=arguments[1];for(var o=0;o<n;o++)if(o in t){var u=t[o];e&&e.call(s,u,o,t)&&i.push(u)}return i},Function.prototype.bind||(Function.prototype.bind=function(e){if(typeof this!="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i})),e.fn.stop=e.fn.stop||function(){return this}})(),function(t,n,r){"use strict";t.Foundation={name:"Foundation",version:"4.0.8",cache:{},init:function(e,t,n,r,i,s){var o,u=[e,n,r,i],a=[],s=s||!1;s&&(this.nc=s),this.scope=e||this.scope;if(t&&typeof t=="string"){if(/off/i.test(t))return this.off();o=t.split(" ");if(o.length>0)for(var f=o.length-1;f>=0;f--)a.push(this.init_lib(o[f],u))}else for(var l in this.libs)a.push(this.init_lib(l,u));return typeof t=="function"&&u.unshift(t),this.response_obj(a,u)},response_obj:function(e,t){for(var n in t)if(typeof t[n]=="function")return t[n]({errors:e.filter(function(e){if(typeof e=="string")return e})});return e},init_lib:function(e,t){return this.trap(function(){if(this.libs.hasOwnProperty(e))return this.patch(this.libs[e]),this.libs[e].init.apply(this.libs[e],t)}.bind(this),e)},trap:function(e,t){if(!this.nc)try{return e()}catch(n){return this.error({name:t,message:"could not be initialized",more:n.name+" "+n.message})}return e()},patch:function(e){this.fix_outer(e)},inherit:function(e,t){var n=t.split(" ");for(var r=n.length-1;r>=0;r--)this.lib_methods.hasOwnProperty(n[r])&&(this.libs[e.name][n[r]]=this.lib_methods[n[r]])},random_str:function(e){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split("");e||(e=Math.floor(Math.random()*t.length));var n="";for(var r=0;r<e;r++)n+=t[Math.floor(Math.random()*t.length)];return n},libs:{},lib_methods:{set_data:function(e,t){var n=[this.name,+(new Date),Foundation.random_str(5)].join("-");return Foundation.cache[n]=t,e.attr("data-"+this.name+"-id",n),t},get_data:function(e){return Foundation.cache[e.attr("data-"+this.name+"-id")]},remove_data:function(t){t?(delete Foundation.cache[t.attr("data-"+this.name+"-id")],t.attr("data-"+this.name+"-id","")):e("[data-"+this.name+"-id]").each(function(){delete Foundation.cache[e(this).attr("data-"+this.name+"-id")],e(this).attr("data-"+this.name+"-id","")})},throttle:function(e,t){var n=null;return function(){var r=this,i=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(r,i)},t)}},data_options:function(t){function n(e){return!isNaN(e-0)&&e!==null&&e!==""&&e!==!1&&e!==!0}function r(t){return typeof t=="string"?e.trim(t):t}var i={},s,o,u=(t.attr("data-options")||":").split(";"),a=u.length;for(s=a-1;s>=0;s--)o=u[s].split(":"),/true/i.test(o[1])&&(o[1]=!0),/false/i.test(o[1])&&(o[1]=!1),n(o[1])&&(o[1]=parseInt(o[1],10)),o.length===2&&o[0].length>0&&(i[r(o[0])]=r(o[1]));return i},delay:function(e,t){return setTimeout(e,t)},scrollTo:function(n,r,i){if(i<0)return;var s=r-e(t).scrollTop(),o=s/i*10;this.scrollToTimerCache=setTimeout(function(){isNaN(parseInt(o,10))||(t.scrollTo(0,e(t).scrollTop()+o),this.scrollTo(n,r,i-10))}.bind(this),10)},scrollLeft:function(e){if(!e.length)return;return"scrollLeft"in e[0]?e[0].scrollLeft:e[0].pageXOffset},empty:function(e){if(e.length&&e.length>0)return!1;if(e.length&&e.length===0)return!0;for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}},fix_outer:function(e){e.outerHeight=function(e,t){return typeof Zepto=="function"?e.height():typeof t!="undefined"?e.outerHeight(t):e.outerHeight()},e.outerWidth=function(e){return typeof Zepto=="function"?e.width():typeof bool!="undefined"?e.outerWidth(bool):e.outerWidth()}},error:function(e){return e.name+" "+e.message+"; "+e.more},off:function(){return e(this.scope).off(".fndtn"),e(t).off(".fndtn"),!0},zj:function(){try{return Zepto}catch(e){return jQuery}}()},e.fn.foundation=function(){var e=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(e)),this})}}(this,this.document)})(libFuncName),function(e,t,n,r){"use strict";Foundation.libs.dropdown={name:"dropdown",version:"4.0.9",settings:{activeClass:"open"},init:function(t,n,r){return this.scope=t||this.scope,Foundation.inherit(this,"throttle"),typeof n=="object"&&e.extend(!0,this.settings,n),typeof n!="string"?(this.settings.init||this.events(),this.settings.init):this[n].call(this,r)},events:function(){var n=this;e(this.scope).on("click.fndtn.dropdown","[data-dropdown]",function(t){t.preventDefault(),t.stopPropagation(),n.toggle(e(this))}),e("*, html, body").on("click.fndtn.dropdown",function(t){e(t.target).data("dropdown")||e("[data-dropdown-content]").css("left","-99999px").removeClass(n.settings.activeClass)}),e(t).on("resize.fndtn.dropdown",n.throttle(function(){n.resize.call(n)},50)).trigger("resize"),this.settings.init=!0},toggle:function(t,n){var r=e("#"+t.data("dropdown"));e("[data-dropdown-content]").not(r).css("left","-99999px").removeClass(this.settings.activeClass),r.hasClass(this.settings.activeClass)?r.css("left","-99999px").removeClass(this.settings.activeClass):this.css(r.addClass(this.settings.activeClass),t)},resize:function(){var t=e("[data-dropdown-content].open"),n=e("[data-dropdown='"+t.attr("id")+"']");t.length&&n.length&&this.css(t,n)},css:function(n,r){if(n.parent()[0]===e("body")[0])var i=r.offset();else var i=r.position();if(this.small())n.css({position:"absolute",width:"95%",left:"2.5%","max-width":"none",top:i.top+this.outerHeight(r)});else{if(e(t).width()>this.outerWidth(n)+r.offset().left)var s=i.left;else{n.hasClass("right")||n.addClass("right");var s=i.left-(this.outerWidth(n)-this.outerWidth(r))}n.attr("style","").css({position:"absolute",top:i.top+this.outerHeight(r),left:s})}return n},small:function(){return e(t).width()<768||e("html").hasClass("lt-ie9")},off:function(){e(this.scope).off(".fndtn.dropdown"),e("html, body").off(".fndtn.dropdown"),e(t).off(".fndtn.dropdown"),e("[data-dropdown-content]").off(".fndtn.dropdown"),this.settings.init=!1}}}(Foundation.zj,this,this.document),function(e,t,n){function r(e){var t={},r=/^jQuery\d+$/;return n.each(e.attributes,function(e,n){n.specified&&!r.test(n.name)&&(t[n.name]=n.value)}),t}function i(e,r){var i=this,s=n(i);if(i.value==s.attr("placeholder")&&s.hasClass("placeholder"))if(s.data("placeholder-password")){s=s.hide().next().show().attr("id",s.removeAttr("id").data("placeholder-id"));if(e===!0)return s[0].value=r;s.focus()}else i.value="",s.removeClass("placeholder"),i==t.activeElement&&i.select()}function s(){var e,t=this,s=n(t),o=s,u=this.id;if(t.value==""){if(t.type=="password"){if(!s.data("placeholder-textinput")){try{e=s.clone().attr({type:"text"})}catch(a){e=n("<input>").attr(n.extend(r(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":!0,"placeholder-id":u}).bind("focus.placeholder",i),s.data({"placeholder-textinput":e,"placeholder-id":u}).before(e)}s=s.removeAttr("id").hide().prev().attr("id",u).show()}s.addClass("placeholder"),s[0].value=s.attr("placeholder")}else s.removeClass("placeholder")}var o="placeholder"in t.createElement("input"),u="placeholder"in t.createElement("textarea"),a=n.fn,f=n.valHooks,l,c;o&&u?(c=a.placeholder=function(){return this},c.input=c.textarea=!0):(c=a.placeholder=function(){var e=this;return e.filter((o?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":i,"blur.placeholder":s}).data("placeholder-enabled",!0).trigger("blur.placeholder"),e},c.input=o,c.textarea=u,l={get:function(e){var t=n(e);return t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,r){var o=n(e);return o.data("placeholder-enabled")?(r==""?(e.value=r,e!=t.activeElement&&s.call(e)):o.hasClass("placeholder")?i.call(e,!0,r)||(e.value=r):e.value=r,o):e.value=r}},o||(f.input=l),u||(f.textarea=l),n(function(){n(t).delegate("form","submit.placeholder",function(){var e=n(".placeholder",this).each(i);setTimeout(function(){e.each(s)},10)})}),n(e).bind("beforeunload.placeholder",function(){n(".placeholder").each(function(){this.value=""})}))}(this,document,Foundation.zj),function(e,t,n,r){"use strict";Foundation.libs.forms={name:"forms",version:"4.0.4",settings:{disable_class:"no-custom"},init:function(t,n,r){return this.scope=t||this.scope,typeof n=="object"&&e.extend(!0,this.settings,n),typeof n!="string"?(this.settings.init||this.events(),this.assemble(),this.settings.init):this[n].call(this,r)},assemble:function(){e('form.custom input[type="radio"]',e(this.scope)).not('[data-customforms="disabled"]').each(this.append_custom_markup),e('form.custom input[type="checkbox"]',e(this.scope)).not('[data-customforms="disabled"]').each(this.append_custom_markup),e("form.custom select",e(this.scope)).not('[data-customforms="disabled"]').each(this.append_custom_select)},events:function(){var t=this;e(this.scope).on("change.fndtn.forms",'form.custom select:not([data-customforms="disabled"])',function(n){t.refresh_custom_select(e(this))}).on("click.fndtn.forms","form.custom label",function(n){var r=e("#"+t.escape(e(this).attr("for"))+':not([data-customforms="disabled"])'),i,s;r.length!==0&&(r.attr("type")==="checkbox"?(n.preventDefault(),i=e(this).find("span.custom.checkbox"),i.length==0&&(i=e(this).next("span.custom.checkbox")),i.length==0&&(i=e(this).prev("span.custom.checkbox")),t.toggle_checkbox(i)):r.attr("type")==="radio"&&(n.preventDefault(),s=e(this).find("span.custom.radio"),s.length==0&&(s=e(this).next("span.custom.radio")),s.length==0&&(s=e(this).prev("span.custom.radio")),t.toggle_radio(s)))}).on("click.fndtn.forms","form.custom div.custom.dropdown a.current, form.custom div.custom.dropdown a.selector",function(n){var r=e(this),i=r.closest("div.custom.dropdown"),s=i.prev();i.hasClass("open")||e(t.scope).trigger("click"),n.preventDefault();if(!1===s.is(":disabled"))return i.toggleClass("open"),i.hasClass("open")?e(t.scope).on("click.fndtn.forms.customdropdown",function(){i.removeClass("open"),e(t.scope).off(".fndtn.forms.customdropdown")}):e(t.scope).on(".fndtn.forms.customdropdown"),!1}).on("click.fndtn.forms touchend.fndtn.forms","form.custom div.custom.dropdown li",function(t){var n=e(this),r=n.closest("div.custom.dropdown"),i=r.prev(),s=0;t.preventDefault(),t.stopPropagation();if(!e(this).hasClass("disabled")){e("div.dropdown").not(r).removeClass("open");var o=n.closest("ul").find("li.selected");o.removeClass("selected"),n.addClass("selected"),r.removeClass("open").find("a.current").html(n.html()),n.closest("ul").find("li").each(function(e){n[0]==this&&(s=e)}),i[0].selectedIndex=s,i.data("prevalue",o.html()),i.trigger("change")}}),this.settings.init=!0},append_custom_markup:function(t,n){var r=e(n).hide(),i=r.attr("type"),s=r.next("span.custom."+i);s.length===0&&(s=e('<span class="custom '+i+'"></span>').insertAfter(r)),s.toggleClass("checked",r.is(":checked")),s.toggleClass("disabled",r.is(":disabled"))},append_custom_select:function(t,n){var r=Foundation.libs.forms,i=e(n),s=i.next("div.custom.dropdown"),o=s.find("ul"),u=s.find(".current"),a=s.find(".selector"),f=i.find("option"),l=f.filter(":selected"),c=i.attr("class")?i.attr("class").split(" "):[],h=0,p="",d,v=!1;if(i.hasClass(r.settings.disable_class))return;if(s.length===0){var m=i.hasClass("small")?"small":i.hasClass("medium")?"medium":i.hasClass("large")?"large":i.hasClass("expand")?"expand":"";s=e('<div class="'+["custom","dropdown",m].concat(c).filter(function(e,t,n){return e==""?!1:n.indexOf(e)==t}).join(" ")+'"><a href="#" class="selector"></a><ul /></div>'),a=s.find(".selector"),o=s.find("ul"),p=f.map(function(){return"<li>"+e(this).html()+"</li>"}).get().join(""),o.append(p),v=s.prepend('<a href="#" class="current">'+l.html()+"</a>").find(".current"),i.after(s).hide()}else p=f.map(function(){return"<li>"+e(this).html()+"</li>"}).get().join(""),o.html("").append(p);s.toggleClass("disabled",i.is(":disabled")),d=o.find("li"),f.each(function(t){this.selected&&(d.eq(t).addClass("selected"),v&&v.html(e(this).html())),e(this).is(":disabled")&&d.eq(t).addClass("disabled")});if(!s.is(".small, .medium, .large, .expand")){s.addClass("open");var r=Foundation.libs.forms;r.hidden_fix.adjust(o),h=r.outerWidth(d)>h?r.outerWidth(d):h,Foundation.libs.forms.hidden_fix.reset(),s.removeClass("open")}},refresh_custom_select:function(t){var n=this,r=0,i=t.next(),s=t.find("option");i.find("ul").html(""),s.each(function(){var t=e("<li>"+e(this).html()+"</li>");i.find("ul").append(t)}),s.each(function(t){this.selected&&(i.find("li").eq(t).addClass("selected"),i.find(".current").html(e(this).html())),e(this).is(":disabled")&&i.find("li").eq(t).addClass("disabled")}),i.removeAttr("style").find("ul").removeAttr("style"),i.find("li").each(function(){i.addClass("open"),n.outerWidth(e(this))>r&&(r=n.outerWidth(e(this))),i.removeClass("open")})},toggle_checkbox:function(e){var t=e.prev(),n=t[0];!1===t.is(":disabled")&&(n.checked=n.checked?!1:!0,e.toggleClass("checked"),t.trigger("change"))},toggle_radio:function(e){var t=e.prev(),n=t.closest("form.custom"),r=t[0];!1===t.is(":disabled")&&(n.find('input[type="radio"][name="'+this.escape(t.attr("name"))+'"]').next().not(e).removeClass("checked"),e.hasClass("checked")||e.toggleClass("checked"),r.checked=e.hasClass("checked"),t.trigger("change"))},escape:function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},hidden_fix:{tmp:[],hidden:null,adjust:function(t){var n=this;n.hidden=t.parents().andSelf().filter(":hidden"),n.hidden.each(function(){var t=e(this);n.tmp.push(t.attr("style")),t.css({visibility:"hidden",display:"block"})})},reset:function(){var t=this;t.hidden.each(function(n){var i=e(this),s=t.tmp[n];s===r?i.removeAttr("style"):i.attr("style",s)}),t.tmp=[],t.hidden=null}},off:function(){e(this.scope).off(".fndtn.forms")}}}(Foundation.zj,this,this.document),function(e,t,n,r){"use strict";Foundation.libs.alerts={name:"alerts",version:"4.0.0",settings:{speed:300,callback:function(){}},init:function(t,n,r){return this.scope=t||this.scope,typeof n=="object"&&e.extend(!0,this.settings,n),typeof n!="string"?(this.settings.init||this.events(),this.settings.init):this[n].call(this,r)},events:function(){var t=this;e(this.scope).on("click.fndtn.alerts","[data-alert] a.close",function(n){n.preventDefault(),e(this).closest("[data-alert]").fadeOut(t.speed,function(){e(this).remove(),t.settings.callback()})}),this.settings.init=!0},off:function(){e(this.scope).off(".fndtn.alerts")}}}(Foundation.zj,this,this.document),function(e,t,n,r){"use strict";Foundation.libs.magellan={name:"magellan",version:"4.0.0",settings:{activeClass:"active"},init:function(t,n,r){return this.scope=t||this.scope,Foundation.inherit(this,"data_options"),typeof n=="object"&&e.extend(!0,this.settings,n),typeof n!="string"?(this.settings.init||(this.fixed_magellan=e("[data-magellan-expedition]"),this.set_threshold(),this.last_destination=e("[data-magellan-destination]").last(),this.events()),this.settings.init):this[n].call(this,r)},events:function(){var n=this;e(this.scope).on("arrival.fndtn.magellan","[data-magellan-arrival]",function(t){var r=e(this),i=r.closest("[data-magellan-expedition]"),s=i.attr("data-magellan-active-class")||n.settings.activeClass;r.closest("[data-magellan-expedition]").find("[data-magellan-arrival]").not(r).removeClass(s),r.addClass(s)}),this.fixed_magellan.on("update-position.fndtn.magellan",function(){var t=e(this)}).trigger("update-position"),e(t).on("resize.fndtn.magellan",function(){this.fixed_magellan.trigger("update-position")}.bind(this)).on("scroll.fndtn.magellan",function(){var r=e(t).scrollTop();n.fixed_magellan.each(function(){var t=e(this);typeof t.data("magellan-top-offset")=="undefined"&&t.data("magellan-top-offset",t.offset().top),typeof t.data("magellan-fixed-position")=="undefined"&&t.data("magellan-fixed-position",!1);var i=r+n.settings.threshold>t.data("magellan-top-offset"),s=t.attr("data-magellan-top-offset");t.data("magellan-fixed-position")!=i&&(t.data("magellan-fixed-position",i),i?t.css({position:"fixed",top:0}):t.css({position:"",top:""}),i&&typeof s!="undefined"&&s!=0&&t.css({position:"fixed",top:s+"px"}))})}),this.last_destination.length>0&&e(t).on("scroll.fndtn.magellan",function(r){var i=e(t).scrollTop(),s=i+e(t).height(),o=Math.ceil(n.last_destination.offset().top);e("[data-magellan-destination]").each(function(){var t=e(this),r=t.attr("data-magellan-destination"),u=t.offset().top-i;u<=n.settings.threshold&&e("[data-magellan-arrival='"+r+"']").trigger("arrival"),s>=e(n.scope).height()&&o>i&&o<s&&e("[data-magellan-arrival]").last().trigger("arrival")})}),this.settings.init=!0},set_threshold:function(){this.settings.threshold||(this.settings.threshold=this.fixed_magellan.length>0?this.outerHeight(this.fixed_magellan,!0):0)},off:function(){e(this.scope).off(".fndtn.magellan")}}}(Foundation.zj,this,this.document),function(e,t,n,r){"use strict";Foundation.libs.reveal={name:"reveal",version:"4.0.9",locked:!1,settings:{animation:"fadeAndPop",animationSpeed:250,closeOnBackgroundClick:!0,dismissModalClass:"close-reveal-modal",bgClass:"reveal-modal-bg",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:e(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(t,n,r){return this.scope=t||this.scope,Foundation.inherit(this,"data_options delay"),typeof n=="object"&&e.extend(!0,this.settings,n),typeof n!="string"?(this.events(),this.settings.init):this[n].call(this,r)},events:function(){var t=this;return e(this.scope).off(".fndtn.reveal").on("click.fndtn.reveal","[data-reveal-id]",function(n){n.preventDefault(),t.locked||(t.locked=!0,t.open.call(t,e(this)))}).on("click.fndtn.reveal touchend.click.fndtn.reveal",this.close_targets(),function(n){n.preventDefault(),t.locked||(t.locked=!0,t.close.call(t,e(this).closest(".reveal-modal")))}).on("open.fndtn.reveal",".reveal-modal",this.settings.open).on("opened.fndtn.reveal",".reveal-modal",this.settings.opened).on("opened.fndtn.reveal",".reveal-modal",this.open_video).on("close.fndtn.reveal",".reveal-modal",this.settings.close).on("closed.fndtn.reveal",".reveal-modal",this.settings.closed).on("closed.fndtn.reveal",".reveal-modal",this.close_video),!0},open:function(t){if(t)var n=e("#"+t.data("reveal-id"));else var n=e(this.scope);if(!n.hasClass("open")){var r=e(".reveal-modal.open");typeof n.data("css-top")=="undefined"&&n.data("css-top",parseInt(n.css("top"),10)).data("offset",this.cache_offset(n)),n.trigger("open"),r.length<1&&this.toggle_bg(n),this.hide(r,this.settings.css.open),this.show(n,this.settings.css.open)}},close:function(t){var t=t||e(this.scope),n=e(".reveal-modal.open");n.length>0&&(this.locked=!0,t.trigger("close"),this.toggle_bg(t),this.hide(n,this.settings.css.close))},close_targets:function(){var e="."+this.settings.dismissModalClass;return this.settings.closeOnBackgroundClick?e+", ."+this.settings.bgClass:e},toggle_bg:function(t){e(".reveal-modal-bg").length===0&&(this.settings.bg=e("<div />",{"class":this.settings.bgClass}).insertAfter(t)),this.settings.bg.filter(":visible").length>0?this.hide(this.settings.bg):this.show(this.settings.bg)},show:function(n,r){if(r){if(/pop/i.test(this.settings.animation)){r.top=e(t).scrollTop()-n.data("offset")+"px";var i={top:e(t).scrollTop()+n.data("css-top")+"px",opacity:1};return this.delay(function(){return n.css(r).animate(i,this.settings.animationSpeed,"linear",function(){this.locked=!1,n.trigger("opened")}.bind(this)).addClass("open")}.bind(this),this.settings.animationSpeed/2)}if(/fade/i.test(this.settings.animation)){var i={opacity:1};return this.delay(function(){return n.css(r).animate(i,this.settings.animationSpeed,"linear",function(){this.locked=!1,n.trigger("opened")}.bind(this)).addClass("open")}.bind(this),this.settings.animationSpeed/2)}return n.css(r).show().css({opacity:1}).addClass("open").trigger("opened")}return/fade/i.test(this.settings.animation)?n.fadeIn(this.settings.animationSpeed/2):n.show()},hide:function(n,r){if(r){if(/pop/i.test(this.settings.animation)){var i={top:-e(t).scrollTop()-n.data("offset")+"px",opacity:0};return this.delay(function(){return n.animate(i,this.settings.animationSpeed,"linear",function(){this.locked=!1,n.css(r).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),this.settings.animationSpeed/2)}if(/fade/i.test(this.settings.animation)){var i={opacity:0};return this.delay(function(){return n.animate(i,this.settings.animationSpeed,"linear",function(){this.locked=!1,n.css(r).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),this.settings.animationSpeed/2)}return n.hide().css(r).removeClass("open").trigger("closed")}return/fade/i.test(this.settings.animation)?n.fadeOut(this.settings.animationSpeed/2):n.hide()},close_video:function(t){var n=e(this).find(".flex-video"),r=n.find("iframe");r.length>0&&(r.attr("data-src",r[0].src),r.attr("src","about:blank"),n.fadeOut(100).hide())},open_video:function(t){var n=e(this).find(".flex-video"),r=n.find("iframe");if(r.length>0){var i=r.attr("data-src");typeof i=="string"&&(r[0].src=r.attr("data-src")),n.show().fadeIn(100)}},cache_offset:function(e){var t=e.show().height()+parseInt(e.css("top"),10);return e.hide(),t},off:function(){e(this.scope).off(".fndtn.reveal")}}}(Foundation.zj,this,this.document),function(e,t,n,r){"use strict";Foundation.libs.tooltips={name:"tooltips",version:"4.0.2",settings:{selector:".has-tip",additionalInheritableClasses:[],tooltipClass:".tooltip",tipTemplate:function(e,t){return'<span data-selector="'+e+'" class="'+Foundation.libs.tooltips.settings.tooltipClass.substring(1)+'">'+t+'<span class="nub"></span></span>'}},cache:{},init:function(t,n,r){var i=this;this.scope=t||this.scope,typeof n=="object"&&e.extend(!0,this.settings,n);if(typeof n=="string")return this[n].call(this,r);Modernizr.touch?e(this.scope).on("click.fndtn.tooltip touchstart.fndtn.tooltip touchend.fndtn.tooltip","[data-tooltip]",function(t){t.preventDefault(),e(i.settings.tooltipClass).hide(),i.showOrCreateTip(e(this))}).on("click.fndtn.tooltip touchstart.fndtn.tooltip touchend.fndtn.tooltip",this.settings.tooltipClass,function(t){t.preventDefault(),e(this).fadeOut(150)}):e(this.scope).on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip","[data-tooltip]",function(t){var n=e(this);t.type==="mouseover"||t.type==="mouseenter"?i.showOrCreateTip(n):(t.type==="mouseout"||t.type==="mouseleave")&&i.hide(n)})},showOrCreateTip:function(e){var t=this.getTip(
e);return t&&t.length>0?this.show(e):this.create(e)},getTip:function(t){var n=this.selector(t),r=null;return n&&(r=e("span[data-selector="+n+"]"+this.settings.tooltipClass)),typeof r=="object"?r:!1},selector:function(e){var t=e.attr("id"),n=e.attr("data-tooltip")||e.attr("data-selector");return(t&&t.length<1||!t)&&typeof n!="string"&&(n="tooltip"+Math.random().toString(36).substring(7),e.attr("data-selector",n)),t&&t.length>0?t:n},create:function(t){var n=e(this.settings.tipTemplate(this.selector(t),e("<div>").html(t.attr("title")).html())),r=this.inheritable_classes(t);n.addClass(r).appendTo("body"),Modernizr.touch&&n.append('<span class="tap-to-close">tap to close </span>'),t.removeAttr("title").attr("title",""),this.show(t)},reposition:function(n,r,i){var s,o,u,a,f,l;r.css("visibility","hidden").show(),s=n.data("width"),o=r.children(".nub"),u=this.outerHeight(o),a=this.outerHeight(o),l=function(e,t,n,r,i,s){return e.css({top:t?t:"auto",bottom:r?r:"auto",left:i?i:"auto",right:n?n:"auto",width:s?s:"auto"}).end()},l(r,n.offset().top+this.outerHeight(n)+10,"auto","auto",n.offset().left,s),e(t).width()<767?(l(r,n.offset().top+this.outerHeight(n)+10,"auto","auto",12.5,e(this.scope).width()),r.addClass("tip-override"),l(o,-u,"auto","auto",n.offset().left)):(l(r,n.offset().top+this.outerHeight(n)+10,"auto","auto",n.offset().left,s),r.removeClass("tip-override"),i&&i.indexOf("tip-top")>-1?l(r,n.offset().top-this.outerHeight(r),"auto","auto",n.offset().left,s).removeClass("tip-override"):i&&i.indexOf("tip-left")>-1?l(r,n.offset().top+this.outerHeight(n)/2-u*2.5,"auto","auto",n.offset().left-this.outerWidth(r)-u,s).removeClass("tip-override"):i&&i.indexOf("tip-right")>-1&&l(r,n.offset().top+this.outerHeight(n)/2-u*2.5,"auto","auto",n.offset().left+this.outerWidth(n)+u,s).removeClass("tip-override")),r.css("visibility","visible").hide()},inheritable_classes:function(t){var n=["tip-top","tip-left","tip-bottom","tip-right","noradius"].concat(this.settings.additionalInheritableClasses),r=t.attr("class"),i=r?e.map(r.split(" "),function(t,r){if(e.inArray(t,n)!==-1)return t}).join(" "):"";return e.trim(i)},show:function(e){var t=this.getTip(e);this.reposition(e,t,e.attr("class")),t.fadeIn(150)},hide:function(e){var t=this.getTip(e);t.fadeOut(150)},reload:function(){var t=e(this);return t.data("fndtn-tooltips")?t.foundationTooltips("destroy").foundationTooltips("init"):t.foundationTooltips("init")},off:function(){e(this.scope).off(".fndtn.tooltip"),e(this.settings.tooltipClass).each(function(t){e("[data-tooltip]").get(t).attr("title",e(this).text())}).remove()}}}(Foundation.zj,this,this.document),function(e,t,n,r){"use strict";Foundation.libs.clearing={name:"clearing",version:"4.0.0",settings:{templates:{viewing:'<a href="#" class="clearing-close">&times;</a><div class="visible-img" style="display: none"><img src="//:0"><p class="clearing-caption"></p><a href="#" class="clearing-main-left"><span></span></a><a href="#" class="clearing-main-right"><span></span></a></div>'},close_selectors:".clearing-close",init:!1,locked:!1},init:function(t,n,r){return this.scope=this.scope||t,Foundation.inherit(this,"set_data get_data remove_data throttle"),typeof n=="object"&&(r=e.extend(!0,this.settings,n)),typeof n!="string"?(e(this.scope).find("ul[data-clearing]").each(function(){var t=Foundation.libs.clearing,n=e(this),r=r||{},i=t.get_data(n);i||(r.$parent=n.parent(),t.set_data(n,e.extend(!0,t.settings,r)),t.assemble(n.find("li")),t.settings.init||t.events().swipe_events())}),this.settings.init):this[n].call(this,r)},events:function(){var n=this;return e(this.scope).on("click.fndtn.clearing","ul[data-clearing] li",function(t,r,i){var r=r||e(this),i=i||r,s=n.get_data(r.parent());t.preventDefault(),s||n.init(),n.open(e(t.target),r,i),n.update_paddles(i)}).on("click.fndtn.clearing",".clearing-main-right",function(e){this.nav(e,"next")}.bind(this)).on("click.fndtn.clearing",".clearing-main-left",function(e){this.nav(e,"prev")}.bind(this)).on("click.fndtn.clearing",this.settings.close_selectors,function(e){Foundation.libs.clearing.close(e,this)}).on("keydown.fndtn.clearing",function(e){this.keydown(e)}.bind(this)),e(t).on("resize.fndtn.clearing",function(e){this.resize()}.bind(this)),this.settings.init=!0,this},swipe_events:function(){var t=this;e(this.scope).on("touchstart.fndtn.clearing",".visible-img",function(t){t.touches||(t=t.originalEvent);var n={start_page_x:t.touches[0].pageX,start_page_y:t.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:r};e(this).data("swipe-transition",n),t.stopPropagation()}).on("touchmove.fndtn.clearing",".visible-img",function(n){n.touches||(n=n.originalEvent);if(n.touches.length>1||n.scale&&n.scale!==1)return;var r=e(this).data("swipe-transition");typeof r=="undefined"&&(r={}),r.delta_x=n.touches[0].pageX-r.start_page_x,typeof r.is_scrolling=="undefined"&&(r.is_scrolling=!!(r.is_scrolling||Math.abs(r.delta_x)<Math.abs(n.touches[0].pageY-r.start_page_y)));if(!r.is_scrolling&&!r.active){n.preventDefault();var i=r.delta_x<0?"next":"prev";r.active=!0,t.nav(n,i)}}).on("touchend.fndtn.clearing",".visible-img",function(t){e(this).data("swipe-transition",{}),t.stopPropagation()})},assemble:function(e){var t=e.parent(),n=this.get_data(t),r=t.detach(),i={grid:'<div class="carousel">'+this.outerHTML(r[0])+"</div>",viewing:n.templates.viewing},s='<div class="clearing-assembled"><div>'+i.viewing+i.grid+"</div></div>";return n.$parent.append(s)},open:function(e,t,n){var r=n.closest(".clearing-assembled"),i=r.find("div").first(),s=i.find(".visible-img"),o=s.find("img").not(e);this.locked()||(o.attr("src",this.load(e)),this.loaded(o,function(){r.addClass("clearing-blackout"),i.addClass("clearing-container"),s.show(),this.fix_height(n).caption(s.find(".clearing-caption"),e).center(o).shift(t,n,function(){n.siblings().removeClass("visible"),n.addClass("visible")})}.bind(this)))},close:function(t,n){t.preventDefault();var r=function(e){return/blackout/.test(e.selector)?e:e.closest(".clearing-blackout")}(e(n)),i,s;return n===t.target&&r&&(i=r.find("div").first(),s=i.find(".visible-img"),this.settings.prev_index=0,r.find("ul[data-clearing]").attr("style","").closest(".clearing-blackout").removeClass("clearing-blackout"),i.removeClass("clearing-container"),s.hide()),!1},keydown:function(t){var n=e(".clearing-blackout").find("ul[data-clearing]");t.which===39&&this.go(n,"next"),t.which===37&&this.go(n,"prev"),t.which===27&&e("a.clearing-close").trigger("click")},nav:function(t,n){var r=e(".clearing-blackout").find("ul[data-clearing]");t.preventDefault(),this.go(r,n)},resize:function(){var t=e(".clearing-blackout .visible-img").find("img");t.length&&this.center(t)},fix_height:function(t){var n=t.parent().children(),r=this;return n.each(function(){var t=e(this),n=t.find("img");t.height()>r.outerHeight(n)&&t.addClass("fix-height")}).closest("ul").width(n.length*100+"%"),this},update_paddles:function(e){var t=e.closest(".carousel").siblings(".visible-img");e.next().length?t.find(".clearing-main-right").removeClass("disabled"):t.find(".clearing-main-right").addClass("disabled"),e.prev().length?t.find(".clearing-main-left").removeClass("disabled"):t.find(".clearing-main-left").addClass("disabled")},center:function(e){return e.css({marginLeft:-(this.outerWidth(e)/2),marginTop:-(this.outerHeight(e)/2)}),this},load:function(e){var t=e.parent().attr("href");return this.preload(e),t?t:e.attr("src")},preload:function(e){this.img(e.closest("li").next()).img(e.closest("li").prev())},loaded:function(e,t){function n(){t()}function r(){this.one("load",n);if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var e=this.attr("src"),t=e.match(/\?/)?"&":"?";t+="random="+(new Date).getTime(),this.attr("src",e+t)}}if(!e.attr("src")){n();return}this.complete||this.readyState===4?n():r.call(e)},img:function(e){if(e.length){var t=new Image,n=e.find("a");n.length?t.src=n.attr("href"):t.src=e.find("img").attr("src")}return this},caption:function(e,t){var n=t.data("caption");return n?e.text(n).show():e.text("").hide(),this},go:function(e,t){var n=e.find(".visible"),r=n[t]();r.length&&r.find("img").trigger("click",[n,r])},shift:function(e,t,n){var r=t.parent(),i=this.settings.prev_index||t.index(),s=this.direction(r,e,t),o=parseInt(r.css("left"),10),u=this.outerWidth(t),a;t.index()!==i&&!/skip/.test(s)?/left/.test(s)?(this.lock(),r.animate({left:o+u},300,this.unlock())):/right/.test(s)&&(this.lock(),r.animate({left:o-u},300,this.unlock())):/skip/.test(s)&&(a=t.index()-this.settings.up_count,this.lock(),a>0?r.animate({left:-(a*u)},300,this.unlock()):r.animate({left:0},300,this.unlock())),n()},direction:function(t,n,r){var i=t.find("li"),s=this.outerWidth(i)+this.outerWidth(i)/4,o=Math.floor(this.outerWidth(e(".clearing-container"))/s)-1,u=i.index(r),a;return this.settings.up_count=o,this.adjacent(this.settings.prev_index,u)?u>o&&u>this.settings.prev_index?a="right":u>o-1&&u<=this.settings.prev_index?a="left":a=!1:a="skip",this.settings.prev_index=u,a},adjacent:function(e,t){for(var n=t+1;n>=t-1;n--)if(n===e)return!0;return!1},lock:function(){this.settings.locked=!0},unlock:function(){this.settings.locked=!1},locked:function(){return this.settings.locked},outerHTML:function(e){return e.outerHTML||(new XMLSerializer).serializeToString(e)},off:function(){e(this.scope).off(".fndtn.clearing"),e(t).off(".fndtn.clearing"),this.remove_data(),this.settings.init=!1}}}(Foundation.zj,this,this.document),function(e,t,n){function r(e){return e}function i(e){return decodeURIComponent(e.replace(s," "))}var s=/\+/g,o=e.cookie=function(s,u,a){if(u!==n){a=e.extend({},o.defaults,a),u===null&&(a.expires=-1);if(typeof a.expires=="number"){var f=a.expires,l=a.expires=new Date;l.setDate(l.getDate()+f)}return u=o.json?JSON.stringify(u):String(u),t.cookie=[encodeURIComponent(s),"=",o.raw?u:encodeURIComponent(u),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}var c=o.raw?r:i,h=t.cookie.split("; ");for(var p=0,d=h.length;p<d;p++){var v=h[p].split("=");if(c(v.shift())===s){var m=c(v.join("="));return o.json?JSON.parse(m):m}}return null};o.defaults={},e.removeCookie=function(t,n){return e.cookie(t)!==null?(e.cookie(t,null,n),!0):!1}}(Foundation.zj,document),function(e,t,n,r){"use strict";Foundation.libs.joyride={name:"joyride",version:"4.0.0",defaults:{tipLocation:"bottom",nubPosition:"auto",scrollSpeed:300,timer:0,startTimerOnClick:!0,startOffset:0,nextButton:!0,tipAnimation:"fade",pauseAfter:[],tipAnimationFadeSpeed:300,cookieMonster:!1,cookieName:"joyride",cookieDomain:!1,cookieExpires:365,tipContainer:"body",postRideCallback:function(){},postStepCallback:function(){},template:{link:'<a href="#close" class="joyride-close-tip">&times;</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper"></div>',button:'<a href="#" class="small button joyride-next-tip"></a>'}},settings:{},init:function(t,n,r){return this.scope=t||this.scope,Foundation.inherit(this,"throttle data_options scrollTo scrollLeft delay"),typeof n=="object"?e.extend(!0,this.settings,this.defaults,n):e.extend(!0,this.settings,this.defaults,r),typeof n!="string"?(this.settings.init||this.events(),this.settings.init):this[n].call(this,r)},events:function(){var n=this;e(this.scope).on("click.joyride",".joyride-next-tip, .joyride-modal-bg",function(e){e.preventDefault(),this.settings.$li.next().length<1?this.end():this.settings.timer>0?(clearTimeout(this.settings.automate),this.hide(),this.show(),this.startTimer()):(this.hide(),this.show())}.bind(this)).on("click.joyride",".joyride-close-tip",function(e){e.preventDefault(),this.end()}.bind(this)),e(t).on("resize.fndtn.joyride",n.throttle(function(){e("[data-joyride]").length>0&&n.settings.$next_tip&&(n.is_phone()?n.pos_phone():n.pos_default())},100)),this.settings.init=!0},start:function(){var t=this,n=e(this.scope).find("[data-joyride]"),r=["timer","scrollSpeed","startOffset","tipAnimationFadeSpeed","cookieExpires"],i=r.length;this.settings.init||this.init(),this.settings.$content_el=n,this.settings.body_offset=e(this.settings.tipContainer).position(),this.settings.$tip_content=this.settings.$content_el.find("> li"),this.settings.paused=!1,this.settings.attempts=0,this.settings.tipLocationPatterns={top:["bottom"],bottom:[],left:["right","top","bottom"],right:["left","top","bottom"]},typeof e.cookie!="function"&&(this.settings.cookieMonster=!1);if(!this.settings.cookieMonster||this.settings.cookieMonster&&e.cookie(this.settings.cookieName)===null)this.settings.$tip_content.each(function(n){var s=e(this);e.extend(!0,t.settings,t.data_options(s));for(var o=i-1;o>=0;o--)t.settings[r[o]]=parseInt(t.settings[r[o]],10);t.create({$li:s,index:n})}),!this.settings.startTimerOnClick&&this.settings.timer>0?(this.show("init"),this.startTimer()):this.show("init")},resume:function(){this.set_li(),this.show()},tip_template:function(t){var n,r;return t.tip_class=t.tip_class||"",n=e(this.settings.template.tip).addClass(t.tip_class),r=e.trim(e(t.li).html())+this.button_text(t.button_text)+this.settings.template.link+this.timer_instance(t.index),n.append(e(this.settings.template.wrapper)),n.first().attr("data-index",t.index),e(".joyride-content-wrapper",n).append(r),n[0]},timer_instance:function(t){var n;return t===0&&this.settings.startTimerOnClick&&this.settings.timer>0||this.settings.timer===0?n="":n=this.outerHTML(e(this.settings.template.timer)[0]),n},button_text:function(t){return this.settings.nextButton?(t=e.trim(t)||"Next",t=this.outerHTML(e(this.settings.template.button).append(t)[0])):t="",t},create:function(t){var n=t.$li.attr("data-button")||t.$li.attr("data-text"),r=t.$li.attr("class"),i=e(this.tip_template({tip_class:r,index:t.index,button_text:n,li:t.$li}));e(this.settings.tipContainer).append(i)},show:function(t){var n=null;this.settings.$li===r||e.inArray(this.settings.$li.index(),this.settings.pauseAfter)===-1?(this.settings.paused?this.settings.paused=!1:this.set_li(t),this.settings.attempts=0,this.settings.$li.length&&this.settings.$target.length>0?(this.settings.tipSettings=e.extend(this.settings,this.data_options(this.settings.$li)),this.settings.timer=parseInt(this.settings.timer,10),this.settings.tipSettings.tipLocationPattern=this.settings.tipLocationPatterns[this.settings.tipSettings.tipLocation],/body/i.test(this.settings.$target.selector)||this.scroll_to(),this.is_phone()?this.pos_phone(!0):this.pos_default(!0),n=this.settings.$next_tip.find(".joyride-timer-indicator"),/pop/i.test(this.settings.tipAnimation)?(n.width(0),thsi.settings.timer>0?(this.settings.$next_tip.show(),this.delay(function(){n.animate({width:n.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tipAnimationFadeSpeed)):this.settings.$next_tip.show()):/fade/i.test(this.settings.tipAnimation)&&(n.width(0),this.settings.timer>0?(this.settings.$next_tip.fadeIn(this.settings.tipAnimationFadeSpeed).show(),this.delay(function(){n.animate({width:n.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tipAnimationFadeSpeed)):this.settings.$next_tip.fadeIn(this.settings.tipAnimationFadeSpeed)),this.settings.$current_tip=this.settings.$next_tip):this.settings.$li&&this.settings.$target.length<1?this.show():this.end()):this.settings.paused=!0},is_phone:function(){return Modernizr?Modernizr.mq("only screen and (max-width: 767px)")||e(".lt-ie9").length>0:this.settings.$window.width()<767?!0:!1},hide:function(){this.settings.postStepCallback(this.settings.$li.index(),this.settings.$current_tip),e(".joyride-modal-bg").hide(),this.settings.$current_tip.hide()},set_li:function(e){e?(this.settings.$li=this.settings.$tip_content.eq(this.settings.startOffset),this.set_next_tip(),this.settings.$current_tip=this.settings.$next_tip):(this.settings.$li=this.settings.$li.next(),this.set_next_tip()),this.set_target()},set_next_tip:function(){this.settings.$next_tip=e(".joyride-tip-guide[data-index='"+this.settings.$li.index()+"']"),this.settings.$next_tip.data("closed","")},set_target:function(){var t=this.settings.$li.attr("data-class"),r=this.settings.$li.attr("data-id"),i=function(){return r?e(n.getElementById(r)):t?e("."+t).first():e("body")};this.settings.$target=i()},scroll_to:function(){var n,r;n=e(t).height()/2,r=Math.ceil(this.settings.$target.offset().top-n+this.outerHeight(this.settings.$next_tip)),r>0&&this.scrollTo(e("html, body"),r,this.settings.scrollSpeed)},paused:function(){return e.inArray(this.settings.$li.index()+1,this.settings.pauseAfter)===-1?!0:!1},restart:function(){this.hide(),this.settings.$li=r,this.show("init")},pos_default:function(n){var r=Math.ceil(e(t).height()/2),i=this.settings.$next_tip.offset(),s=this.settings.$next_tip.find(".joyride-nub"),o=Math.ceil(this.outerHeight(s)/2),u=n||!1;u&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),/body/i.test(this.settings.$target.selector)?this.settings.$li.length&&this.pos_modal(s):(this.bottom()?(this.settings.$next_tip.css({top:this.settings.$target.offset().top+o+this.outerHeight(this.settings.$target),left:this.settings.$target.offset().left}),this.nub_position(s,this.settings.tipSettings.nubPosition,"top")):this.top()?(this.settings.$next_tip.css({top:this.settings.$target.offset().top-this.outerHeight(this.settings.$next_tip)-o,left:this.settings.$target.offset().left}),this.nub_position(s,this.settings.tipSettings.nubPosition,"bottom")):this.right()?(this.settings.$next_tip.css({top:this.settings.$target.offset().top,left:this.outerWidth(this.settings.$target)+this.settings.$target.offset().left}),this.nub_position(s,this.settings.tipSettings.nubPosition,"left")):this.left()&&(this.settings.$next_tip.css({top:this.settings.$target.offset().top,left:this.settings.$target.offset().left-this.outerWidth(this.settings.$next_tip)-o}),this.nub_position(s,this.settings.tipSettings.nubPosition,"right")),!this.visible(this.corners(this.settings.$next_tip))&&this.settings.attempts<this.settings.tipSettings.tipLocationPattern.length&&(s.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),this.settings.tipSettings.tipLocation=this.settings.tipSettings.tipLocationPattern[this.settings.attempts],this.settings.attempts++,this.pos_default(!0))),u&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_phone:function(t){var n=this.outerHeight(this.settings.$next_tip),r=this.settings.$next_tip.offset(),i=this.outerHeight(this.settings.$target),s=e(".joyride-nub",this.settings.$next_tip),o=Math.ceil(this.outerHeight(s)/2),u=t||!1;s.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),u&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),/body/i.test(this.settings.$target.selector)?this.settings.$li.length&&this.pos_modal(s):this.top()?(this.settings.$next_tip.offset({top:this.settings.$target.offset().top-n-o}),s.addClass("bottom")):(this.settings.$next_tip.offset({top:this.settings.$target.offset().top+i+o}),s.addClass("top")),u&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_modal:function(t){this.center(),t.hide(),this.settings.$next_tip.data("closed")||(e(".joyride-modal-bg").length<1&&e("body").append('<div class="joyride-modal-bg">').show(),/pop/i.test(this.settings.tipAnimation)?e(".joyride-modal-bg").show():e(".joyride-modal-bg").fadeIn(this.settings.tipAnimationFadeSpeed))},center:function(){var n=e(t);return this.settings.$next_tip.css({top:(n.height()-this.outerHeight(this.settings.$next_tip))/2+n.scrollTop(),left:(n.width()-this.outerWidth(this.settings.$next_tip))/2+this.scrollLeft(n)}),!0},bottom:function(){return/bottom/i.test(this.settings.tipSettings.tipLocation)},top:function(){return/top/i.test(this.settings.tipSettings.tipLocation)},right:function(){return/right/i.test(this.settings.tipSettings.tipLocation)},left:function(){return/left/i.test(this.settings.tipSettings.tipLocation)},corners:function(n){var r=e(t),i=r.width()+this.scrollLeft(r),s=r.width()+r.scrollTop();return[n.offset().top<=r.scrollTop(),i<=n.offset().left+this.outerWidth(n),s<=n.offset().top+this.outerHeight(n),this.scrollLeft(r)>=n.offset().left]},visible:function(e){var t=e.length;while(t--)if(e[t])return!1;return!0},nub_position:function(e,t,n){t==="auto"?e.addClass(n):e.addClass(t)},startTimer:function(){this.settings.$li.length?this.settings.automate=setTimeout(function(){this.hide(),this.show(),this.startTimer()}.bind(this),this.settings.timer):clearTimeout(this.settings.automate)},end:function(){this.settings.cookieMonster&&e.cookie(this.settings.cookieName,"ridden",{expires:this.settings.cookieExpires,domain:this.settings.cookieDomain}),this.settings.timer>0&&clearTimeout(this.settings.automate),this.settings.$next_tip.data("closed",!0),e(".joyride-modal-bg").hide(),this.settings.$current_tip.hide(),this.settings.postStepCallback(this.settings.$li.index(),this.settings.$current_tip),this.settings.postRideCallback(this.settings.$li.index(),this.settings.$current_tip)},outerHTML:function(e){return e.outerHTML||(new XMLSerializer).serializeToString(e)},off:function(){e(this.scope).off(".joyride"),e(t).off(".joyride"),e(".joyride-close-tip, .joyride-next-tip, .joyride-modal-bg").off(".joyride"),e(".joyride-tip-guide, .joyride-modal-bg").remove(),clearTimeout(this.settings.automate),this.settings={}}}}(Foundation.zj,this,this.document),function(e,t,n,r){"use strict";Foundation.libs=Foundation.libs||{},Foundation.libs.orbit={name:"orbit",version:"4.0.0",settings:{timer_speed:1e4,animation_speed:500,bullets:!0,stack_on_small:!0,container_class:"orbit-container",stack_on_small_class:"orbit-stack-on-small",next_class:"orbit-next",prev_class:"orbit-prev",timer_container_class:"orbit-timer",timer_paused_class:"paused",timer_progress_class:"orbit-progress",slides_container_class:"orbit-slides-container",bullets_container_class:"orbit-bullets",bullets_active_class:"active",slide_number_class:"orbit-slide-number",caption_class:"orbit-caption",active_slide_class:"active",orbit_transition_class:"orbit-transitioning"},init:function(t,n,r){var i=this;Foundation.inherit(i,"data_options"),typeof n=="object"&&e.extend(!0,i.settings,n),e("[data-orbit]",t).each(function(t,n){var r=e.extend(!0,{},i);r._init(t,n)})},_container_html:function(){var e=this;return'<div class="'+e.settings.container_class+'"></div>'},_bullets_container_html:function(t){var n=this,r=e('<ol class="'+n.settings.bullets_container_class+'"></ol>');return t.each(function(t,i){var s=e('<li data-orbit-slide-number="'+(t+1)+'" class=""></li>');t===0&&s.addClass(n.settings.bullets_active_class),r.append(s)}),r},_slide_number_html:function(t,n){var r=this,i=e('<div class="'+r.settings.slide_number_class+'"></div>');return i.append("<span>"+t+"</span> of <span>"+n+"</span>"),i},_timer_html:function(){var e=this;return typeof e.settings.timer_speed=="number"&&e.settings.timer_speed>0?'<div class="'+e.settings.timer_container_class+'"><span></span><div class="'+e.settings.timer_progress_class+'"></div></div>':""},_next_html:function(){var e=this;return'<a href="#" class="'+e.settings.next_class+'">Next <span></span></a>'},_prev_html:function(){var e=this;return'<a href="#" class="'+e.settings.prev_class+'">Prev <span></span></a>'},_init:function(t,n){var r=this,i=e(n),s=i.wrap(r._container_html()).parent(),o=i.children();e.extend(!0,r.settings,r.data_options(i)),s.append(r._prev_html()),s.append(r._next_html()),i.addClass(r.settings.slides_container_class),r.settings.stack_on_small&&s.addClass(r.settings.stack_on_small_class),s.append(r._slide_number_html(1,o.length)),s.append(r._timer_html()),r.settings.bullets&&s.after(r._bullets_container_html(o)),i.append(o.first().clone().attr("data-orbit-slide","")),i.prepend(o.last().clone().attr("data-orbit-slide","")),i.css("marginLeft","-100%"),o.first().addClass(r.settings.active_slide_class),r._init_events(i),r._init_dimensions(i),r._start_timer(i)},_init_events:function(i){var s=this,o=i.parent();e(t).on("load.fndtn.orbit",function(){i.height(""),i.height(i.height(o.height())),i.trigger("orbit:ready")}).on("resize.fndtn.orbit",function(){i.height(""),i.height(i.height(o.height()))}),e(n).on("click.fndtn.orbit","[data-orbit-link]",function(t){t.preventDefault();var n=e(t.currentTarget).attr("data-orbit-link"),r=i.find("[data-orbit-slide="+n+"]").first();r.length===1&&(s._reset_timer(i,!0),s._goto(i,r.index(),function(){}))}),o.siblings("."+s.settings.bullets_container_class).on("click.fndtn.orbit","[data-orbit-slide-number]",function(t){t.preventDefault(),s._reset_timer(i,!0),s._goto(i,e(t.currentTarget).data("orbit-slide-number"),function(){})}),o.on("orbit:after-slide-change.fndtn.orbit",function(e,t){var n=o.find("."+s.settings.slide_number_class);n.length===1&&n.replaceWith(s._slide_number_html(t.slide_number,t.total_slides))}).on("orbit:next-slide.fndtn.orbit click.fndtn.orbit","."+s.settings.next_class,function(e){e.preventDefault(),s._reset_timer(i,!0),s._goto(i,"next",function(){})}).on("orbit:prev-slide.fndtn.orbit click.fndtn.orbit","."+s.settings.prev_class,function(e){e.preventDefault(),s._reset_timer(i,!0),s._goto(i,"prev",function(){})}).on("orbit:toggle-play-pause.fndtn.orbit click.fndtn.orbit touchstart.fndtn.orbit","."+s.settings.timer_container_class,function(t){t.preventDefault();var n=e(t.currentTarget).toggleClass(s.settings.timer_paused_class),r=n.closest("."+s.settings.container_class).find("."+s.settings.slides_container_class);n.hasClass(s.settings.timer_paused_class)?s._stop_timer(r):s._start_timer(r)}).on("touchstart.fndtn.orbit",function(e){e.touches||(e=e.originalEvent);var t={start_page_x:e.touches[0].pageX,start_page_y:e.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:r};o.data("swipe-transition",t),e.stopPropagation()}).on("touchmove.fndtn.orbit",function(e){e.touches||(e=e.originalEvent);if(e.touches.length>1||e.scale&&e.scale!==1)return;var t=o.data("swipe-transition");typeof t=="undefined"&&(t={}),t.delta_x=e.touches[0].pageX-t.start_page_x,typeof t.is_scrolling=="undefined"&&(t.is_scrolling=!!(t.is_scrolling||Math.abs(t.delta_x)<Math.abs(e.touches[0].pageY-t.start_page_y)));if(!t.is_scrolling&&!t.active){e.preventDefault(),s._stop_timer(i);var n=t.delta_x<0?"next":"prev";t.active=!0,s._goto(i,n,function(){})}}).on("touchend.fndtn.orbit",function(e){o.data("swipe-transition",{}),e.stopPropagation()})},_init_dimensions:function(e){var t=e.parent(),n=e.children();e.css("width",n.length*100+"%"),n.css("width",100/n.length+"%"),e.height(t.height()),e.css("width",n.length*100+"%")},_start_timer:function(e){var t=this,n=e.parent(),r=function(){t._reset_timer(e,!1),t._goto(e,"next",function(){t._start_timer(e)})},i=n.find("."+t.settings.timer_container_class),s=i.find("."+t.settings.timer_progress_class),o=s.width()/i.width(),u=t.settings.timer_speed-o*t.settings.timer_speed;s.animate({width:"100%"},u,"linear",r),e.trigger("orbit:timer-started")},_stop_timer:function(e){var t=this,n=e.parent(),r=n.find("."+t.settings.timer_container_class),i=r.find("."+t.settings.timer_progress_class),s=i.width()/r.width();t._rebuild_timer(n,s*100+"%"),e.trigger("orbit:timer-stopped"),r=n.find("."+t.settings.timer_container_class),r.addClass(t.settings.timer_paused_class)},_reset_timer:function(e,t){var n=this,r=e.parent();n._rebuild_timer(r,"0%");if(typeof t=="boolean"&&t){var i=r.find("."+n.settings.timer_container_class);i.addClass(n.settings.timer_paused_class)}},_rebuild_timer:function(t,n){var r=this,i=t.find("."+r.settings.timer_container_class),s=e(r._timer_html()),o=s.find("."+r.settings.timer_progress_class);if(typeof Zepto=="function")i.remove(),t.append(s),o.css("width",n);else if(typeof jQuery=="function"){var u=i.find("."+r.settings.timer_progress_class);u.css("width",n),u.stop()}},_goto:function(t,n,r){var i=this,s=t.parent(),o=t.children(),u=t.find("."+i.settings.active_slide_class),a=u.index();if(s.hasClass(i.settings.orbit_transition_class))return!1;n==="prev"?a===0?a=o.length-1:a--:n==="next"?a=(a+1)%o.length:typeof n=="number"&&(a=n%o.length),a===o.length-1&&n==="next"?(t.css("marginLeft","0%"),a=1):a===0&&n==="prev"&&(t.css("marginLeft","-"+(o.length-1)*100+"%"),a=o.length-2),s.addClass(i.settings.orbit_transition_class),u.removeClass(i.settings.active_slide_class),e(o[a]).addClass(i.settings.active_slide_class);var f=s.siblings("."+i.settings.bullets_container_class);f.length===1&&(f.children().removeClass(i.settings.bullets_active_class),e(f.children()[a-1]).addClass(i.settings.bullets_active_class));var l="-"+a*100+"%";t.trigger("orbit:before-slide-change"),t.css("marginLeft")===l?(s.removeClass(i.settings.orbit_transition_class),t.trigger("orbit:after-slide-change",[{slide_number:a,total_slides:t.children().length-2}]),r()):t.animate({marginLeft:l},i.settings.animation_speed,"linear",function(){s.removeClass(i.settings.orbit_transition_class),t.trigger("orbit:after-slide-change",[{slide_number:a,total_slides:t.children().length-2}]),r()})}}}(Foundation.zj,this,this.document),function(e,t,n,r){"use strict";Foundation.libs.section={name:"section",version:"4.0.9",settings:{deep_linking:!1,one_up:!0,callback:function(){}},init:function(e,t,n){var r=this;return this.scope=e||this.scope,Foundation.inherit(this,"throttle data_options"),typeof t!="string"?(this.set_active_from_hash(),this.events(),!0):this[t].call(this,n)},events:function(){var r=this;e(this.scope).on("click.fndtn.section","[data-section] .title",function(t){var n=e(this),i=n.closest("[data-section]");r.toggle_active.call(this,t,r)}),e(t).on("resize.fndtn.section",r.throttle(function(){r.resize.call(this)},30)).on("hashchange",function(){r.settings.toggled||(r.set_active_from_hash(),e(this).trigger("resize"))}).trigger("resize"),e(n).on("click.fndtn.section",function(t){e(t.target).closest(".title").length<1&&e('[data-section="vertical-nav"], [data-section="horizontal-nav"]').find("section, .section").removeClass("active").attr("style","")})},toggle_active:function(t,n){var r=e(this),i=r.closest("section, .section"),s=i.find(".content"),o=i.closest("[data-section]"),n=Foundation.libs.section,u=e.extend({},n.settings,n.data_options(o));n.settings.toggled=!0,!u.deep_linking&&s.length>0&&t.preventDefault();if(i.hasClass("active"))(n.small(o)||n.is_vertical(o)||n.is_horizontal(o)||n.is_accordion(o))&&i.removeClass("active").attr("style","");else{var a=null,f=n.outerHeight(i.find(".title"));if(n.small(o)||u.one_up)a=r.closest("[data-section]").find("section.active, .section.active"),n.small(o)?a.attr("style",""):a.attr("style","visibility: hidden; padding-top: "+f+"px;");n.small(o)?i.attr("style",""):i.css("padding-top",f),i.addClass("active"),a!==null&&a.removeClass("active").attr("style","")}setTimeout(function(){n.settings.toggled=!1},300),u.callback()},resize:function(){var t=e("[data-section]"),n=Foundation.libs.section;t.each(function(){var t=e(this),r=t.find("section.active, .section.active"),i=e.extend({},n.settings,n.data_options(t));if(r.length>1)r.not(":first").removeClass("active").attr("style","");else if(r.length<1&&!n.is_vertical(t)&&!n.is_horizontal(t)&&!n.is_accordion(t)){var s=t.find("section, .section").first();s.addClass("active"),n.small(t)?s.attr("style",""):s.css("padding-top",n.outerHeight(s.find(".title")))}n.small(t)?r.attr("style",""):r.css("padding-top",n.outerHeight(r.find(".title"))),n.position_titles(t),n.is_horizontal(t)&&!n.small(t)?n.position_content(t):n.position_content(t,!1)})},is_vertical:function(e){return/vertical-nav/i.test(e.data("section"))},is_horizontal:function(e){return/horizontal-nav/i.test(e.data("section"))},is_accordion:function(e){return/accordion/i.test(e.data("section"))},is_tabs:function(e){return/tabs/i.test(e.data("section"))},set_active_from_hash:function(){var n=t.location.hash.substring(1),r=e("[data-section]"),i=this;r.each(function(){var t=e(this),r=e.extend({},i.settings,i.data_options(t));n.length>0&&r.deep_linking&&(t.find("section, .section").attr("style","").removeClass("active"),t.find('.content[data-slug="'+n+'"]').closest("section, .section").addClass("active"))})},position_titles:function(t,n){var r=t.find(".title"),i=0,s=this;typeof n=="boolean"?r.attr("style",""):r.each(function(){e(this).css("left",i),i+=s.outerWidth(e(this))})},position_content:function(t,n){var r=t.find(".title"),i=t.find(".content"),s=this;typeof n=="boolean"?(i.attr("style",""),t.attr("style","")):(t.find("section, .section").each(function(){var t=e(this).find(".title"),n=e(this).find(".content");n.css({left:t.position().left-1,top:
s.outerHeight(t)-2})}),typeof Zepto=="function"?t.height(this.outerHeight(r.first())):t.height(this.outerHeight(r.first())-2))},small:function(t){var n=e.extend({},this.settings,this.data_options(t));return this.is_tabs(t)?!1:t&&this.is_accordion(t)?!0:e("html").hasClass("lt-ie9")?!0:e("html").hasClass("ie8compat")?!0:e(this.scope).width()<768},off:function(){e(this.scope).off(".fndtn.section"),e(t).off(".fndtn.section"),e(n).off(".fndtn.section")}}}(Foundation.zj,this,this.document),function(e,t,n,r){"use strict";Foundation.libs.topbar={name:"topbar",version:"4.0.0",settings:{index:0,stickyClass:"sticky",custom_back_text:!0,back_text:"Back",init:!1},init:function(n,r,i){var s=this;return this.scope=n||this.scope,typeof r=="object"&&e.extend(!0,this.settings,r),typeof r!="string"?(e(".top-bar").each(function(){s.settings.$w=e(t),s.settings.$topbar=e(this),s.settings.$section=s.settings.$topbar.find("section"),s.settings.$titlebar=s.settings.$topbar.children("ul").first(),s.settings.$topbar.data("index",0);var n=e("<div class='top-bar-js-breakpoint'/>").insertAfter(s.settings.$topbar);s.settings.breakPoint=n.width(),n.remove(),s.assemble(),s.settings.$topbar.parent().hasClass("fixed")&&e("body").css("padding-top",s.outerHeight(s.settings.$topbar))}),s.settings.init||this.events(),this.settings.init):this[r].call(this,i)},events:function(){var n=this,r=this.outerHeight(e(".top-bar"));e(this.scope).on("click.fndtn.topbar",".top-bar .toggle-topbar",function(i){var s=e(this).closest(".top-bar"),o=s.find("section, .section"),u=s.children("ul").first();s.data("height")||n.largestUL(),i.preventDefault(),n.breakpoint()&&s.toggleClass("expanded").css("min-height",""),s.hasClass("expanded")||(o.css({left:"0%"}),o.find(">.name").css({left:"100%"}),o.find("li.moved").removeClass("moved"),s.data("index",0)),s.parent().hasClass("fixed")?(s.parent().removeClass("fixed"),e("body").css("padding-top","0"),t.scrollTo(0)):s.hasClass("fixed expanded")&&(s.parent().addClass("fixed"),e("body").css("padding-top",r))}).on("click.fndtn.topbar",".top-bar .has-dropdown>a",function(t){var r=e(this).closest(".top-bar"),i=r.find("section, .section"),s=r.children("ul").first();(Modernizr.touch||n.breakpoint())&&t.preventDefault();if(n.breakpoint()){var o=e(this),u=o.closest("li");r.data("index",r.data("index")+1),u.addClass("moved"),i.css({left:-(100*r.data("index"))+"%"}),i.find(">.name").css({left:100*r.data("index")+"%"}),o.siblings("ul").height(r.data("height")+n.outerHeight(s,!0)),r.css("min-height",r.data("height")+n.outerHeight(s,!0)*2)}}),e(t).on("resize.fndtn.topbar",function(){this.breakpoint()||e(".top-bar").css("min-height","")}.bind(this)),e(this.scope).on("click.fndtn",".top-bar .has-dropdown .back",function(t){t.preventDefault();var n=e(this),r=n.closest(".top-bar"),i=r.find("section, .section"),s=n.closest("li.moved"),o=s.parent();r.data("index",r.data("index")-1),i.css({left:-(100*r.data("index"))+"%"}),i.find(">.name").css({left:100*r.data("index")+"%"}),r.data("index")===0&&r.css("min-height",0),setTimeout(function(){s.removeClass("moved")},300)})},breakpoint:function(){return e(t).width()<=this.settings.breakPoint||e("html").hasClass("lt-ie9")},assemble:function(){var t=this;this.settings.$section.detach(),this.settings.$section.find(".has-dropdown>a").each(function(){var n=e(this),r=n.siblings(".dropdown"),i=e('<li class="title back js-generated"><h5><a href="#"></a></h5></li>');t.settings.custom_back_text==1?i.find("h5>a").html("&laquo; "+t.settings.back_text):i.find("h5>a").html("&laquo; "+n.html()),r.prepend(i)}),this.settings.$section.appendTo(this.settings.$topbar),this.sticky()},largestUL:function(){var t=this.settings.$topbar.find("section ul ul"),n=t.first(),r=0,i=this;t.each(function(){e(this).children("li").length>n.children("li").length&&(n=e(this))}),n.children("li").each(function(){r+=i.outerHeight(e(this),!0)}),this.settings.$topbar.data("height",r)},sticky:function(){var n="."+this.settings.stickyClass;if(e(n).length>0){var r=e(n).length?e(n).offset().top:0,i=e(t),s=this.outerHeight(e(".top-bar"));i.scroll(function(){i.scrollTop()>=r?(e(n).addClass("fixed"),e("body").css("padding-top",s)):i.scrollTop()<r&&(e(n).removeClass("fixed"),e("body").css("padding-top","0"))})}},off:function(){e(this.scope).off(".fndtn.topbar"),e(t).off(".fndtn.topbar")}}}(Foundation.zj,this,this.document);(function(e,t,n,r){function f(e){return parseFloat(e)}function l(){var e={transformProperty:"",MozTransform:"-moz-",WebkitTransform:"-webkit-",OTransform:"-o-",msTransform:"-ms-"};for(var t in e)if(typeof a[t]!="undefined")return e[t];return null}function c(){if(typeof t.Modernizr!="undefined")return Modernizr.csstransforms;var e=["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"];for(var n in e)if(a[e[n]]!==r)return!0}function v(t,n){var r=s.exec(e.trim(n));if(r[3]&&r[3]!=="px"){var i="paddingBottom",o=e.style(t,i);e.style(t,i,n);n=m(t,i);e.style(t,i,o);return n}return parseFloat(n)}function m(t,n){if(t[n]==null||!!t.style&&t.style[n]!=null){var r=parseFloat(e.css(t,n));return r&&r>-1e4?r:0}return t[n]}var i=/progid:DXImageTransform\.Microsoft\.Matrix\(.*?\)/,s=/^([\+\-]=)?([\d+.\-]+)(.*)$/,o=/%/,u=n.createElement("modernizr"),a=u.style,h=l(),p=h!==null?h+"transform":!1,d=h!==null?h+"transform-origin":!1;e.support.csstransforms=c();if(h=="-ms-"){p="msTransform";d="msTransformOrigin"}e.extend({transform:function(t){t.transform=this;this.$elem=e(t);this.applyingMatrix=!1;this.matrix=null;this.height=null;this.width=null;this.outerHeight=null;this.outerWidth=null;this.boxSizingValue=null;this.boxSizingProperty=null;this.attr=null;this.transformProperty=p;this.transformOriginProperty=d}});e.extend(e.transform,{funcs:["matrix","origin","reflect","reflectX","reflectXY","reflectY","rotate","scale","scaleX","scaleY","skew","skewX","skewY","translate","translateX","translateY"]});e.fn.transform=function(t,n){return this.each(function(){var r=this.transform||new e.transform(this);t&&r.exec(t,n)})};e.transform.prototype={exec:function(t,n){n=e.extend(!0,{forceMatrix:!1,preserve:!1},n);this.attr=null;n.preserve?t=e.extend(!0,this.getAttrs(!0,!0),t):t=e.extend(!0,{},t);this.setAttrs(t);return e.support.csstransforms&&!n.forceMatrix?this.execFuncs(t):e.browser.msie||e.support.csstransforms&&n.forceMatrix?this.execMatrix(t):!1},execFuncs:function(t){var n=[];for(var r in t)r=="origin"?this[r].apply(this,e.isArray(t[r])?t[r]:[t[r]]):e.inArray(r,e.transform.funcs)!==-1&&n.push(this.createTransformFunc(r,t[r]));this.$elem.css(p,n.join(" "));return!0},execMatrix:function(t){function l(e,t){return o.test(e)?parseFloat(e)/100*a["safeOuter"+(t?"Height":"Width")]():v(u,e)}var n,r,s,u=this.$elem[0],a=this,c=/translate[X|Y]?/,d=[];for(var m in t){switch(e.type(t[m])){case"array":s=t[m];break;case"string":s=e.map(t[m].split(","),e.trim);break;default:s=[t[m]]}if(e.matrix[m]){e.cssAngle[m]?s=e.map(s,e.angle.toDegree):e.cssNumber[m]?s=e.map(s,f):s=e.map(s,l);r=e.matrix[m].apply(this,s);c.test(m)?d.push(r):n=n?n.x(r):r}else m=="origin"&&this[m].apply(this,s)}n=n||e.matrix.identity();e.each(d,function(e,t){n=n.x(t)});var g=parseFloat(n.e(1,1).toFixed(6)),y=parseFloat(n.e(2,1).toFixed(6)),b=parseFloat(n.e(1,2).toFixed(6)),w=parseFloat(n.e(2,2).toFixed(6)),E=n.rows===3?parseFloat(n.e(1,3).toFixed(6)):0,S=n.rows===3?parseFloat(n.e(2,3).toFixed(6)):0;if(e.support.csstransforms&&h==="-moz-")this.$elem.css(p,"matrix("+g+", "+y+", "+b+", "+w+", "+E+"px, "+S+"px)");else if(e.support.csstransforms)this.$elem.css(p,"matrix("+g+", "+y+", "+b+", "+w+", "+E+", "+S+")");else if(e.browser.msie){var x=", FilterType='nearest neighbor'",T=this.$elem[0].style,N="progid:DXImageTransform.Microsoft.Matrix(M11="+g+", M12="+b+", M21="+y+", M22="+w+", sizingMethod='auto expand'"+x+")",C=T.filter||e.curCSS(this.$elem[0],"filter")||"";T.filter=i.test(C)?C.replace(i,N):C?C+" "+N:N;this.applyingMatrix=!0;this.matrix=n;this.fixPosition(n,E,S);this.applyingMatrix=!1;this.matrix=null}return!0},origin:function(t,n){if(e.support.csstransforms){typeof n=="undefined"?this.$elem.css(d,t):this.$elem.css(d,t+" "+n);return!0}switch(t){case"left":t="0";break;case"right":t="100%";break;case"center":case r:t="50%"}switch(n){case"top":n="0";break;case"bottom":n="100%";break;case"center":case r:n="50%"}this.setAttr("origin",[o.test(t)?t:v(this.$elem[0],t)+"px",o.test(n)?n:v(this.$elem[0],n)+"px"]);return!0},createTransformFunc:function(t,n){if(t.substr(0,7)==="reflect"){var r=n?e.matrix[t]():e.matrix.identity();return"matrix("+r.e(1,1)+", "+r.e(2,1)+", "+r.e(1,2)+", "+r.e(2,2)+", 0, 0)"}if(t=="matrix"&&h==="-moz-"){n[4]=n[4]?n[4]+"px":0;n[5]=n[5]?n[5]+"px":0}return t+"("+(e.isArray(n)?n.join(", "):n)+")"},fixPosition:function(t,n,r,i,s){var u=new e.matrix.calc(t,this.safeOuterHeight(),this.safeOuterWidth()),a=this.getAttr("origin"),f=u.originOffset(new e.matrix.V2(o.test(a[0])?parseFloat(a[0])/100*u.outerWidth:parseFloat(a[0]),o.test(a[1])?parseFloat(a[1])/100*u.outerHeight:parseFloat(a[1]))),l=u.sides(),c=this.$elem.css("position");c=="static"&&(c="relative");var h={top:0,left:0},p={position:c,top:f.top+r+l.top+h.top+"px",left:f.left+n+l.left+h.left+"px",zoom:1};this.$elem.css(p)}}})(jQuery,this,this.document);(function(e,t,n,r){function s(){if(i)return i;var e={boxSizing:"box-sizing",MozBoxSizing:"-moz-box-sizing",WebkitBoxSizing:"-webkit-box-sizing",OBoxSizing:"-o-box-sizing"},t=n.body;for(var r in e)if(typeof t.style[r]!="undefined"){i=e[r];return i}return null}e.extend(e.transform.prototype,{safeOuterHeight:function(){return this.safeOuterLength("height")},safeOuterWidth:function(){return this.safeOuterLength("width")},safeOuterLength:function(t){var n="outer"+(t=="width"?"Width":"Height");if(!e.support.csstransforms&&e.browser.msie){t=t=="width"?"width":"height";if(this.applyingMatrix&&!this[n]&&this.matrix){var r=new e.matrix.calc(this.matrix,1,1),i=r.offset(),o=this.$elem[n]()/i[t];this[n]=o;return o}if(this.applyingMatrix&&this[n])return this[n];var u={height:["top","bottom"],width:["left","right"]},a=this.$elem[0],f=parseFloat(e.curCSS(a,t,!0)),l=this.boxSizingProperty,c=this.boxSizingValue;if(!this.boxSizingProperty){l=this.boxSizingProperty=s()||"box-sizing";c=this.boxSizingValue=this.$elem.css(l)||"content-box"}if(this[n]&&this[t]==f)return this[n];this[t]=f;l&&(c=="padding-box"||c=="content-box")&&(f+=parseFloat(e.curCSS(a,"padding-"+u[t][0],!0))||0+parseFloat(e.curCSS(a,"padding-"+u[t][1],!0))||0);l&&c=="content-box"&&(f+=parseFloat(e.curCSS(a,"border-"+u[t][0]+"-width",!0))||0+parseFloat(e.curCSS(a,"border-"+u[t][1]+"-width",!0))||0);this[n]=f;return f}return this.$elem[n]()}});var i=null})(jQuery,this,this.document);(function(e,t,n,r){var i=/([\w\-]*?)\((.*?)\)/g,s="data-transform",o=/\s/,u=/,\s?/;e.extend(e.transform.prototype,{setAttrs:function(t){var n="",r;for(var i in t){r=t[i];e.isArray(r)&&(r=r.join(", "));n+=" "+i+"("+r+")"}this.attr=e.trim(n);this.$elem.attr(s,this.attr)},setAttr:function(t,n){e.isArray(n)&&(n=n.join(", "));var r=this.attr||this.$elem.attr(s);if(!r||r.indexOf(t)==-1){this.attr=e.trim(r+" "+t+"("+n+")");this.$elem.attr(s,this.attr)}else{var o=[],u;i.lastIndex=0;while(u=i.exec(r))t==u[1]?o.push(t+"("+n+")"):o.push(u[0]);this.attr=o.join(" ");this.$elem.attr(s,this.attr)}},getAttrs:function(){var e=this.attr||this.$elem.attr(s);if(!e)return{};var t={},n,r;i.lastIndex=0;while((n=i.exec(e))!==null)if(n){r=n[2].split(u);t[n[1]]=r.length==1?r[0]:r}return t},getAttr:function(t){var n=this.getAttrs();return typeof n[t]!="undefined"?n[t]:t==="origin"&&e.support.csstransforms?this.$elem.css(this.transformOriginProperty).split(o):t==="origin"?["50%","50%"]:e.cssDefault[t]||0}});typeof e.cssAngle=="undefined"&&(e.cssAngle={});e.extend(e.cssAngle,{rotate:!0,skew:!0,skewX:!0,skewY:!0});typeof e.cssDefault=="undefined"&&(e.cssDefault={});e.extend(e.cssDefault,{scale:[1,1],scaleX:1,scaleY:1,matrix:[1,0,0,1,0,0],origin:["50%","50%"],reflect:[1,0,0,1,0,0],reflectX:[1,0,0,1,0,0],reflectXY:[1,0,0,1,0,0],reflectY:[1,0,0,1,0,0]});typeof e.cssMultipleValues=="undefined"&&(e.cssMultipleValues={});e.extend(e.cssMultipleValues,{matrix:6,origin:{length:2,duplicate:!0},reflect:6,reflectX:6,reflectXY:6,reflectY:6,scale:{length:2,duplicate:!0},skew:2,translate:2});e.extend(e.cssNumber,{matrix:!0,reflect:!0,reflectX:!0,reflectXY:!0,reflectY:!0,scale:!0,scaleX:!0,scaleY:!0});e.each(e.transform.funcs,function(t,n){e.cssHooks[n]={set:function(t,r){var i=t.transform||new e.transform(t),s={};s[n]=r;i.exec(s,{preserve:!0})},get:function(t,r){var i=t.transform||new e.transform(t);return i.getAttr(n)}}});e.each(["reflect","reflectX","reflectXY","reflectY"],function(t,n){e.cssHooks[n].get=function(t,r){var i=t.transform||new e.transform(t);return i.getAttr("matrix")||e.cssDefault[n]}})})(jQuery,this,this.document);(function(e,t,n,r){function u(t,n){t[n]!=null&&(!t.style||t.style[n]==null);var r=parseFloat(e.css(t,n));return r&&r>-1e4?r:0}var i=/^([+\-]=)?([\d+.\-]+)(.*)$/,s=e.fn.animate;e.fn.animate=function(t,n,r,i){var o=e.speed(n,r,i),u=e.cssMultipleValues;o.complete=o.old;if(!e.isEmptyObject(t)){typeof o.original=="undefined"&&(o.original={});e.each(t,function(n,r){if(u[n]||e.cssAngle[n]||!e.cssNumber[n]&&e.inArray(n,e.transform.funcs)!==-1){var i=null;if(jQuery.isArray(t[n])){var s=1,a=r.length;u[n]&&(s=typeof u[n].length=="undefined"?u[n]:u[n].length);if(a>s||a<s&&a==2||a==2&&s==2&&isNaN(parseFloat(r[a-1]))){i=r[a-1];r.splice(a-1,1)}}o.original[n]=r.toString();t[n]=parseFloat(r)}})}return s.apply(this,[arguments[0],o])};var o="paddingBottom",a=e.fx.prototype.custom;e.fx.prototype.custom=function(t,n,r){var s=e.cssMultipleValues[this.prop],l=e.cssAngle[this.prop];if(s||!e.cssNumber[this.prop]&&e.inArray(this.prop,e.transform.funcs)!==-1){this.values=[];s||(s=1);var c=this.options.original[this.prop],h=e(this.elem).css(this.prop),p=e.cssDefault[this.prop]||0;e.isArray(h)||(h=[h]);e.isArray(c)||(e.type(c)==="string"?c=c.split(","):c=[c]);var v=s.length||s,m=0;while(c.length<v){c.push(s.duplicate?c[0]:p[m]||0);m++}var g,y,w,E=this,S=E.elem.transform;orig=e.style(E.elem,o);e.each(c,function(t,n){h[t]?g=h[t]:p[t]&&!s.duplicate?g=p[t]:s.duplicate?g=h[0]:g=0;if(l)g=e.angle.toDegree(g);else if(!e.cssNumber[E.prop]){y=i.exec(e.trim(g));if(y[3]&&y[3]!=="px")if(y[3]==="%")g=parseFloat(y[2])/100*S["safeOuter"+(t?"Height":"Width")]();else{e.style(E.elem,o,g);g=u(E.elem,o);e.style(E.elem,o,orig)}}g=parseFloat(g);y=i.exec(e.trim(n));if(y){w=parseFloat(y[2]);r=y[3]||"px";if(l){w=e.angle.toDegree(w+r);r="deg"}else if(!e.cssNumber[E.prop]&&r==="%")g=g/S["safeOuter"+(t?"Height":"Width")]()*100;else if(!e.cssNumber[E.prop]&&r!=="px"){e.style(E.elem,o,(w||1)+r);g=(w||1)/u(E.elem,o)*g;e.style(E.elem,o,orig)}y[1]&&(w=(y[1]==="-="?-1:1)*w+g)}else{w=n;r=""}E.values.push({start:g,end:w,unit:r})})}return a.apply(this,arguments)};e.fx.multipleValueStep={_default:function(t){e.each(t.values,function(e,n){t.values[e].now=n.start+(n.end-n.start)*t.pos})}};e.each(["matrix","reflect","reflectX","reflectXY","reflectY"],function(t,n){e.fx.multipleValueStep[n]=function(t){var n=t.decomposed,r=e.matrix;m=r.identity();n.now={};e.each(n.start,function(e){n.now[e]=parseFloat(n.start[e])+(parseFloat(n.end[e])-parseFloat(n.start[e]))*t.pos;if((e==="scaleX"||e==="scaleY")&&n.now[e]===1||e!=="scaleX"&&e!=="scaleY"&&n.now[e]===0)return!0;m=m.x(r[e](n.now[e]))});var i;e.each(t.values,function(e){switch(e){case 0:i=parseFloat(m.e(1,1).toFixed(6));break;case 1:i=parseFloat(m.e(2,1).toFixed(6));break;case 2:i=parseFloat(m.e(1,2).toFixed(6));break;case 3:i=parseFloat(m.e(2,2).toFixed(6));break;case 4:i=parseFloat(m.e(1,3).toFixed(6));break;case 5:i=parseFloat(m.e(2,3).toFixed(6))}t.values[e].now=i})}});e.each(e.transform.funcs,function(t,n){e.fx.step[n]=function(t){var r=t.elem.transform||new e.transform(t.elem),i={};if(e.cssMultipleValues[n]||!e.cssNumber[n]&&e.inArray(n,e.transform.funcs)!==-1){(e.fx.multipleValueStep[t.prop]||e.fx.multipleValueStep._default)(t);i[t.prop]=[];e.each(t.values,function(n,r){i[t.prop].push(r.now+(e.cssNumber[t.prop]?"":r.unit))})}else i[t.prop]=t.now+(e.cssNumber[t.prop]?"":t.unit);r.exec(i,{preserve:!0})}});e.each(["matrix","reflect","reflectX","reflectXY","reflectY"],function(t,n){e.fx.step[n]=function(t){var r=t.elem.transform||new e.transform(t.elem),i={};if(!t.initialized){t.initialized=!0;if(n!=="matrix"){var s=e.matrix[n]().elements,o;e.each(t.values,function(e){switch(e){case 0:o=s[0];break;case 1:o=s[2];break;case 2:o=s[1];break;case 3:o=s[3];break;default:o=0}t.values[e].end=o})}t.decomposed={};var u=t.values;t.decomposed.start=e.matrix.matrix(u[0].start,u[1].start,u[2].start,u[3].start,u[4].start,u[5].start).decompose();t.decomposed.end=e.matrix.matrix(u[0].end,u[1].end,u[2].end,u[3].end,u[4].end,u[5].end).decompose()}(e.fx.multipleValueStep[t.prop]||e.fx.multipleValueStep._default)(t);i.matrix=[];e.each(t.values,function(e,t){i.matrix.push(t.now)});r.exec(i,{preserve:!0})}})})(jQuery,this,this.document);(function(e,t,n,r){var i=180/Math.PI,s=200/Math.PI,o=Math.PI/180,u=2/1.8,a=.9,f=Math.PI/200,l=/^([+\-]=)?([\d+.\-]+)(.*)$/;e.extend({angle:{runit:/(deg|g?rad)/,radianToDegree:function(e){return e*i},radianToGrad:function(e){return e*s},degreeToRadian:function(e){return e*o},degreeToGrad:function(e){return e*u},gradToDegree:function(e){return e*a},gradToRadian:function(e){return e*f},toDegree:function(t){var n=l.exec(t);if(n){t=parseFloat(n[2]);switch(n[3]||"deg"){case"grad":t=e.angle.gradToDegree(t);break;case"rad":t=e.angle.radianToDegree(t)}return t}return 0}}})})(jQuery,this,this.document);(function(e,t,n,r){typeof e.matrix=="undefined"&&e.extend({matrix:{}});var i=e.matrix;e.extend(i,{V2:function(t,n){e.isArray(arguments[0])?this.elements=arguments[0].slice(0,2):this.elements=[t,n];this.length=2},V3:function(t,n,r){e.isArray(arguments[0])?this.elements=arguments[0].slice(0,3):this.elements=[t,n,r];this.length=3},M2x2:function(t,n,r,i){e.isArray(arguments[0])?this.elements=arguments[0].slice(0,4):this.elements=Array.prototype.slice.call(arguments).slice(0,4);this.rows=2;this.cols=2},M3x3:function(t,n,r,i,s,o,u,a,l){e.isArray(arguments[0])?this.elements=arguments[0].slice(0,9):this.elements=Array.prototype.slice.call(arguments).slice(0,9);this.rows=3;this.cols=3}});var s={e:function(e,t){var n=this.rows,r=this.cols;return e>n||t>n||e<1||t<1?0:this.elements[(e-1)*r+t-1]},decompose:function(){var t=this.e(1,1),n=this.e(2,1),r=this.e(1,2),i=this.e(2,2),s=this.e(1,3),o=this.e(2,3);if(Math.abs(t*i-n*r)<.01)return{rotate:"0deg",skewX:"0deg",scaleX:1,scaleY:1,translateX:"0px",translateY:"0px"};var u=s,a=o,l=Math.sqrt(t*t+n*n);t/=l;n/=l;var c=t*r+n*i;r-=t*c;i-=n*c;var h=Math.sqrt(r*r+i*i);r/=h;i/=h;c/=h;if(t*i-n*r<0){t=-t;n=-n;l=-l}var p=e.angle.radianToDegree,d=p(Math.atan2(n,t));c=p(Math.atan(c));return{rotate:d+"deg",skewX:c+"deg",scaleX:l,scaleY:h,translateX:u+"px",translateY:a+"px"}}};e.extend(i.M2x2.prototype,s,{toM3x3:function(){var e=this.elements;return new i.M3x3(e[0],e[1],0,e[2],e[3],0,0,0,1)},x:function(e){var t=typeof e.rows=="undefined";if(!t&&e.rows==3)return this.toM3x3().x(e);var n=this.elements,r=e.elements;return t&&r.length==2?new i.V2(n[0]*r[0]+n[1]*r[1],n[2]*r[0]+n[3]*r[1]):r.length==n.length?new i.M2x2(n[0]*r[0]+n[1]*r[2],n[0]*r[1]+n[1]*r[3],n[2]*r[0]+n[3]*r[2],n[2]*r[1]+n[3]*r[3]):!1},inverse:function(){var e=1/this.determinant(),t=this.elements;return new i.M2x2(e*t[3],e*-t[1],e*-t[2],e*t[0])},determinant:function(){var e=this.elements;return e[0]*e[3]-e[1]*e[2]}});e.extend(i.M3x3.prototype,s,{x:function(e){var t=typeof e.rows=="undefined";!t&&e.rows<3&&(e=e.toM3x3());var n=this.elements,r=e.elements;return t&&r.length==3?new i.V3(n[0]*r[0]+n[1]*r[1]+n[2]*r[2],n[3]*r[0]+n[4]*r[1]+n[5]*r[2],n[6]*r[0]+n[7]*r[1]+n[8]*r[2]):r.length==n.length?new i.M3x3(n[0]*r[0]+n[1]*r[3]+n[2]*r[6],n[0]*r[1]+n[1]*r[4]+n[2]*r[7],n[0]*r[2]+n[1]*r[5]+n[2]*r[8],n[3]*r[0]+n[4]*r[3]+n[5]*r[6],n[3]*r[1]+n[4]*r[4]+n[5]*r[7],n[3]*r[2]+n[4]*r[5]+n[5]*r[8],n[6]*r[0]+n[7]*r[3]+n[8]*r[6],n[6]*r[1]+n[7]*r[4]+n[8]*r[7],n[6]*r[2]+n[7]*r[5]+n[8]*r[8]):!1},inverse:function(){var e=1/this.determinant(),t=this.elements;return new i.M3x3(e*(t[8]*t[4]-t[7]*t[5]),e*-(t[8]*t[1]-t[7]*t[2]),e*(t[5]*t[1]-t[4]*t[2]),e*-(t[8]*t[3]-t[6]*t[5]),e*(t[8]*t[0]-t[6]*t[2]),e*-(t[5]*t[0]-t[3]*t[2]),e*(t[7]*t[3]-t[6]*t[4]),e*-(t[7]*t[0]-t[6]*t[1]),e*(t[4]*t[0]-t[3]*t[1]))},determinant:function(){var e=this.elements;return e[0]*(e[8]*e[4]-e[7]*e[5])-e[3]*(e[8]*e[1]-e[7]*e[2])+e[6]*(e[5]*e[1]-e[4]*e[2])}});var o={e:function(e){return this.elements[e-1]}};e.extend(i.V2.prototype,o);e.extend(i.V3.prototype,o)})(jQuery,this,this.document);(function(e,t,n,r){typeof e.matrix=="undefined"&&e.extend({matrix:{}});e.extend(e.matrix,{calc:function(e,t,n){this.matrix=e;this.outerHeight=t;this.outerWidth=n}});e.matrix.calc.prototype={coord:function(t,n,r){r=typeof r!="undefined"?r:0;var i=this.matrix,s;switch(i.rows){case 2:s=i.x(new e.matrix.V2(t,n));break;case 3:s=i.x(new e.matrix.V3(t,n,r))}return s},corners:function(e,t){var n=typeof e=="undefined"&&typeof t=="undefined",r;if(!this.c||!n){t=t||this.outerHeight;e=e||this.outerWidth;r={tl:this.coord(0,0),bl:this.coord(0,t),tr:this.coord(e,0),br:this.coord(e,t)}}else r=this.c;n&&(this.c=r);return r},sides:function(e){var t=e||this.corners();return{top:Math.min(t.tl.e(2),t.tr.e(2),t.br.e(2),t.bl.e(2)),bottom:Math.max(t.tl.e(2),t.tr.e(2),t.br.e(2),t.bl.e(2)),left:Math.min(t.tl.e(1),t.tr.e(1),t.br.e(1),t.bl.e(1)),right:Math.max(t.tl.e(1),t.tr.e(1),t.br.e(1),t.bl.e(1))}},offset:function(e){var t=this.sides(e);return{height:Math.abs(t.bottom-t.top),width:Math.abs(t.right-t.left)}},area:function(e){var t=e||this.corners(),n={x:t.tr.e(1)-t.tl.e(1)+t.br.e(1)-t.bl.e(1),y:t.tr.e(2)-t.tl.e(2)+t.br.e(2)-t.bl.e(2)},r={x:t.bl.e(1)-t.tl.e(1)+t.br.e(1)-t.tr.e(1),y:t.bl.e(2)-t.tl.e(2)+t.br.e(2)-t.tr.e(2)};return.25*Math.abs(n.e(1)*r.e(2)-n.e(2)*r.e(1))},nonAffinity:function(){var e=this.sides(),t=e.top-e.bottom,n=e.left-e.right;return parseFloat(parseFloat(Math.abs((Math.pow(t,2)+Math.pow(n,2))/(e.top*e.bottom+e.left*e.right))).toFixed(8))},originOffset:function(t,n){t=t?t:new e.matrix.V2(this.outerWidth*.5,this.outerHeight*.5);n=n?n:new e.matrix.V2(0,0);var r=this.coord(t.e(1),t.e(2)),i=this.coord(n.e(1),n.e(2));return{top:i.e(2)-n.e(2)-(r.e(2)-t.e(2)),left:i.e(1)-n.e(1)-(r.e(1)-t.e(1))}}}})(jQuery,this,this.document);(function(e,t,n,r){typeof e.matrix=="undefined"&&e.extend({matrix:{}});var i=e.matrix,s=i.M2x2,o=i.M3x3;e.extend(i,{identity:function(e){e=e||2;var t=e*e,n=new Array(t),r=e+1;for(var s=0;s<t;s++)n[s]=s%r===0?1:0;return new i["M"+e+"x"+e](n)},matrix:function(){var e=Array.prototype.slice.call(arguments);switch(arguments.length){case 4:return new s(e[0],e[2],e[1],e[3]);case 6:return new o(e[0],e[2],e[4],e[1],e[3],e[5],0,0,1)}},reflect:function(){return new s(-1,0,0,-1)},reflectX:function(){return new s(1,0,0,-1)},reflectXY:function(){return new s(0,1,1,0)},reflectY:function(){return new s(-1,0,0,1)},rotate:function(t){var n=e.angle.degreeToRadian(t),r=Math.cos(n),i=Math.sin(n),o=r,u=i,a=-i,f=r;return new s(o,a,u,f)},scale:function(e,t){e=e||e===0?e:1;t=t||t===0?t:e;return new s(e,0,0,t)},scaleX:function(e){return i.scale(e,1)},scaleY:function(e){return i.scale(1,e)},skew:function(t,n){t=t||0;n=n||0;var r=e.angle.degreeToRadian(t),i=e.angle.degreeToRadian(n),o=Math.tan(r),u=Math.tan(i);return new s(1,o,u,1)},skewX:function(e){return i.skew(e)},skewY:function(e){return i.skew(0,e)},translate:function(e,t){e=e||0;t=t||0;return new o(1,0,e,0,1,t,0,0,1)},translateX:function(e){return i.translate(e)},translateY:function(e){return i.translate(0,e)}})})(jQuery,this,this.document);Function.prototype.bind=function(e){var t=this;return function(){return t.apply(e,arguments)}};Event.prototype.getActionIdx=function(e,t,n,r){if(e&&t){var i=this.events[e][t];if(!i)return-1;var s=i.length;for(var o=s-1;o>=0;o--)if(i[o].action==n&&i[o].binding==r)return o}return-1};Event.prototype.addListener=function(e,t,n,r){if(this.events[e])if(this.events[e][t]){if(this.getActionIdx(e,t,n,r)==-1){var i=this.events[e][t];i[i.length]={action:n,binding:r}}}else{this.events[e][t]=[];this.events[e][t][0]={action:n,binding:r}}else{this.events[e]=[];this.events[e][t]=[];this.events[e][t][0]={action:n,binding:r}}};Event.prototype.removeListener=function(e,t,n,r){if(this.events[e]&&this.events[e][t]){var i=this.actionExists(e,t,n,r);i>=0&&this.events[e][t].splice(i,1)}};Event.prototype.fireEvent=function(e,t,n,r){e||(e=window.event);if(t&&this.events){var i=this.events[t];if(i){var s=i[n];if(s)for(var o in s){var u=s[o].action;s[o].binding&&(u=u.bind(s[o].binding));u(e,r)}}}};Number.prototype.clamp=function(e,t){return Math.min(Math.max(this,e),t)};Math.clamp=function(e,t,n){return Math.max(t,Math.min(e,n))};vtl=window.vtl===undefined?{}:window.vtl;vtl.vtlLoadedModels={};vtl.ControllersObjects={};vtl.ObjetosResources={barco:{fps:6,x:0,y:0,w:18,h:28,oxiX:"50%",oriY:"50%",url:"barco_simples_animado_sombra.svg"},sup:{x:0,y:0,w:40,h:28,url:"barco_simples_animado_sombra.svg"}};var vtlBind=PubSub.subscribe,vtlTrigger=PubSub.publish,vtlbindAll=PubSub.subscribeAnObject,Color=net.brehaut.Color,vEV_MOUSE_DOWN="vEV_MOUSE_DOWN",vEV_MOUSE_DRAG="vEV_MOUSE_DRAG",vEV_MOUSE_UP="vEV_MOUSE_UP",vEV_MOUSE_OVER="vEV_MOUSE_OVER",vEV_MOUSE_OUT="vEV_MOUSE_OUT",vEV_MOUSE_WHELL="vEV_MOUSEWHELL",vEV_MOVE_START="vEV_MOVE_START",vEV_MOVE_STEP="vEV_MOVE_STEP",vEV_MOVE_END="vEV_MOVE_END",vEV_ANIMATION_START="vEV_MOVE_START",vEV_ANIMATION_STEP="vEV_MOVE_STEP",vEV_ANIMATION_END="vEV_MOVE_END",vEV_ZOOM_START="vEV_ZOOM_START",vEV_ZOOM_STEP="vEV_ZOOM_STEP",vEV_ZOOM_END="vEV_ZOOM_END",vEV_PAGE_LOAD,vEV_PAGE_LOAD_START,vEV_PAGE_LOAD_END,vEV_PAGE_LOAD_SHOW,vEV_PAGE_LOAD_HIDE,vEV_RESIZE="vEV_RESIZE",vEV_CARREGOU="carregou",vEV_APP_START="vEV_APP_START",vEV_CONTEUDO_LOAD="vEV_CONTEUDO_LOAD",vEV_CONTEUDO_READY="vEV_CONTEUDO_READY",vEV_CONTEUDO_MOSTRA="vEV_CONTEUDO_MOSTRA",vEV_MENU_CLICKOU="vEV_MENU_CLICKOU",vEV_MENU_CHEGOU="vEV_MENU_CHEGOU",vEV_FERRAMENTA_SELECIONADA="ferramenta selecionada",vEV_MODO_MENU="vEV_MODO_MENU",vEV_MODO_NAVEGACAO="vEV_MODO_NAVEGACAO",vEV_CENTER_VIEW_IN_POINT="vEV_CENTER_VIEW_IN_POINT",vEV_ZOOMOUT_ACTION="vEV_ZOOMOUT_ACTION",vEV_ZOOMIN_ACTION="vEV_ZOOMIN_ACTION",vEV_ZOOM_BOUNDS="vEV_ZOOM_BOUNDS",vEV_PERCURSO_LOADED="vEV_PERCURSO_LOADED",VTL_DEBUG_MODE=!0,VTL_TIMELINE=new TimelineMax,VTL_MODELS=CCM_REL+"/themes/voltaaolago_theme/models/",_SCALEMAP=1686/16113,_XMOVEMAPA=558447,_YMOVEMAPA=185317,_VTLZOOM=1,_VTLX=0,_VTLZ=0;vtl=vtl||{};var vtl_cor_azul="#22718f",vtl_cor_laranja="#22718f",vtlAppCrt,vtlMapaCrt;vtl_W=2057;vtl_H=1865;var _VTL_MARKERS;vtl.EventClass=Class.extend({_lastUpdate:0,_timeoutTemp:undefined,init:function(){_that=this;this.updateth=_that.updateInterno},bindAll:function(e){e=e||"";PubSub.subscribeAnObject(this,e)},unbindAll:function(){PubSub.unsubscribeAnObject(this)},attr:function(e,t){t=t||!0;for(at in e)try{this["_"+at]=e[at]}catch(n){}t&&this.markForUpdate();return this},markForUpdate:function(){var e=(new Date).getTime();if(this._lastUpdate+40<e){this._lastUpdate=e;this.updateInterno()}},updateInterno:function(){return!0},defineGetSetter:function(e,t,n){this[e]=function(e){if(arguments.length===0)return this[t];this[t]=e;typeof n=="function"&&n.call(this);return this[t]};this["set"+e]=function(e){if(arguments.length===0)return this[t];this[t]=e;this.updateInterno();return this[t]}},throttle:function(e,t){var n=this;return _.throttle(function(){e.call(n)},t)}});vtl.Layers=vtl.EventClass.extend({});vtl.e2D=vtl.EventClass.extend({_x:0,_y:0,_z:1,_ox:0,_oy:0,_oriX:"50%",_oriY:"50%",_w:0,_h:0,_zIndex:1,_zIndexOffset:1,_opacity:1,_rotation:0,_visible:1,_dirty:0,init:function(){this.defineGetSetter("x","_x",this.markForUpdate);this.defineGetSetter("y","_y",this.markForUpdate);this.defineGetSetter("z","_z",this.markForUpdate);this.defineGetSetter("w","_w",this.markForUpdate);this.defineGetSetter("h","_h",this.markForUpdate);this.defineGetSetter("opacity","_opacity",this.markForUpdate);this.defineGetSetter("rotation","_rotation",this.markForUpdate);this.defineGetSetter("zIndex","_zIndex",this.markForUpdate)},updateInterno:function(){return this._dirty==1||this._visible==0?!1:!0},getMapaCrt:function(){return vtl.ControllersObjects.MapaController||!1}});vtl.dom=vtl.e2D.extend({name:"dom",_pai:null,_flipY:1,_useXY:!1,_id:null,el:null,_el:null,init:function(e,t,n,r,i,s){this._super();this.x(e);this.y(t);this.w(n);this.h(r);this._id=i;this.el=$("<div></div>").attr({id:i,"class":"e2d"}).css({position:"absolute"});this._el=this.el[0];s===undefined&&(s="body");this.append(s);this.updateOrigemPos();this.updateDom()},attr:function(e){if("oriX"in e||"oriY"in e){this._oriX="oriX"in e?e.oriX:this._oriX;this._oriY="oriY"in e?e.oriY:this._oriY;this.updateOrigemPos()}"visible"in e&&(e.visible===0?this.hide():this.show());this._super(e);return this},updateOrigemPos:function(){/%/.test(this._w)||(this._ox=/%/.test(this._oriX)?this._w*parseInt(this._oriX,10)/100:parseInt(this._oriX,10));/%/.test(this._h)||(this._oy=/%/.test(this._oriY)?this._h*parseInt(this._oriY,10)/100:parseInt(this._oriY,10))},updateInterno:function(){if(this._dirty==1||this._visible==0)return!1;if(this.el==null)return!1;if(this._zIndex==null)var e=this._zIndexOffset+this._y;else var e=this._zIndex;this._el.style.zIndex=parseInt(e);this.el.transform({translate:[this._x-this._ox+"px",this._y-this._oy+"px"],rotate:this._rotation+"deg",scaleY:this._flipY*this._z,scaleX:this._z,origin:[this._oriX,this._oriY]});return!0},vEV_ANIMATION_STEP:function(e){this._x=e.x;this._y=e.y;this._z=e.z;this.updateInterno()},inViewPort:function(){ww=$(window).width();wh=$(window).height();var e=!1,t=!0;if(this.el.css("display")=="none"){e=1;this.el.css({display:"block",opacity:0})}var n=this._el.getBoundingClientRect();n.left+n.width>0&&n.right<ww&&n.top+n.height>0&&n.bottom<wh?t=!0:t=!1;e&&this.el.css({display:"none",opacity:1});return t},updateDom:function(){TweenMax.set(this.el,{css:{x:this._x,y:this._y,width:this._w,height:this._h}})},dirty:function(){this._dirty=1;this.el.css("display","none")},undirty:function(){this._dirty=0;this.el.css("display","block")},html:function(e){this.el.html(e);return this},text:function(e){this.el.text(e);return this},css:function(e){this.el.css(e);return this},"class":function(e){this.el.addClass(e);return this},append:function(e){this.el=this.el.appendTo(e);return this},div:function(){return this.el},show:function(){this._visible=1;this.el.css("display","block");return this},hide:function(){this._visible=0;this.el.css("display","none");return this},vEV_ENABLE_GPU:function(){this.el.addClass("gpu")},mouseover:function(e){this.el.mouseover(function(t){e.call(_this,t)});return this},mouseout:function(e){this.el.mouseout(function(t){e.call(_this,t)});return this},mousemove:function(e){this.el.mousemove(function(t){e.call(_this,t)});return this},click:function(e){this.el.click(function(t){e.call(_this,t)});return this},bind:function(e,t){this.el.bind(e,function(e){t.call(_this,e)});return this},follow_path:function(e,t,n){var r=n||1.5,i=r*this._h,s=[];for(var o=0;o<e.length;o++){var u=e[o],a=u.x+vtl.Util.math.randomNumber(-i,i),f=u.y+vtl.Util.math.randomNumber(-i,i);s.push({xx:parseInt(a),yy:parseInt(f)})}var l=0;for(var o=1;o<e.length;o+=2){var c=e[o-1],h=e[o];l+=vtl.Util.math.distance(c.x,c.y,h.x,h.y)}var p=l/110,d=p/25,v=d*60*60,m=this;this.xx=this._x,this.yy=this._y;this.rr=this._rotation;VTL_TIMELINE.add(TweenMax.fromTo(m,v,{xx:s[0].xx,yy:s[0].yy},{bezier:{type:"thru",timeResolution:0,curviness:0,values:s,autoRotate:["xx","yy","rr",0,!1]},onUpdateScope:m,onUpdate:function(){this._flipY=this.rr<-90||this.rr>90?-1:1;this._x=this.xx;this._y=this.yy;this._rotation=this.rr;this.markForUpdate()},ease:"Linear.easeNone",yoyo:!0,immediateRender:!0,repeat:-1}),0);return this}});LatLng=Class.extend({name:"LatLng",_lat:0,lat:0,lng:0,_lgt:0,_x:0,_y:0,_dist:0,_ele:0,init:function(e,t){this._lat=parseFloat(e);this._lgt=parseFloat(t);this.lat=this._lat;this.lng=this._lgt;var n=vtl.Util.toMercator(this._lat,this._lgt);this._x=n[0];this._y=n[1];return this},xy:function(e,t){this._x=parseFloat(e,10);this._y=parseFloat(t,10);var n=vtl.Util.inverseMercator(e,t);this._lat=parseFloat(n[0]);this._lgt=parseFloat(n[1]);this.lat=this._lat;this.lng=this._lgt;return this},latlon:function(e,t){this.init(e,t)}});vtl.Marker=vtl.e2D.extend({name:"Marker",_this:this,_layerPaiId:"#lago-layer",_refLayer:null,_options:{canScale:0,text:"1",css:{paddingTop:"15px"},cssInterno:{color:"white",paddingTop:"15px",textAlign:"center"},zoomMax:1.8,zoomOffset:0,zoomMin:0,zoomVisibleMin:0,zoomVisibleMax:10,w:26,h:47,sw:42,sh:33,ox:13,oy:47,sox:42,soy:10,image:VTL_MODELS+"marker_km.svg",shadow:VTL_MODELS+"marker_km_shadow.png"},_markerL
:null,_shadowL:null,_refL:null,_latlng:null,zoomStepTh:function(){},init:function(e,t){var n=this;this._super();this.bindAll();this._latlng=e;this.pp=this._latlng;this.opt=$.extend({},this._options,t);this._x=this.pp._x;this._y=this.pp._y;this._w=this.opt.w;this._h=this.opt.h;/\.(png||jpg)$/i.test(this.opt.image)?this._markerL=(new vtl.dom(0,0,this.opt.w,this.opt.h,"",this._layerPaiId)).css({textAlign:"center",background:'url("'+this.opt.image+'") no-repeat'}).css(this.opt.cssInterno).css(this.opt.css).text(this.opt.text):/\.svg$/i.test(this.opt.image)&&(this._markerL=(new vtl.Raphael(null,0,0,this.opt.w,this.opt.h,"",this._layerPaiId)).attr({fill:0,url:this.opt.image}).css(this.opt.cssInterno).css(this.opt.css).text(this.opt.text));this._shadowL=(new vtl.dom(this._x,this._y,this.opt.sw,this.opt.sh,"",this._layerPaiId)).html("<img src='"+this.opt.shadow+"' />");this._markerL.attr({x:this._x,y:this._y,oriX:this.opt.ox+"px",oriY:this.opt.oy+"px",zIndex:null,zIndexOffset:300}).updateInterno();this._shadowL.attr({x:this._x,y:this._y,oriX:this.opt.sox+"px",oriY:this.opt.soy+"px",zIndex:null,zIndexOffset:100}).class("shadow").updateInterno();this.el=[this._markerL._el,this._shadowL._el];this.el=$(this.el);this.zoomStepTh=_.throttle(n._zoomStep,500);n._zoomStep({z:this._z});this.updateInterno();return this},attr:function(e){"visible"in e&&(e.visible===0?this.hide():this.show());this._super(e);return this},updateInterno:function(){if(this._visible==0||this._dirty==1)return!1;this._markerL.attr({x:this._x,y:this._y,z:this._z});this._shadowL.attr({x:this._x,y:this._y,z:this._z});return!0},updateInternoFast:function(){if(this._dirty==1||this._visible==0)return!1;this._markerL.attr({x:this._x,y:this._y,z:this._z},!1).updateInterno();this._shadowL.attr({x:this._x,y:this._y,z:this._z},!1).updateInterno()},immediateUpdate:function(){this.updateInterno();this._markerL.updateInterno();this._shadowL.updateInterno()},inViewPort:function(){return this._markerL.inViewPort()},anima:function(e){this._markerL.anima(e);return this},show:function(){this._visible=1;this.el.css("display","block");this.updateInterno();return this},hide:function(){this._visible=0;this.el.css("display","none");this.updateInterno();return this},drop:function(e){var t=e||0;this.show();TweenMax.fromTo([this._markerL,this._shadowL],.1,{sety:this._y-100,setz:0},{sety:this._y,setz:this._z,delay:t,immediateRender:!0,ease:Bounce.easeOut})},mouseover:function(e){var t=this;this._markerL.el.mouseover(function(n){e.call(t,n)});return this},mouseout:function(e){var t=this;this._markerL.el.mouseout(function(n){e.call(t,n)});return this},mousemove:function(e){var t=this;this._markerL.el.mousemove(function(n){e.call(t,n)});return this},click:function(e){var t=this;this._markerL.el.css({cursor:"pointer"});this._markerL.el.click(function(n){e.call(t,n)});return this},bind:function(e,t){var n=this;this.el.bind(e,function(e){t.call(n,e)});return this},dirty:function(){this._dirty=1;this.el.css("display","none")},undirty:function(){this._dirty=0;this.el.css("display","block")},vEV_ZOOM_START:function(e){},vEV_ZOOM_STEP:function(e){this._ztemp=e.z;if(this.opt.zoomVisibleMin>e.z||this.opt.zoomVisibleMax<e.z){if(this._dirty==0&&this._visible==1){this.dirty();this.updateInternoFast()}}else if(this._dirty==1&&this._visible==1){this.undirty();this._zoomStep(e);this._dirty=0;this.updateInternoFast()}},_zoomStep:function(e){var t=this.opt.canScale?1:1/e.z;t+=this.opt.zoomOffset/e.z;t=vtl.Util.math.clamp(t,this.opt.zoomMin,this.opt.zoomMax);this._z=t;this.updateInternoFast()},vEV_ZOOM_END:function(e){this._zoomStep(e)},vEV_ANIMATION_START:function(e){this.dirty()},vEV_ANIMATION_END:function(e){this.undirty();this._zoomStep(e)},vEV_ANIMATION_STEP:function(e){}});vtl.infoWindow=vtl.Marker.extend({name:"infoWindow",_layerPaiId:"#htmlLayer",_elPai:null,_callBackfuncs:[],_options:{canScale:0,text:"1",css:{paddingTop:"5px"},cssInterno:{color:"white",paddingTop:"15px",textAlign:"center"},zoomMax:12,zoomOffset:1,zoomMin:0,zoomVisibleMin:0,zoomVisibleMax:10,w:230,h:172,sw:343,sh:130,ox:115,oy:220,sox:260,soy:-10,image:VTL_MODELS+"blank.png",shadow:VTL_MODELS+"popupinfo-shadow.png"},init:function(e,t){this._elPai=$(""+this._layerPaiId);e=e||new LatLng(0,0);latlg=this.getLatLgFromObject(e);this._refL=(new vtl.dom(e._x,e._y,1,1,"","#lago-layer")).html("");this._super(e,t);this._markerL.attr({zIndex:null,zIndexOffset:500}).html("<div id='popupinfo'><div id='popupinfo-content'></div></div><div id='popinfo-arrow'></div><div id='popinfo-close'><i class='icon-close icon'></i>x</div>");this._shadowL.attr({zIndex:null,zIndexOffset:100}).css({pointerEvents:"none"});this._conteudoL=this._markerL.el.find("#popupinfo-content");var n=this;this._markerL.el.find("#popinfo-close").click(function(){n.close()});this.updateInterno();return this},html:function(e){this._conteudoL.html(e);return this},updateInterno:function(){if(this._visible==0||this._dirty==1)return!1;var e=this._refL.el[0].getBoundingClientRect(),t=this._elPai.offset(),n=e.left-t.left,r=e.top-t.top;this._markerL.attr({x:n,y:r});this._shadowL.attr({x:n,y:r});return!0},immediateUpdate:function(){this.updateInterno();this._markerL.updateInterno();this._shadowL.updateInterno()},vEV_LAGO_LAYER_UPDATE:function(){this.updateInterno()},show:function(){this._visible=1;this.el.css("display","block");this.immediateUpdate();TweenMax.fromTo([this._markerL,this._shadowL],.4,{setz:.1},{setz:1,immediateRender:!0,ease:Back.easeOut});return this},getLatLgFromObject:function(e){if(e!==undefined&&e.name=="Marker"){var t=e._z;e=(new LatLng(0,0)).xy(e._x-e._ox+e._w/2*t,e._y-e._oy-e._h/2*t)}return e},setLatlg:function(e){this._latlng=e;this._refL.attr({x:this._latlng._x,y:this._latlng._y}).updateInterno()},open:function(e){e=this.getLatLgFromObject(e);this.setLatlg(e);this.show();return this},onClose:function(e){this._callBackfuncs=e;return this},runCallbacks:function(e){this._callBackfuncs.call()},close:function(){TweenMax.fromTo([this._markerL,this._shadowL],.4,{setz:this._z},{setz:0,immediateRender:!0,ease:Back.easeIn,onCompleteScope:this,onComplete:function(){this.hide();this.runCallbacks()}});return this},hide:function(){this._visible=0;this.el.css("display","none");this.updateInterno()},vEV_ZOOM_END:function(){},vEV_ANIMATION_STEP:function(e){this.updateInterno()},vEV_ANIMATION_START:function(e){},vEV_ANIMATION_END:function(e){}});vtl.MarkerPI=vtl.Marker.extend({_options:{canScale:0,text:"1",css:{paddingTop:"5px"},cssInterno:{color:"white",paddingTop:"15px",textAlign:"center"},zoomMax:2,zoomOffset:.6,zoomMin:0,zoomVisibleMin:0,zoomVisibleMax:10,w:30,h:51,sw:60,sh:18,ox:4,oy:48,sox:31,soy:6,image:VTL_MODELS+"marker_pi.svg",shadow:VTL_MODELS+"marker_pi_shadow.png"},vEV_ZOOM_STEP:function(e){this._super(e)},vEV_ANIMATION_START:function(e){},vEV_ANIMATION_STEP:function(e){this._zoomStep(e)},vEV_ANIMATION_END:function(e){this._zoomStep(e)}});vtl.Raphael=vtl.dom.extend({_paper:null,_viewbox:null,_oriW:0,_oriH:0,el:null,_url:"",_urlLoaded:"",_needRedraw:0,_play:0,_fit:0,_callBackfuncs:[],_fps:7,init:function(e,t,n,r,i,s,o){this._callBackfuncs=[];e==null?this._super(t,n,r,i,s,o):this._paper=e;this.raphaContainer=this.el;return this},importSVG:function(e){this.paper==null&&(this._paper=Raphael(this.raphaContainer[0],"100%","100%"));that=this;this._url=e;that.groups={};this._paper.importFileSVG(e,that.runCallbacks,this);return this},text:function(e){this.divDump().text(e);return this},click:function(e){this._paper.click(function(t){e.call(_this,t)});return this},html:function(e){this.divDump().html(e);return this},css:function(e){this.divDump().css(e);return this},divDump:function(){if(!this._divDump){this._divDump=$("<div class='htmlel' style='position:absolute;top:0;left:0;right:0;bottom:0;'></div>");this.el.append(this._divDump)}return this._divDump},runCallbacks:function(e){this.group=e;this._needRedraw=1;var t=this;for(var n=0;n<t._callBackfuncs.length;n++){var r=t._callBackfuncs[n];r[0].call(r[1],t)}this.updateInterno()},callback:function(e,t){this._callBackfuncs.push([e,t]);return this},attr:function(e){if("url"in e&&e.url!==this._urlLoaded){this.importSVG(e.url);this._urlLoaded=e.url}this._super(e);return this},updateInterno:function(){this._super();if(this._needRedraw==1){this._needRedraw=0;this._play==1&&this._anima();this._fit==1&&this._paper.fitContent()}},anima:function(e){this._play=1;this._fps=e||this._fps;return this},_anima:function(){this._paper.importGroups.anima(this._fps)},getPaper:function(e){return this._paper},getSets:function(e){return this.group}});vtlObjeto=vtl.Raphael.extend({init:function(e){if(vtl.ObjetosResources[e]){var t=vtl.ObjetosResources[e];this._super(null,t.x,t.y,t.w,t.h,e,"#lago-layer");this.attr({zIndexOffset:500});this.attr(t);this.attr({zIndex:null,fit:1,url:VTL_MODELS+t.url});return this}return!1}});vtl.Util=vtlu=function(){var e={};e.toMercator=function(e,t){var n=t*20037508.34/180,r=Math.log(Math.tan((90+e)*Math.PI/360))/(Math.PI/180);r=-r*20037508.34/180;n=n*_SCALEMAP+_XMOVEMAPA;r=r*_SCALEMAP-_YMOVEMAPA;return[n,r]},e.inverseMercator=function(e,t){e=(e-_XMOVEMAPA)/_SCALEMAP;t=-(t+_YMOVEMAPA)/_SCALEMAP;var n=e/20037508.34*180,r=t/20037508.34*180;r=180/Math.PI*(2*Math.atan(Math.exp(r*Math.PI/180))-Math.PI/2);return[r,n]};e.normalizeWheelDelta=function(){var e=[],t=null,n=30;return function(r){if(r==0)return r;if(t!=null)return r*t;var i=Math.abs(r);e:do{for(var s=0;s<e.length;++s)if(i<=e[s]){e.splice(s,0,i);break e}e.push(i)}while(!1);var o=n/e[Math.floor(e.length/3)];e.length==500&&(t=o);return r*o}}();e.slug=function(e){e=e.replace(/^\s+|\s+$/g,"");e=e.toLowerCase();var t="/_,:;",n="aaaaaeeeeeiiiiooooouuuunc------";for(var r=0,i=t.length;r<i;r++)e=e.replace(new RegExp(t.charAt(r),"g"),n.charAt(r));e=e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-");return e};e.math={fromToInterpolation:function(e,t,n,r,i,s){var o=(n-r)/(e-t),u=n-o*e,a=o*i+u;return s?n<r?this.clamp(a,n,r):this.clamp(a,r,n):a},abs:function(e){return e<0?-e:e},amountOf:function(e,t,n){return t<n?(e-t)/(n-t):(e-n)/(t-n)},clamp:function(e,t,n){return e>n?n:e<t?t:e},degToRad:function(e){return e*Math.PI/180},distance:function(e,t,n,r){var i=this.squaredDistance(e,t,n,r);return Math.sqrt(parseFloat(i))},distance3d:function(e,t,n,r,i,s){var o=r-e,u=i-t,a=s-n;return Math.sqrt(parseFloat(o*o+u*u+a*a))},lerp:function(e,t,n){return e+(t-e)*n},negate:function(e){return Math.random()<e?-1:1},radToDeg:function(e){return e*180/Math.PI},randomElementOfArray:function(e){return e[Math.floor(e.length*Math.random())]},randomInt:function(e,t){return e+Math.floor((1+t-e)*Math.random())},randomNumber:function(e,t){return e+(t-e)*Math.random()},squaredDistance:function(e,t,n,r){return(e-n)*(e-n)+(t-r)*(t-r)},withinRange:function(e,t,n){return e>=t&&e<=n}};e.parseHTML=function(e,t){var n=document.createElement("div");n.innerHTML=e;var r=n.childNodes;for(var i=0;i<r.length;i++)if(r[i].id&&r[i].id==t){delete n;return r[i]}return!1};e.parseC5page=function(e){return String(e).replace(/<\!DOCTYPE[^>]*>/i,"").replace(/<(html|head|body|title|meta)([\s\>])/gi,'<div style="display:none" class="document-$1"$2').replace(/<\/(html|head|body|title|meta)\>/gi,"</div>").replace(/.*js\/jquery.js.*/,"").replace(/.*js\/ccm.base.js.*/,"")};return e}();var objetosAnimados=[];vtl.LagoLayer=vtl.dom.extend({mapa:{},grupoSetLago:[],percursoM:{},$camera:{},paper:undefined,classid:"Lago Layer",gmaps:!1,init:function(){_.bindAll(this);this._el="#cr-stage";this.$el=$(this._el);this.rotationCam=new vtl.dom(0,0,"100%","100%","rotation-cam","#cr-stage");this._super(0,0,vtl_W,vtl_H,"lago-layer",this.rotationCam.el);this.attr({oriX:"0%",oriY:"0%"});this.loadLago();this.bindAll()},loadLago:function(){var e=this;this.paperLayer=(new vtl.Raphael(null,0,0,"100%","100%","lago-layer-raphael","#lago-layer")).callback(e.lagoLoaded,e).attr({url:VTL_MODELS+"mapa_final.svg"})},getPaper:function(){return this.paper},vEV_GOOGLE_MAPS:function(){this.gmaps=this.gmaps==1?!1:!0;this.gmaps?this.grupoSetLago.rua.hide():this.grupoSetLago.rua.show()},vEV_MOUSE_DRAG:function(e){},vEV_MOVE_STEP:function(e){this.attr(e)},vEV_MOVE_START:function(e){this.attr(e)},vEV_MOVE_END:function(e){this.attr(e)},updateInterno:function(){this._super();vtlTrigger("vEV_LAGO_LAYER_UPDATE","");TweenMax.set(this.rotationCam.el,{css:{rotation:this._rotation+"deg"}});try{}catch(e){}},update:function(e){console.log(e);TweenMax.to(this.el,0,{css:{x:e.x,y:e.y,scale:e.z,transformOrigin:"0 0"},ease:Sine.easeOut})},lagoLoaded:function(e){this.grupoSetLago=e.getSets().groups;this.paper=e.getPaper();this.paper.groups=this.grupoSetLago;setTimeout(this.createAnimationObjects,10);this.grupoSetLago.lagomouseevent[0].attr({fill:"white",opacity:"0"}).mouseover(function(){console.log("entrou lago")});this.grupoSetLago.lagomouseevent[0].mouseout(function(){console.log("saiu lago")});this.grupoSetLago.rua.attr({fill:"#969796",opacity:"1.0"}).toBack();var t=this.grupoSetLago.rua;t.opacidade=.06;vtlBind("vEV_ZOOM",function(e){var n=vtlu.math.fromToInterpolation(.36,1.2,.02,.06,e.z,!0);if(n!=t.opacidade){t.attr({opacity:n,fill:"white"});t.opacidade=n}});vtlTrigger("vEV_APP_START","");vtlTrigger("vEV_LAGO_LOADED",{paper:this.paper})},createAnimationObjects:function(){for(var e in this.paper.groups)if(/^animpath/.test(e)){var t=e.split("_"),n=this.paper.groups[e][0],r=n.getPoints();for(var i=t[2];i>=0;i--){var s=new vtlObjeto(t[1]);window.objetosAnimados.push(s);s.anima();var o=parseInt(t[3],10);s.follow_path(r,o,0)}}},moveCameraTo:function(e,t,n,r,i,s,o){var u=this;this.camerael===undefined&&(this.camerael=$("#cr-stage>div"));n||(n=1);var a=s+"px "+o+"px";i===0?setTimeout(function(){TweenMax.set(u.camerael,{css:{x:e,y:t,z:0,scale:n,rotation:r}})},0):setTimeout(function(){TweenMax.to(u.camerael,i,{css:{x:e,y:t,z:0,scale:n,rotation:r},ease:Sine.easeOut,overwrite:"all"})},0)},addPercurso:function(e){this.percursoM=new vtl.Percurso({url:e,callback:this.showPercurso,context:this});this.percursoM.setPaper(this.mapa.getPaper());return this.percursoM},showPercurso:function(e){}});vtl.LagoLayer_antigo=vtl.dom.extend({mapa:{},grupoSetLago:[],percursoM:{},$camera:{},paper:undefined,init:function(){this._div="#cr-stage";this.$div=$(this._div);Crafty.init();Crafty.viewport.clampToEntities=!1;this.$camera=$("#cr-stage>div");this.camerael=$("#cr-stage>div");this.loadLago();var e=this;vtlBind(vEV_MOUSE_DRAG,function(t,n){e.update.call(e,n)});vtlBind(vEV_ZOOM,function(t,n){e.update.call(e,n)})},loadLago:function(){var e=this;this.mapa=Crafty.e("2D, DOM, Raphael").attr({oriW:2057,oriH:1865,w:2057,h:1865}).importSVG(VTL_MODELS+"mapa_final.svg").callback(e.lagoLoaded,e)},update:function(e){console.log(e);TweenMax.to(this.camerael,0,{css:{x:e.x,y:e.y,scale:e.z},ease:Sine.easeOut})},lagoLoaded:function(e){this.grupoSetLago=e.getSets().groups;this.paper=e.getPaper();this.paper.groups=this.grupoSetLago;this.grupoSetLago.lagomouseevent[0].attr({fill:"white",opacity:"0"}).mouseover(function(){console.log("entrou lago")});this.grupoSetLago.lagomouseevent[0].mouseout(function(){console.log("saiu lago")});this.grupoSetLago.rua.attr({fill:"#969796",opacity:"1.0"}).toBack();var t=this.grupoSetLago.rua;t.opacidade=.06;vtlBind("deuzoom",function(e,n){var r=vtlu.math.fromToInterpolation(.36,1.2,.02,.06,n,!0);if(r!=t.opacidade){t.attr({opacity:r,fill:"white"});t.opacidade=r}});vtlTrigger("vEV_APP_START","")},setupObjetosAnimados:function(){},moveCameraTo:function(e,t,n,r,i,s,o){var u=this;this.camerael===undefined&&(this.camerael=$("#cr-stage>div"));n||(n=1);var a=s+"px "+o+"px";i===0?setTimeout(function(){TweenMax.set(u.camerael,{css:{x:e,y:t,z:0,scale:n,rotation:r}})},0):setTimeout(function(){TweenMax.to(u.camerael,i,{css:{x:e,y:t,z:0,scale:n,rotation:r},ease:Sine.easeOut,overwrite:"all"})},0)},addPercurso:function(e){this.percursoM=new vtl.Percurso({url:e,callback:this.showPercurso,context:this});this.percursoM.setPaper(this.mapa.getPaper());return this.percursoM},showPercurso:function(e){}});vtl.HtmlLayer=vtl.Layers.extend({divs:[],_that:this,init:function(){this._div="#htmlLayer";this.$div=$(this._div);var e=this.divs=[],t={x:0,y:0,rotX:0,rotY:0,rotZ:0,rotation:"0 0 0",oriX:50,oriY:50,origem:"0% 0%",perspective:"0",zoom:!1,scale:1,scalerate:1,showin:!1,showinzoom:1,showinraio:500,showinzoomdelta:.5,mostrando:!0,pin:!1};$("#htmlLayer > div, .layer").each(function(n){var r=$(this),i=r.offset();if(r.data("x")===undefined){r.data("x",i.left);r.data("y",i.top)}objetoData=r.data();divInfo=$.extend({},t,objetoData);var s=divInfo.origem.split(" ");divInfo.oriX=parseInt(s[0],10)/100;divInfo.oriY=parseInt(s[1],10)/100;var o=divInfo.rotation.split(" ");divInfo.rotX=parseInt(o[0],10);divInfo.rotY=parseInt(o[1],10);divInfo.rotZ=parseInt(o[2],10);divInfo.width=r.width();divInfo.height=r.height();divInfo.jdiv=r;divInfo.showin;divInfo.elWatcherID=Crafty.e("2D, DOM").attr({x:divInfo.x,y:divInfo.y,w:1,h:1}).getDomId();divInfo.elWatcher=document.getElementById(divInfo.elWatcherID);r.data("infos",divInfo);e.push(divInfo)});this.moveCameraTo(0,0,1,0,0,0,0)},moveCameraTo:function(e,t,n,r,s,o,u){for(i=0,f=this.divs.length;i<f;i++){var a=n,l=this.divs[i],c=l.jdiv,h=!0;if(l.showin){h=!1;var p=l.showinzoomdelta;if(l.showinzoom<n+p&&l.showinzoom>n-p){var d=e+(l.x*n-l.width*l.oriX),v=t+(l.y*n-l.height*l.oriY);if(d<l.showinraio&&d>-l.showinraio&&v<l.showinraio&&v>-l.showinraio){h=!0;l.mostrando===!1&&(l.mostrando=!0)}}if(h===!1&&l.mostrando===!0){l.mostrando=!1;TweenMax.to(c,.3,{css:{autoAlpha:0},onCompleteScope:l,onComplete:function(){this.mostrando=!1}})}}if(h){var m=l.x,g=l.y;m*=n;g*=n;m+=e;g+=t;if(l.pin){m=0;g=0}m-=l.width*l.oriX;g-=l.height*l.oriY;scala=l.zoom?n*l.scale:1;TweenMax.killTweensOf(c);TweenLite.to(c,s,{css:{top:g,left:m,scale:scala,autoAlpha:1,transformOrigin:l.origem,overwrite:"auto",roundProps:"top,left"}})}}}});vtl.Percurso=vtl.EventClass.extend({name:"Percurso",_points:[],_pointsCartesian:[],_pointsKmCartesian:[],_elevation:[],paper:{},_groups:[],_set:undefined,_kmsets:{},_distTotalKm:0,_distTotalCart:0,_trechos:undefined,kmPoints:[],_kmsMarkers:null,_pisMarkers:null,_percursoMarkers:[],_popupInfo:null,defaults:{line:{stroke:"#333","stroke-width":1.5,"stroke-dasharray":"- "},kms:{stroke:"#F9662B","stroke-width":1,fill:"#D88518",size:2},paper:{},url:"",showKms:!0,showStartEnd:!0,callback:undefined,context:{}},init:function(e){vtl.ControllersObjects[this.name]=this;this.bindAll();_.bindAll(this);this.defaults=$.extend(this.defaults,e);this.paper=this.defaults.paper;var t=this;this.gpx=new vtl.GPX(VTL_MODELS+"percurso.gpx",{async:!0});this._popupInfo=new vtl.infoWindow;window.vtlPopupInfo=window.vtlInfoWindow=this._popupInfo;return this},vEV_GPX_LOADED:function(e){this.gpx=e;this.points=this.gpx._get_points_avarege_dist(60);this.showPercurso();var t=this;$.ajax({type:"GET",url:this.defaults.url,context:t,dataType:"json",success:function(e){this._trechos=e.trechos;vtlTrigger("vEV_TRECHOS_INFO_LOADED")}})},vEV_TRECHOS_INFO_LOADED:function(){this._showPis();vtlTrigger("vEV_PERCURSO_LOADED")},vEV_TASK_SHOWKMS:function(){this._toogleKms()},vEV_SHOW_KMS:function(){this._showKms()},vEV_HIDE_KMS:function(){this._hideKms()},vEV_SHOW_PIS:function(){this._showPis()},vEV_HIDE_PIS:function(){this._hidePis()},vEV_ZOOM_END:function(e){if(this._percurso){var t=vtl.Util.math.fromToInterpolation(.35,2.2,3,.6,e.z,!0);this._percurso.attr({"stroke-width":t})}},vEV_TASK_RITMO:function(){this._toggleRitmo()},vEV_TASK_ALTIMETRIA:function(){this._toggleAltimetria()},vEV_TASK_TRECHOS:function(){this._toggleTrechos()},vEV_MODO_NAVEGACAO:function(){$(".ritmo .altimetria .trechos").removeClass("active");this._hideAltimetria()},showPercurso:function(){var e="M";for(var t=0;t<this.points.length;t++){var n=this.points[t];e+=n._x+","+n._y+"L"}var r=this.defaults.line;this._percurso=this.paper.path(e).attr(r);this.paper.setStart();var i=this.paper.groups.barcos[0];this._percurso.insertBefore(i)},createKms:function(){this.kmPoints=this.gpx._get_km_points();this._kmsMarkers=[];for(i=1;i<this.kmPoints.length;i+=1){var e=this.kmPoints[i],t={text:i,zoomOffset:0,zoomVisibleMin:.5,zoomMax:1.2,imagesss:VTL_MODELS+"blank.png"};i%5==0&&(t={css:{paddingTop:"5px"},image:VTL_MODELS+"marker_km_cinza.png",text:i,zoomMax:1.5,zoomOffset:.1,zoomVisibleMin:0});var n=(new vtl.Marker(e,t)).attr({visible:0});this._kmsMarkers.push(n)}},_showKms:function(){this._kmsMarkers==null&&this.createKms();if($(".showkms").hasClass("active"))return!1;$(".showkms").addClass("active");var e=0;_.each(this._kmsMarkers,function(t,n){t.inViewPort()&&e++});var t=0,n=2/e;n=vtl.Util.math.clamp(n,.01,.2);_.each(this._kmsMarkers,function(e,r){if(e.inViewPort()){e.drop(t*n);t++}else e.show()})},_hideKms:function(){this._kmsMarkers!==null&&_.each(this._kmsMarkers,function(e){e.hide()});$(".showkms").removeClass("active")},_toogleKms:function(){$(".showkms").hasClass("active")?this._hideKms():this._showKms()},_createPis:function(){this._pisMarkers=[];var e=0;for(var t=0;t<this._trechos.length;t++){var n=this._trechos[t];if(n.kmInicio!==undefined){kmanterior=n.kmInicio;kmatual=n.kmInicio}n.kmInicio===undefined&&(n.kmInicio=kmatual);var r=this.gpx._getPointInKm(kmatual);kmatual+=n.distancia;if(n.tipo=="trecho"){if(e==0)var i=(new vtl.MarkerPI(r,{text:"",image:VTL_MODELS+"marker_start_finish.svg",h:75,oy:73})).anima(2);else var i=(new vtl.MarkerPI(r,{text:e})).attr({visible:0});e++;i.info=n;i.infoStr="<div class='trecho-"+t+"' data-trecho="+t+">                  <h2 style='font-size:1.2em' class='titulo'>"+n.nome+"</h2>                  <div>Distancia: <b>"+n.distancia+"km</b></div>                  <div>Abertura: <b>"+n.abertura+"</b></div>                  <div>Fechamento: <b>"+n.fechamento+"</b></div>                  <div><a onclick=\"vtlTrigger('vEV_MODO_NAVEGACAO','');vtlTrigger('_showAltimetria',"+e+");\"><b><i class=\"icon-signal\"></i></b> altimetria</a>&emsp;                       <a onclick=\"vtlTrigger('vEV_MODO_NAVEGACAO','');vtlTrigger('_showTrechos');\"><b>+</b> info</a></div>";i.click(function(){vtlPopupInfo.open(this).html(this.infoStr).onClose(function(){vtlTrigger("_fechaTrechoPopup")});vtlTrigger("vEV_SHOW_TRACADO_TRECHO",this.info)});this._pisMarkers.push(i);_pisMarkers=this._pisMarkers}}var r=this.gpx._getPointInKm(40),i=(new vtl.MarkerPI(r,{text:"",image:VTL_MODELS+"marker_60km.svg",h:75,oy:73})).anima(2);i.info=this._trechos[0];i.infoStr="<div class='trecho-"+t+"' data-trecho="+t+">                  <h2 style='font-size:0.8em' class='titulo'>Largada 60km</h2>                  <div>Abertura: <b>9h</b>";i.click(function(){vtlPopupInfo.open(this).html(this.infoStr).onClose(function(){vtlTrigger("_fechaTrechoPopup")});vtlTrigger("vEV_SHOW_TRACADO_TRECHO",this.info)})},_showPis:function(){this._pisMarkers==null&&this._createPis();var e=0,t=.18;_.each(this._pisMarkers,function(n,r){if(n.inViewPort()){n.drop(e*t);e++}else n.show()})},_hidePis:function(){this._pisMarkers!==null&&_.each(this._pisMarkers,function(e){e.hide()})},vEV_SHOW_TRACADO_TRECHO:function(e){this._showTrechoTrack(e)},_showTrechoTrack:function(e){this._removeTrechoTrack();var t=this._getTrechoPoints(e);e.points=t;this._trechoAtivo=e;this._altimetriaTrecho(e);var n="M";for(var r=0;r<t.length;r++){var i=t[r];n+=i._x+","+i._y+"L"}var s=this.defaults.line;this._trechoPath=this.paper.path(n).attr(s).attr({"stroke-dasharray":"","stroke-width":2,stroke:"#d32b21"}).showProgressive(3e3)},_fechaTrechoPopup:function(){this._removeTrechoTrack();$(".altimetria").hasClass("active")&&this._showAltimetria()},_removeTrechoTrack:function(){if(this._trechoPath!==undefined)try{this._trechoPath.stoptween().remove();this._trechoPath===undefined;delete this._trechoAtivo}catch(e){}},_getTrechoPoints:function(e){return this.gpx._getPointsInTrecho(e.kmInicio,e.kmInicio+e.distancia)},_altimetriaTrecho:function(e){$(".altimetria").hasClass("active")&&this._showAltimetria(e)},_toggleAltimetria:function(){$(".altimetria").hasClass("active")?this._hideAltimetria():this._trechoAtivo?this._showAltimetria(this._trechoAtivo):this._showAltimetria()},_hideAltimetria:function(){if(this._paperChart!==undefined){var e=this,t=$("#chart").width(),n=$("#chart").height();TweenMax.to($("#chart"),.6,{bottom:-n,ease:Back.easeIn,onComplete:function(){e._paperChart.remove();delete e._paperChart;$(".altimetria").removeClass("active")}});return}},_showAltimetria:function(e){if(typeof e=="number"){e=this._trechos[e];e.points=this._getTrechoPoints(e)}var t=this,n=$("#chart").width(),i=$("#chart").height();$(".altimetria").addClass("active");this._paperChart=Raphael($("#chart")[0],"100%","100%");_paperChart=this._paperChart;var s=[],o=[],u=e?e.points:this.points,a=[];if(u.length>600){for(var f=0,l=u.length,c=parseInt(l/600,10);f<u.length;f+=c)a.push(u[f]);u=a}var h=u.length;for(f=0;f<h;f++)if(u[f].meta){s.push(u[f]._dist/1e3);o.push(u[f].meta.ele)}this._grafico=this._paperChart.linechart(30,10,n-30,i-20,s,o,{shade:!0,smooth:!0,colors:["#f5b60c"],symbol:"circle",axis:"0 0 1 1",axisxstep:30,axisystep:10});this._paperChart.drawGrid(0,0,n,i,n/30,i/10,"#999").toBack();this._grafico.hoverColumn(function(e){this.tags=_paperChart.set();r=_paperChart;for(var n=0,i=this.y.length;n<i;n++){console.log(this.axis);this.tags.push(r.tag(this.x,this.y[n],parseInt(this.values[n],10),160,10).insertBefore(this).attr([{fill:"#000"},{fill:this.symbols[n].attr("fill")}]).toFront())}var s=this.axis,o=t.gpx._getPointInKm(s);t.pointtemp=t.paper.circle(o._x,o._y,5).attr({fill:"red"});vtlTrigger(vEV_CENTER_VIEW_IN_POINT,o)},function(){t.pointtemp&&t.pointtemp.remove();this.tags&&this.tags.remove()});var p=this._grafico.lines[0],d=this._grafico.shades[0],v=d.attr("path").toString(),m=d.getBBox(),g="s 1 0.1 0 "+m.y2,y=Raphael.transformPath(v,g),b=Raphael.parsePathString(v.toString()),w=Raphael.parsePathString(y.toString()),E=(new TimelineMax).pause(),S=w;TweenMax.to($("#chart"),1,{bottom:"0",ease:Back.easeOut,onComplete:function(){}});d.attr({path:y}).animate({path:b},1e3,"<>");p.attr({path:y}).animate({path:b},2e3,"bounce").remove();window.linha=d;window.grafico=this._grafico;this._grafico.symbols.attr({r:2});this._grafico.axis[0].text.attr({fill:"white","font-color":"white"}).transform("t0 0").toFront();this._grafico.axis[1].text.attr({fill:"white","font-color":"white"}).transform("t0 0").toFront()},_showRitmo:function(){var e={};e.html=this._criaCalculoRitmoHTML();e.callback=this._calculoRitmoJS;vtlTrigger("vEV_MOSTRA_CONTEUDO_LATERAL",e);_.delay(function(){$(".ritmo").addClass("active")},2e3);$(".trechos").removeClass("active")},_hideRitmo:function(){vtlTrigger("_hideLateral");$(".ritmo").removeClass("active")},_toggleRitmo:function(){$(".ritmo").hasClass("active")?this._hideRitmo():this._showRitmo()},_criaCalculoRitmoHTML:function(){var e="<div class='row-fluid'><div class='span12' id='trechosRitmo'>";e+='<div class="row-fluid ">            <div class="span6"><h3>Horrio Largada </h3> </div>            <select  class="span5" id="hor-largada" name="psclID"><option value="06h15m">06:15</option><option value="07h00m">07:00</option><option value="07h30m">07:30</option></select>            <div class="info" style="margin-top:-10px;line-height:10px"></div></div>';for(var t=0;t<this._pisMarkers.length;t++){var n=this._pisMarkers[t];e+='<div class="row-fluid ritmo">            <div class="span6"><h3>&emsp;'+n.info.nome+" - <small> "+n.info.distancia+' km</small> </h3> </div>            <input  class="span5 input-mini trecho-ritmo" data-abertura="'+n.info.abertura+'" data-fechamento="'+n.info.fechamento+'" data-dist="'+n.info.distancia+'" id="prependedInput" type="text" placeholder="0h00m">            <div class="info"></div></div>'}e+="<div class='row-fluid'>                <div class='span6'>                   <h3  style='font-size:14px;text-align:left'>Tempo total:<div id='tempototal'> 0h</div></h3>                </div>                 <div class='span6'>                   <h3  style='font-size:12px;text-align:left'>Mdia do Ritmo:<div id='pacemedio'> 0 min/h</div></h3>                 </div>                </div>                </div></div>";return e},_calculoRitmoJS:function(){window.convInMinutos=function(e){var t=e.match(/(\d+)h(\d+)m/);return t!=null?parseInt(t[1]*60,10)+parseInt(t[2],10):0};$(".trecho-ritmo:eq(0)").focus();$(".trecho-ritmo").mask("9h99m");$(".trecho-ritmo, #hor-largada").change(function(){var e=0,t=0,n=convInMinutos($("#hor-largada").val());$(".trecho-ritmo").each(function(r){var i=$(this).val(),s=i.match(/(\d+)h(\d+)m/);if(s!=null){var o=parseInt(s[1]*60,10)+parseInt(s[2],10),u=$(this).data("dist");t+=u;var a=o/u,f=convInMinutos($(this).data("fechamento"));e+n<n?$(this).parents(".ritmo").find(".info").text("Ritmo de "+a.toFixed(2)+" fica fora do Horrio de Abertura").css("color","red"):e+n+o>f?$(this).parents(".ritmo").find(".info").text("Ritmo de "+a.toFixed(2)+" fica fora do Horrio de Fechamento").css("color","red"):$(this).parents(".ritmo").find(".info").text("Ritmo de "+a.toFixed(2)+" min/km").css("color","yellow");e+=o}else $(this).parents(".ritmo").find(".info").text("")});$("#tempototal").text(Math.floor(e/60)+"h "+e%60+"m");$("#pacemedio").text((e/t).toFixed(1)+" min/h")})},_showTrechos:function(){var e={};e.html=this._criaTrechosInfo();e.callback=this._trechosInfoJS;vtlTrigger("vEV_MOSTRA_CONTEUDO_LATERAL",e);_.delay(function(){$(".trechos").addClass("active")},1e3);$(".ritmo").removeClass("active")},_hideTrechos:function(){vtlTrigger("_hideLateral");$(".trechos").removeClass("active")},_toggleTrechos:function(){$(".trechos").hasClass("active")?this._hideTrechos():this._showTrechos()},_criaTrechosInfo:function(){var e="<ul id='trecho-infos' class='unstyled'>";for(var t=0;t<this._trechos.length;t++){var n={info:this._trechos[t]};e+="<li class='trecho-"+t+"' data-trecho="+t+"><h3 style='margin:5px'><a class='trechoinfo trecho-"+t+"' href='#'>"+n.info.nome+" <small><i> - "+n.info.distancia+"</i> km </small></a></h3><div class='info-trecho'>"+n.info.info+"</li>"}e+="</ul>";return e},_trechosInfoJS:function(){$("#trecho-infos h3").click(function(e){$(".info-trecho").slideUp();$(this).parent().find(".info-trecho").slideToggle();var t=$(this).parent().data("trecho");vtlTrigger("vEV_TRECHO_CLICADO_MENU",t)})},vEV_TRECHO_CLICADO_MENU:function(e){vtlTrigger("vEV_SHOW_TRACADO_TRECHO",this._trechos[e])},pegaPontosOptimizados:function(){var e=[];for(var t=0;t<this._distTotalCart;t+=this._distTotalCart/100)e.push(this._set.getPointAtLength(t));return e},setPaper:function(e){this.paper=e},updateInfos:function(){this._distTotalCart=this._set.getTotalLength();this._distTotalKm=this.getTotalDistance();this._pointsKmCartesian=[];for(i=0;i<this._distTotalKm;i++){var e=i*this._distTotalCart/this._distTotalKm,t=this._set.getPointAtLength(e);this._pointsKmCartesian.push([t.x,t.y])}this.getElevation()},showKmsAntigo:function(){var e=this.defaults.kms;this.paper.setStart();this._pointsKmCartesian=[];for(i=0;i<this._distTotalKm;i++){var t=i*this._distTotalCart/this._distTotalKm,n=this._set.getPointAtLength(t);this._pointsKmCartesian.push([n.x,n.y]);var r=this.paper.circle(n.x,n.y,this.defaults.kms.size).attr(e),s=this.paper.circle(n.x,n.y,this.defaults.kms.size*3).attr({opacity:0,fill:"black"});s.text=i+" km";s.sizeo=this.defaults.kms.size;s.marker=r;s.mouseover(function(){TweenMax.to(this.marker,.3,{raphael:{"stroke-width":this.sizeo+8}});this.flag=this.paper.flag(this.getBBox().x+10,this.getBBox().y+this.sizeo/2,this.text,45).attr({opacity:.1}).animate({opacity:1},1e3,">")});s.mouseout(function(){TweenMax.to(this.marker,.5,{raphael:{"stroke-width":"-=8"},delay:.2});this.flag&&this.flag.remove()})}this._kmsets=this.paper.setFinish()},showKmsLabels:function(e){var t=this;if(t._kmsmarkes){t._kmsmarkes.remove();delete t._kmsmarkes;$(".kmmarks").removeClass("active")}else{t.paper.setStart();$(".kmmarks").addClass("active");var n=this.defaults.kms;for(i=1;i<t._pointsKmCartesian.length-1;i++){var r=t._pointsKmCartesian[i],s=i;i==99&&(s=100);var o=t.paper.circle(r[0],r[1],t.defaults.kms.size).attr(n),u=t.paper.flag(r[0],r[1]-3,s,90).attr({font:"9px Arial, sans-serif, bolder"});u[1].attr({fill:"white"}).transform("...r90");u[0].attr({fill:vtl_cor_azul,"stroke-width":0})}t._kmsmarkes=t.paper.setFinish()}},getElevation:function(){var e=[];for(var t=0,n=this._points.length;t<n;t++){pp=this._points[t];e.push(new google.maps.LatLng(pp[0],pp[1]))}var r=new google.maps.Polyline({path:e}),i={path:e,samples:256},s=new google.maps.ElevationService,o=this;s.getElevationAlongPath(i,function(e,t){return o.elevationCallback.call(o,e,t)})},getElevationTrecho:function(e){var t=this._trechos[e],n=t.obj,r=[];for(var i=0,s=n.getTotalLength();i<s;i+=s/255){pp=n.getPointAtLength(i);ppMap=
vtl.Util.inverseMercator(pp.x,pp.y);r.push(new google.maps.LatLng(ppMap[0],ppMap[1]))}var o=new google.maps.Polyline({path:r});this.trechoAtual.distancia=o.inKm();var u={path:r,samples:256},a=new google.maps.ElevationService,f=this;a.getElevationAlongPath(u,function(e,t){return f.elevationTrechoCallback.call(f,e,t)})},elevationCallback:function(e,t){t==google.maps.ElevationStatus.OK?this._elevationResultArray=e:console.log("ocorreu um erro ao pegar as alturas")},elevationTrechoCallback:function(e,t){if(t==google.maps.ElevationStatus.OK){this._trechoElevationResultArray=e;this.showElevation(1)}else console.log("ocorreu um erro ao pegar as alturas")},showElevation:function(e){var t=this,n=$("#chart").width(),s=$("#chart").height();if(this._paperChart!==undefined){TweenMax.to($("#chart"),.6,{bottom:-s,ease:Back.easeIn,onComplete:function(){t._paperChart.remove();delete t._paperChart;$(".altimetria").removeClass("active")}});return}$(".altimetria").addClass("active");this._paperChart=Raphael($("#chart")[0],"100%","100%");_paperChart=this._paperChart;var o=[],u=[],a=e?this._trechoElevationResultArray:this._elevationResultArray,f=a.length;if(e){var l=this.trechoAtual.kmInicio;for(i=0;i<f;i++){o.push(i*(this.trechoAtual.distancia/f)+l);u.push(a[i].elevation)}}else for(i=0;i<f;i++){o.push(i*(this._distTotalKm/f));u.push(a[i].elevation)}this._grafico=this._paperChart.linechart(30,10,n-30,s-20,o,u,{shade:!0,smooth:!0,colors:["#f5b60c"],symbol:"circle",axis:"0 0 1 1",axisxstep:30,axisystep:10});this._paperChart.drawGrid(0,0,n,s,n/30,s/10,"#999").toBack();this._grafico.hoverColumn(function(e){this.tags=_paperChart.set();r=_paperChart;for(var n=0,i=this.y.length;n<i;n++){console.log(this.axis);this.tags.push(r.tag(this.x,this.y[n],parseInt(this.values[n],10),160,10).insertBefore(this).attr([{fill:"#000"},{fill:this.symbols[n].attr("fill")}]).toFront())}var s=this.axis,o=t.getPointFromKm(s);t.pointtemp=t.paper.circle(o.x,o.y,5).attr({fill:"red"});vtlTrigger(vEV_CENTER_VIEW_IN_POINT,o)},function(){t.pointtemp&&t.pointtemp.remove();this.tags&&this.tags.remove()});var c=this._grafico.lines[0],h=this._grafico.shades[0],p=h.attr("path").toString(),d=h.getBBox(),v="s 1 0.1 0 "+d.y2,m=Raphael.transformPath(p,v),g=Raphael.parsePathString(p.toString()),y=Raphael.parsePathString(m.toString()),b=(new TimelineMax).pause(),w=y;TweenMax.to($("#chart"),1,{bottom:"0",ease:Back.easeOut,onComplete:function(){}});h.attr({path:m}).animate({path:g},1e3,"<>");c.attr({path:m}).animate({path:g},2e3,"bounce").remove();window.linha=h;window.grafico=this._grafico;this._grafico.symbols.attr({r:2});this._grafico.axis[0].text.attr({fill:"white","font-color":"white"}).transform("t0 0").toFront();this._grafico.axis[1].text.attr({fill:"white","font-color":"white"}).transform("t0 0").toFront()},getPointFromKm:function(e){var t=this._set.getPointAtLength(e/this._distTotalKm*this._distTotalCart);return t},getCartFromKm:function(e){return e/this._distTotalKm*this._distTotalCart},getTotalDistance:function(){var e=[];for(var t=0,n=this._points.length;t<n;t++){pp=this._points[t];e.push(new google.maps.LatLng(pp[0],pp[1]))}var r=new google.maps.Polyline({path:e});return r.inKm()},show:function(){this._set.show()},hide:function(){this._set.hide()},showTrechos:function(){if(!this._trechos)return;if(this.trechosSet){this.trechosSet.remove();this.pontosDeTrocaSet.remove();delete this.trechoAtual;$("#trechoLayer").remove();$("#trecho").remove();$(".trechos").removeClass("active");delete this.pontosDeTrocaSet;delete this.trechosSet;return}$(".trechos").addClass("active");var e=0,t=0,n=0;this.pontosDeTrocaSet=this.paper.set();this.trechosSet=this.paper.set();$("<div id='trechoLayer' style='font-size:10px'></div>").appendTo("#trechos-tab");var r="<ul class='unstyled'>";for(var i=0;i<this._trechos.length;i++){var s=this._trechos[i];if(s.kmInicio!==undefined){t=s.kmInicio;e=s.kmInicio}s.kmInicio===undefined&&(s.kmInicio=e);e+=s.distancia;var o=this.getPointFromKm(e);if(s.tipo=="trecho"){n++;var u=this.paper.drop(o.x,o.y,"PI "+(n+1),90).attr({font:"9px Arial, sans-serif, bolder"});u[1].attr({fill:"white"});u[0].attr({fill:"#d43c1f","stroke-width":0});u[0].node.className.baseVal="cursor-pointer";u[0].hover(function(){vtlTrigger("trechoInfoHover",this.i+1)},function(){vtlTrigger("trechoInfoOut",this.i+1)});u[0].i=i;this.pontosDeTrocaSet.push(u)}var a=this._set.getSubpath(this.getCartFromKm(t),this.getCartFromKm(e));t=e;var f=this.paper.path(a).attr({stroke:"red","stroke-width":8,opacity:0}).hover(function(e){vtlTrigger("trechoInfoHover",this.index)},function(e){vtlTrigger("trechoInfoOut",this.index)});f.click(function(e){vtlTrigger("trechoInfoClique",this.index)});f.node.className.baseVal="cursor-pointer";var l=s.info;r+="<li class='trecho-"+i+"' data-trecho="+i+"><a class='trecho-"+i+"' href='#'>"+s.nome+"<i> - "+s.distancia+"</i> km <div class='info-trecho'>"+l+"</li>";f.index=i;this._trechos[i].obj=f;this.trechosSet.push(f)}this.pontosDeTrocaSet.toFront();r+="</ul>";$("#trechoLayer").html(r);$("#trechoLayer li").click(function(e){e.preventDefault();vtlTrigger("trechoInfoClique",$(this).data("trecho"));return!1})},trechoInfoHover:function(e){var t=this._trechos[e];$("#trecho").remove();t.obj.attr({opacity:1});$(".info-trecho").hide();this.trechoAtual=this._trechos[e];$("li.trecho-"+e+" .info-trecho").show()},trechoInfoOut:function(e){var t=this._trechos[e];this.trechosSet.attr({opacity:0});$("#trecho").remove();delete this.trechoAtual},trechoInfoClique:function(e){this.trechoInfoOut(e);this.trechoInfoHover(e);this.trechoAtual=this._trechos[e];var t=this.trechoAtual.obj.getBBox();vtlTrigger("vEV_ZOOM_BOUNDS",t);if(this._paperChart!==undefined){this.showElevation();var n=this;setTimeout(function(){n.getElevationTrecho(e)},1650)}},hideAllMarkes:function(){this.trechosSet&&this.showTrechos();this._kmsmarkes&&this.showKmsLabels();this._paperChart!==undefined&&this.showElevation()},mostraTrecho:function(){}});vtl.PercursoANTIGO=vtl.EventClass.extend({_points:[],_pointsCartesian:[],_pointsKmCartesian:[],_elevation:[],paper:{},_groups:[],_set:undefined,_kmsets:{},_distTotalKm:0,_distTotalCart:0,_trechos:undefined,_kmsMarkers:[],_piMarkers:[],_percursoMarkers:[],_popupInfo:null,defaults:{line:{stroke:"#333","stroke-width":1.5,"stroke-dasharray":"- "},kms:{stroke:"#F9662B","stroke-width":1,fill:"#D88518",size:2},paper:{},url:"",showKms:!0,showStartEnd:!0,callback:undefined,context:{}},init:function(e){this.bindAll();this.defaults=$.extend(this.defaults,e);this.paper=this.defaults.paper;var t=this;showkms=function(){return t.showKmsLabels.call(t)};showElev=function(){return t.showElevation.call(t)};showTrechos=function(){return t.showTrechos.call(t)};this.gpx=new vtl.GPX(VTL_MODELS+"percurso.gpx",{async:!0});vtlBind("mostrarkms",showkms);vtlBind("mostrartrechos",showTrechos);vtlBind("mostraAltura",showElev);vtlBindScope("trechoInfoHover",t.trechoInfoHover,this);vtlBindScope("trechoInfoOut",t.trechoInfoOut,this);vtlBindScope("trechoInfoClique",t.trechoInfoClique,this);this._popupInfo=new vtl.infoWindow;window.vtlPopupInfo=this._popupInfo;$.ajax({type:"GET",url:this.defaults.url,context:this,dataType:"json",success:function(e){this._points=[];this._pointsCartesian=[];for(var t=0;t<e.trackPoints.length;t++){var n=e.trackPoints[t];this._points.push([n.latitude,n.longitude]);pxy=vtl.Util.toMercator(n.latitude,n.longitude);this._pointsCartesian.push([pxy[0],pxy[1]])}this._trechos=e.trechos}});return this},vEV_GPX_LOADED:function(e){this.gpx=e;window.gpx=e;this.points=this.gpx.get_points();console.log(this.points.length);this.points=this.gpx._get_points_avarege_dist(60);console.log(this.points.length);this.showPercurso2();this.showKms();this.showPI()},showPercurso2:function(){var e="M";for(var t=0;t<this.points.length;t++){var n=this.points[t];e+=n._x+","+n._y+"L"}var r=this.defaults.line;this._percurso=this.paper.path(e).attr(r);this._percurso.hover(function(e){console.log(e)},function(){});this.paper.setStart();var i=this.paper.groups.barcos[0];this._percurso.insertBefore(i)},showKms:function(){var e=this.defaults.kms;this.paper.setStart();this.kms=this.gpx._get_km_points();for(i=0;i<this.kms.length;i+=1){var t=this.kms[i],n={text:i,zoomOffset:0,zoomVisibleMin:.5,zoomMax:1.2,imagesss:VTL_MODELS+"blank.png"};i%5==0&&(n={css:{paddingTop:"5px"},image:VTL_MODELS+"marker_km_cinza.png",text:i,zoomMax:1.5,zoomOffset:.1,zoomVisibleMin:0});var r=(new vtl.Marker(t,n)).mouseover(function(){console.log(this.opt.text)});this._kmsMarkers.push(r);r.click(function(){vtlPopupInfo.open(this).html("<h2>"+this.opt.text+" km</h2>")})}this._kmsets=this.paper.setFinish()},showPI:function(){pontoTrocasCount=0;for(var e=0;e<this._trechos.length;e++){var t=this._trechos[e];if(t.kmInicio!==undefined){kmanterior=t.kmInicio;kmatual=t.kmInicio}t.kmInicio===undefined&&(t.kmInicio=kmatual);kmatual+=t.distancia;var n=this.gpx._getPointInKm(kmatual);if(t.tipo=="trecho"){pontoTrocasCount++;var r=new vtl.MarkerPI(n,{text:pontoTrocasCount});r.info=t;r.infoStr="<div class='trecho-"+e+"' data-trecho="+e+">                  <h2 class='titulo'>"+t.nome+"</h2>                  <div>Distancia: <b>"+t.distancia+"km</b>                  <div>Abertura: <b>"+t.abertura+"</b>                   <div>Fechamento: <b>"+t.abertura+"</b> ";r.click(function(){vtlPopupInfo.open(this).html(this.infoStr)});this._piMarkers.push(r);window._piMarkers=this._piMarkers}}},showCalculoRitmo:function(){var e="<div class='row-fluid'><div class='span12' id='trechosRitmo'>";for(var t=0;t<this._piMarkers.length;t++){var n=this._piMarkers[t];e+='<div class="row-fluid ritmo">            <div class="span6"><h3>&emsp; Trecho '+t+" - <small> "+n.info.distancia+' km</small> </h3> </div>            <input class="span6 trecho-ritmo" data-dist="'+n.info.distancia+'" id="prependedInput" type="text" placeholder="0h00m">            <div class="info"></div></div>'}e+="<div class='row-fluid'>                <div class='span7'>                   <h3  style='font-size:18px;text-align:right'>Tempo total:</h3>                </div>                 <div class='span5'>                 <h3 style='font-size:24px !important' id='tempototal'>0 h</h3>                 </div>                </div>                </div></div>";vtlTrigger("vEV_CONTEUDO_LATERAL",e)},vEV_ZOOM_END:function(e){if(this._percurso){var t=vtl.Util.math.fromToInterpolation(.35,2.2,3,.6,e.z,!0);this._percurso.attr({"stroke-width":t})}},pegaPontosOptimizados:function(){var e=[];for(var t=0;t<this._distTotalCart;t+=this._distTotalCart/100)e.push(this._set.getPointAtLength(t));return e},setPaper:function(e){this.paper=e},showPercurso:function(){var e="M";for(var t=0;t<this._pointsCartesian.length;t++){var n=this._pointsCartesian[t];e+=n[0]+","+n[1]+"L"}var r=this.defaults.line;this._set=this.paper.path(e).attr(r);this._set.hover(function(e){console.log(e)},function(){});this.paper.setStart();var i=this._set.getPointAtLength(0),r=this.defaults.kms;this.paper.circle(i.x,i.y,this.defaults.kms.size).attr(r);Raphael.g.txtattr={fill:"white"};var s=this.paper.flag(i.x,i.y,"LARGADA",0).attr({"font-size":"7px",fill:vtl_cor_azul,stroke:"white","stroke-width":0}).transform("...s0.6");s[1].attr({fill:"white"});s[0].transform("...t120");var i=this._set.getPointAtLength(this._set.getTotalLength()),r=this.defaults.kms;this.paper.circle(i.x,i.y,this.defaults.kms.size).attr(r);s=this.paper.flag(i.x,i.y,"CHEGADA",180).attr({"font-size":"7px"}).transform("...s0.6");s[1].attr({fill:"white"});this._startFinishMarkers=this.paper.setFinish();var o=this.paper.groups.barcos[0];this._set.insertBefore(o)},updateInfos:function(){this._distTotalCart=this._set.getTotalLength();this._distTotalKm=this.getTotalDistance();this._pointsKmCartesian=[];for(i=0;i<this._distTotalKm;i++){var e=i*this._distTotalCart/this._distTotalKm,t=this._set.getPointAtLength(e);this._pointsKmCartesian.push([t.x,t.y])}this.getElevation()},showKmsAntigo:function(){var e=this.defaults.kms;this.paper.setStart();this._pointsKmCartesian=[];for(i=0;i<this._distTotalKm;i++){var t=i*this._distTotalCart/this._distTotalKm,n=this._set.getPointAtLength(t);this._pointsKmCartesian.push([n.x,n.y]);var r=this.paper.circle(n.x,n.y,this.defaults.kms.size).attr(e),s=this.paper.circle(n.x,n.y,this.defaults.kms.size*3).attr({opacity:0,fill:"black"});s.text=i+" km";s.sizeo=this.defaults.kms.size;s.marker=r;s.mouseover(function(){TweenMax.to(this.marker,.3,{raphael:{"stroke-width":this.sizeo+8}});this.flag=this.paper.flag(this.getBBox().x+10,this.getBBox().y+this.sizeo/2,this.text,45).attr({opacity:.1}).animate({opacity:1},1e3,">")});s.mouseout(function(){TweenMax.to(this.marker,.5,{raphael:{"stroke-width":"-=8"},delay:.2});this.flag&&this.flag.remove()})}this._kmsets=this.paper.setFinish()},showKmsLabels:function(e){var t=this;if(t._kmsmarkes){t._kmsmarkes.remove();delete t._kmsmarkes;$(".kmmarks").removeClass("active")}else{t.paper.setStart();$(".kmmarks").addClass("active");var n=this.defaults.kms;for(i=1;i<t._pointsKmCartesian.length-1;i++){var r=t._pointsKmCartesian[i],s=i;i==99&&(s=100);var o=t.paper.circle(r[0],r[1],t.defaults.kms.size).attr(n),u=t.paper.flag(r[0],r[1]-3,s,90).attr({font:"9px Arial, sans-serif, bolder"});u[1].attr({fill:"white"}).transform("...r90");u[0].attr({fill:vtl_cor_azul,"stroke-width":0})}t._kmsmarkes=t.paper.setFinish()}},getElevation:function(){var e=[];for(var t=0,n=this._points.length;t<n;t++){pp=this._points[t];e.push(new google.maps.LatLng(pp[0],pp[1]))}var r=new google.maps.Polyline({path:e}),i={path:e,samples:256},s=new google.maps.ElevationService,o=this;s.getElevationAlongPath(i,function(e,t){return o.elevationCallback.call(o,e,t)})},getElevationTrecho:function(e){var t=this._trechos[e],n=t.obj,r=[];for(var i=0,s=n.getTotalLength();i<s;i+=s/255){pp=n.getPointAtLength(i);ppMap=vtl.Util.inverseMercator(pp.x,pp.y);r.push(new google.maps.LatLng(ppMap[0],ppMap[1]))}var o=new google.maps.Polyline({path:r});this.trechoAtual.distancia=o.inKm();var u={path:r,samples:256},a=new google.maps.ElevationService,f=this;a.getElevationAlongPath(u,function(e,t){return f.elevationTrechoCallback.call(f,e,t)})},elevationCallback:function(e,t){t==google.maps.ElevationStatus.OK?this._elevationResultArray=e:console.log("ocorreu um erro ao pegar as alturas")},elevationTrechoCallback:function(e,t){if(t==google.maps.ElevationStatus.OK){this._trechoElevationResultArray=e;this.showElevation(1)}else console.log("ocorreu um erro ao pegar as alturas")},showElevation:function(e){var t=this,n=$("#chart").width(),s=$("#chart").height();if(this._paperChart!==undefined){TweenMax.to($("#chart"),.6,{bottom:-s,ease:Back.easeIn,onComplete:function(){t._paperChart.remove();delete t._paperChart;$(".altimetria").removeClass("active")}});return}$(".altimetria").addClass("active");this._paperChart=Raphael($("#chart")[0],"100%","100%");_paperChart=this._paperChart;var o=[],u=[],a=e?this._trechoElevationResultArray:this._elevationResultArray,f=a.length;if(e){var l=this.trechoAtual.kmInicio;for(i=0;i<f;i++){o.push(i*(this.trechoAtual.distancia/f)+l);u.push(a[i].elevation)}}else for(i=0;i<f;i++){o.push(i*(this._distTotalKm/f));u.push(a[i].elevation)}this._grafico=this._paperChart.linechart(30,10,n-30,s-20,o,u,{shade:!0,smooth:!0,colors:["#f5b60c"],symbol:"circle",axis:"0 0 1 1",axisxstep:30,axisystep:10});this._paperChart.drawGrid(0,0,n,s,n/30,s/10,"#999").toBack();this._grafico.hoverColumn(function(e){this.tags=_paperChart.set();r=_paperChart;for(var n=0,i=this.y.length;n<i;n++){console.log(this.axis);this.tags.push(r.tag(this.x,this.y[n],parseInt(this.values[n],10),160,10).insertBefore(this).attr([{fill:"#000"},{fill:this.symbols[n].attr("fill")}]).toFront())}var s=this.axis,o=t.getPointFromKm(s);t.pointtemp=t.paper.circle(o.x,o.y,5).attr({fill:"red"});vtlTrigger(vEV_CENTER_VIEW_IN_POINT,o)},function(){t.pointtemp&&t.pointtemp.remove();this.tags&&this.tags.remove()});var c=this._grafico.lines[0],h=this._grafico.shades[0],p=h.attr("path").toString(),d=h.getBBox(),v="s 1 0.1 0 "+d.y2,m=Raphael.transformPath(p,v),g=Raphael.parsePathString(p.toString()),y=Raphael.parsePathString(m.toString()),b=(new TimelineMax).pause(),w=y;TweenMax.to($("#chart"),1,{bottom:"0",ease:Back.easeOut,onComplete:function(){}});h.attr({path:m}).animate({path:g},1e3,"<>");c.attr({path:m}).animate({path:g},2e3,"bounce").remove();window.linha=h;window.grafico=this._grafico;this._grafico.symbols.attr({r:2});this._grafico.axis[0].text.attr({fill:"white","font-color":"white"}).transform("t0 0").toFront();this._grafico.axis[1].text.attr({fill:"white","font-color":"white"}).transform("t0 0").toFront()},getPointFromKm:function(e){var t=this._set.getPointAtLength(e/this._distTotalKm*this._distTotalCart);return t},getCartFromKm:function(e){return e/this._distTotalKm*this._distTotalCart},getTotalDistance:function(){var e=[];for(var t=0,n=this._points.length;t<n;t++){pp=this._points[t];e.push(new google.maps.LatLng(pp[0],pp[1]))}var r=new google.maps.Polyline({path:e});return r.inKm()},show:function(){this._set.show()},hide:function(){this._set.hide()},showTrechos:function(){if(!this._trechos)return;if(this.trechosSet){this.trechosSet.remove();this.pontosDeTrocaSet.remove();delete this.trechoAtual;$("#trechoLayer").remove();$("#trecho").remove();$(".trechos").removeClass("active");delete this.pontosDeTrocaSet;delete this.trechosSet;return}$(".trechos").addClass("active");var e=0,t=0,n=0;this.pontosDeTrocaSet=this.paper.set();this.trechosSet=this.paper.set();$("<div id='trechoLayer' style='font-size:10px'></div>").appendTo("#trechos-tab");var r="<ul class='unstyled'>";for(var i=0;i<this._trechos.length;i++){var s=this._trechos[i];if(s.kmInicio!==undefined){t=s.kmInicio;e=s.kmInicio}s.kmInicio===undefined&&(s.kmInicio=e);e+=s.distancia;var o=this.getPointFromKm(e);if(s.tipo=="trecho"){n++;var u=this.paper.drop(o.x,o.y,"PI "+(n+1),90).attr({font:"9px Arial, sans-serif, bolder"});u[1].attr({fill:"white"});u[0].attr({fill:"#d43c1f","stroke-width":0});u[0].node.className.baseVal="cursor-pointer";u[0].hover(function(){vtlTrigger("trechoInfoHover",this.i+1)},function(){vtlTrigger("trechoInfoOut",this.i+1)});u[0].i=i;this.pontosDeTrocaSet.push(u)}var a=this._set.getSubpath(this.getCartFromKm(t),this.getCartFromKm(e));t=e;var f=this.paper.path(a).attr({stroke:"red","stroke-width":8,opacity:0}).hover(function(e){vtlTrigger("trechoInfoHover",this.index)},function(e){vtlTrigger("trechoInfoOut",this.index)});f.click(function(e){vtlTrigger("trechoInfoClique",this.index)});f.node.className.baseVal="cursor-pointer";var l=s.info;r+="<li class='trecho-"+i+"' data-trecho="+i+"><a class='trecho-"+i+"' href='#'>"+s.nome+"<i> - "+s.distancia+"</i> km <div class='info-trecho'>"+l+"</li>";f.index=i;this._trechos[i].obj=f;this.trechosSet.push(f)}this.pontosDeTrocaSet.toFront();r+="</ul>";$("#trechoLayer").html(r);$("#trechoLayer li").click(function(e){e.preventDefault();vtlTrigger("trechoInfoClique",$(this).data("trecho"));return!1})},trechoInfoHover:function(e){var t=this._trechos[e];$("#trecho").remove();t.obj.attr({opacity:1});$(".info-trecho").hide();this.trechoAtual=this._trechos[e];$("li.trecho-"+e+" .info-trecho").show()},trechoInfoOut:function(e){var t=this._trechos[e];this.trechosSet.attr({opacity:0});$("#trecho").remove();delete this.trechoAtual},trechoInfoClique:function(e){this.trechoInfoOut(e);this.trechoInfoHover(e);this.trechoAtual=this._trechos[e];var t=this.trechoAtual.obj.getBBox();vtlTrigger("vEV_ZOOM_BOUNDS",t);if(this._paperChart!==undefined){this.showElevation();var n=this;setTimeout(function(){n.getElevationTrecho(e)},1650)}},hideAllMarkes:function(){this.trechosSet&&this.showTrechos();this._kmsmarkes&&this.showKmsLabels();this._paperChart!==undefined&&this.showElevation()},mostraTrecho:function(){}});var _MAX_POINT_INTERVAL_MS=15e3,_SECOND_IN_MILLIS=1e3,_MINUTE_IN_MILLIS=60*_SECOND_IN_MILLIS,_HOUR_IN_MILLIS=60*_MINUTE_IN_MILLIS,_DEFAULT_MARKER_OPTS={startIconUrl:"pin-icon-start.png",endIconUrl:"pin-icon-end.png",shadowUrl:"pin-shadow.png",iconSize:[33,50],shadowSize:[50,50],iconAnchor:[16,45],shadowAnchor:[16,47]},_DEFAULT_POLYLINE_OPTS={color:"blue"};vtl.GPX=Class.extend({_points:[],_tracks:[],init:function(e,t){t.max_point_interval=t.max_point_interval||_MAX_POINT_INTERVAL_MS;t.marker_options=this._merge_objs(_DEFAULT_MARKER_OPTS,t.marker_options||{});t.polyline_options=this._merge_objs(_DEFAULT_POLYLINE_OPTS,t.polyline_options||{});this._gpx=e;this._layers={};this._info={points:[],kms:null,pointsXY:[],name:null,length:0,elevation:{gain:0,loss:0,_points:[]},hr:{avg:0,_total:0,_points:[]},duration:{start:null,end:null,moving:0,total:0}};e&&this._parse(e,t,t.async);return this},get_duration_string:function(e,t){var n="";if(e>=_HOUR_IN_MILLIS){n+=Math.floor(e/_HOUR_IN_MILLIS)+":";e%=_HOUR_IN_MILLIS}var r=Math.floor(e/_MINUTE_IN_MILLIS);e%=_MINUTE_IN_MILLIS;r<10&&(n+="0");n+=r+"'";var i=Math.floor(e/_SECOND_IN_MILLIS);e%=_SECOND_IN_MILLIS;i<10&&(n+="0");n+=i;!t&&e>0?n+="."+Math.round(Math.floor(e)*1e3)/1e3:n+='"';return n},to_miles:function(e){return e/1.60934},to_ft:function(e){return e*3.28084},m_to_km:function(e){return e/1e3},m_to_mi:function(e){return e/1609.34},get_km_points:function(){return this._get_km_points()},get_name:function(){return this._info.name},get_distance:function(){return this._info.length},get_distance_imp:function(){return this.to_miles(this.m_to_km(this.get_distance()))},get_start_time:function(){return this._info.duration.start},get_end_time:function(){return this._info.duration.end},get_moving_time:function(){return this._info.duration.moving},get_total_time:function(){return this._info.duration.total},get_moving_pace:function(){return this.get_moving_time()/this.m_to_km(this.get_distance())},get_moving_pace_imp:function(){return this.get_moving_time()/this.get_distance_imp()},get_points:function(){return this._info.points},get_elevation_gain:function(){return this._info.elevation.gain},get_elevation_loss:function(){return this._info.elevation.loss},get_elevation_data:function(){var e=this;return this._info.elevation._points.map(function(t){return e._prepare_data_point(t,e.m_to_km,null,function(e,t){return e.toFixed(2)+" km, "+t.toFixed(0)+" m"})})},get_elevation_data_imp:function(){var e=this;return this._info.elevation._points.map(function(t){return e._prepare_data_point(t,e.m_to_mi,e.to_ft,function(e,t){return e.toFixed(2)+" mi, "+t.toFixed(0)+" ft"})})},get_average_hr:function(){return this._info.hr.avg},get_heartrate_data:function(){var e=this;return this._info.hr._points.map(function(t){return e._prepare_data_point(t,e.m_to_km,null,function(e,t){return e.toFixed(2)+" km, "+t.toFixed(0)+" bpm"})})},get_heartrate_data_imp:function(){var e=this;return this._info.hr._points.map(function(t){return e._prepare_data_point(t,e.m_to_mi,null,function(e,t){return e.toFixed(2)+" mi, "+t.toFixed(0)+" bpm"})})},_get_km_points:function(){if(this._info.kms!==null)return this._info.kms;var e=this._info.length,t=[];for(var n=0;n<e;n+=1e3)t.push(this._getPointInKm(n/1e3));this._info.kms=t;return t},_get_km_points_fast:function(){var e=[],t=0,n=1e3,r=this._info.points[0];for(var i=0,s=this._info.points.length;i<s-1;i++){ppA=this._info.points[i];ppB=this._info.points[i+1];var o=Math.abs(ppA._dist-t*1e3),u=Math.abs(ppB._dist-t*1e3);if(o<u){pp=ppA;dist=o}else{pp=ppB;dist=u}if(dist>n){t++;e.push(r);n=1e3}else{n=dist;r=pp}}return e},_get_points_avarege_dist:function(e,t){var n=[],r=100;t=t||this._info.points;var i=t[0];n.push(t[0]);for(var s=1,o=t.length;s<o;s++){pp=t[s];if(pp._dist-i._dist>=e){i=pp;n.push(pp)}}return n},_get_points_fromKM_toKM:function(e,t){return this._getPointsInTrecho(e,t)},_getPointsInTrecho:function(e,t){var n=[];n.push(this._getPointInKm(e));for(var r=0,i=this._info.points.length;r<i;r++){ppA=this._info.points[r];ppA._dist>e*1e3&&ppA._dist<t*1e3&&n.push(ppA)}n=this._get_points_avarege_dist(60,n);return n},_getPointInKm:function(e){var t=this._info.length,n=this._info.points[0],r,i;for(var s=0,o=this._info.points.length;s<o-1;s++){ppA=this._info.points[s];ppB=this._info.points[s+1];var u=Math.abs(ppA._dist-e*1e3),a=Math.abs(ppB._dist-e*1e3);if(u<a){pp=ppA;dist=u}else{pp=ppB;dist=a}if(dist>t){r=n;i=pp;break}t=dist;n=pp}xKmCerto=vtl.Util.math.fromToInterpolation(r._dist,i._dist,r._x,i._x,e*1e3);yKmCerto=vtl.Util.math.fromToInterpolation(r._x,i._x,r._y,i._y,xKmCerto);var f=(new LatLng).xy(xKmCerto,yKmCerto);f._dist=e*1e3;return f},_merge_objs:function(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n},_prepare_data_point:function(e,t,n,r){var i=[t&&t(e[0])||e[0],n&&n(e[1])||e[1]];i.push(r&&r(i[0],i[1])||i[0]+": "+i[1]);return i},_load_xml:function(e,t,n,r){r==undefined&&(r=this.options.async);n==undefined&&(n=this.options);$.ajax({url:e,type:"GET",dataType:"xml",data:{param1:"value1"},complete:function(e,t){},success:function(e,r,i){t(e,n)},error:function(e,t,n){}})},_parse:function(e,t,n){var r=this,i=function(e,t){var n=r._parse_gpx_data(e,t);vtlTrigger("vEV_GPX_LOADED",r)};this._load_xml(e,i,t,n)},_parse_gpx_data:function(e,t){var n,r,i,s=[],o=[["rte","rtept"],["trkseg","trkpt"]],u=e.getElementsByTagName("name");u.length>0&&(this._info.name=u[0].textContent);for(n=0;n<o.length;n++){i=e.getElementsByTagName(o[n][0]);for(r=0;r<i.length;r++)var a=this._parse_trkseg(i[r],e,t,o[n][1])}this._info.hr.avg=Math.round(this._info.hr._total/this._info.hr._points.length);if(!s.length)return;var f=s[0]},_parse_trkseg:function(e,t,n,r){var i=e.getElementsByTagName(r);if(!i.length)return[];var s=[],o=null;for(var u=0;u<i.length;u++)try{var a,f=new LatLng(i[u].getAttribute("lat"),i[u].getAttribute("lon"));f.meta={time:null,ele:null,hr:null};a=i[u].getElementsByTagName("time");a.length>0&&(f.meta.time=new Date(Date.parse(a[0].textContent)));a=i[u].getElementsByTagName("ele");a.length>0&&(f.meta.ele=parseFloat(a[0].textContent));a=i[u].getElementsByTagNameNS("*","hr");if(a.length>0){f.meta.hr=parseInt(a[0].textContent);this._info.hr._points.push([this._info.length,f.meta.hr]);this._info.hr._total+=f.meta.hr}this._info.elevation._points.push([this._info.length,f.meta.ele]);this._info.duration.end=f.meta.time;this._info.points.push(f);if(o!=null){this._info.length+=this._dist3d(o,f);f._dist=this._info.length;var l=f.meta.ele-o.meta.ele;l>0?this._info.elevation.gain+=l:this._info.elevation.loss+=Math.abs(l);l=Math.abs(f.meta.time-o.meta.time);this._info.duration.total+=l;l<n.max_point_interval&&(this._info.duration.moving+=l)}else this._info.duration.start=f.meta.time;o=f;s.push(f)}catch(c){}return s},_dist2d:function(e,t){var n=6371e3,r=this._deg2rad(t.lat-e.lat),i=this._deg2rad(t.lng-e.lng),s=Math.sin(r/2)*Math.sin(r/2)+Math.cos(this._deg2rad(e.lat))*Math.cos(this._deg2rad(t.lat))*Math.sin(i/2)*Math.sin(i/2),o=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),u=n*o;return u},_dist3d:function(e,t){var n=this._dist2d(e,t),r=Math.abs(t.meta.ele-e.meta.ele);return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))},_deg2rad:function(e){return e*Math.PI/180}});vtlLinks=window.vtlLinks===undefined?{}:vtlLinks;vtlLinkAtual={};vtl.ApplicationController=vtl.EventClass.extend({urls:{},_pageLoadStatus:null,_contentHtml:"",_uiGoogle:0,_uiTrechos:0,_uiRitmo:0,_ui_modo:0,init:function(){vtlAppCrt=this;this.bindAll();this.vtlMapaCrt=new vtl.MapaController(vtl_W,vtl_H);this.vEV_PERCURSO_LOADED=this.setup},setup:function(){this.linksConfig();this.routesSetup();this.vEV_TRECHOS_INFO_LOADED=null;this.setupUIS();$("#loader").fadeOut("slow",function(){$(this).remove()})},setupUIS:function(){$("#barra-lateral").tooltip({selector:"a[data-toggle=tooltip]"});$("#conteudo-wrap").jScrollPane({autoReinitialise:!0});$("#lado-page").jScrollPane({autoReinitialise:!0});$("#loader").fadeOut("slow",function(){$(this).remove()})},linksConfig:function(){var e=1;_.each(navegacao,function(t){var n=vtlu.slug(t.name);if(n in vtlLinks){n+=e;e++}t.name=n;t.url=CCM_DISPATCHER_FILENAME+t.url;vtlLinks[n]=t});$("#page").on("click","a[target!='_blank'][href]",function(e){var t=$(this).attr("href");if(/^\/?#/.test(t)){if(/^#$/.test(t)){e.preventDefault();return!1}window.location="#";return!0}t=t.replace(/.*index.php/,"").replace(/\/$/,"");var n={},r=_.find(vtlLinks,function(e){var r=e.url.replace(/.*index.php/,"").replace(/\/$/,"");if(r==t){n=e;return!0}});if(!r){var i=vtlu.slug(t);vtlLinks[i]={name:i,url:t};n=vtlLinks[i]}window.location="#/"+n.name;e.preventDefault();return!1});var t=this;$("#page").on("submit","form",function(e){e.preventDefault();var t=$(this).attr("method"),n=$(this).attr("action"),r=$(this).serialize();$(this).html("Processando");$.ajax({type:t,url:n,data:r,success:function(e){vtlTrigger("_showConteudo",e)}});return!1})},_findLinkFromName:function(e){var t=null;_.find(vtlLinks,function(n){if(n["name"]==e){t=n;return!0}});return t},routesSetup:function(){var e=this;Sammy("#page",function(){this.get("#/navegar/:task",function(){var e=this.params.task;vtlTrigger("vEV_MODO_NAVEGACAO","");var t="vEV_TASK_"+e.toUpperCase();vtlTrigger(t,"")});this.get(/#\/(.*)/,function(){var t=this,n=this.params.splat[0];console.log(n);if(n===null||n===undefined)return!1;if(/navegar/.test(n)){vtlTrigger("vEV_MODO_NAVEGACAO","");return!1}var r=e._findLinkFromName(n);vtlTrigger("vEV_MODO_MENU","");vtlTrigger("vEV_PAGE_LOAD",{item:r,url:r.url})})}).run("#/inicio")},vEV_PAGE_LOAD:function(e){var t=this;vtlTrigger("vEV_PAGE_LOAD_START",e.item);$.ajax({url:e.url,type:"GET",data:{isAjax:1},success:function(t,n,r){vtlTrigger("vEV_PAGE_LOAD_END",{data:t,itemLink:e.item})},error:function(e,t,n){vtlTrigger("vEV_PAGE_LOAD_FAIL",{data:t})}})},vEV_PAGE_LOAD_START:function(e){this._pageLoadStatus="start";var t={x:e.x,y:e.y,z:e.z};vtlTrigger("vEV_ANIMA_MAPA_BEZIER",{data:t,time:2});$("#conteudo-wrap").stop().fadeOut("fast",function(){$("#conteudo-wrap #conteudo-conteudo").html("Carregando....")})},vEV_PAGE_LOAD_END:function(e){var t=vtl.Util.parseC5page(e.data);this._contentHtml=t;this._pageLoadStatus=="animend"&&this._showConteudo(t);this._pageLoadStatus="end"},vEV_ANIMATION_END:function(){if(this._pageLoadStatus=="start"){this._pageLoadStatus="animend";$("#conteudo-wrap").stop().fadeIn("fast")}else if(this._pageLoadStatus=="end"){this._showConteudo(this._contentHtml);this._pageLoadStatus="animend"}},vEV_MOVE_STEP:function(e){CCM_EDIT_MODE==1&&$("#info").text("x:"+e.x.toFixed(2)+"    y: "+e.y.toFixed(2)+"   z: "+e.z.toFixed(2))},_showConteudo:function(e){$("#conteudo-wrap #conteudo-conteudo").html(e);$(".menumode #conteudo-wrap").show(0);$("#conteudo-wrap").stop().fadeIn("fast");TweenMax.from($("#conteudo-conteudo h1.titulo"),.5,{scale:0,rotation:0,delay:.1,imediateRender:!0});$(document).ready()},_hideConteudo:function(e){$("#conteudo-wrap").stop().fadeOut("fast")},vEV_PAGE_LOAD_SHOW:function(e){},vEV_PAGE_LOAD_HIDE:function(e){},vEV_MOSTRA_CONTEUDO_LATERAL:function(e){e.callback=e.callback||function(){};this._conteudoLateral(e.html,e.callback)},vEV_MODO_MENU:function(){this._hideLateral();this._showConteudo()},vEV_MODO_NAVEGACAO:function(){vtlTrigger("vEV_SHOW_KMS","");this._hideConteudo()},vEV_TASK_NAVEGAR:function(){vtlTrigger("vEV_ANIMA_MAPA",{data:{x:-245,y:-363,z:.74},time:2})},setupEvents:function(){},carregaPagina:function(){},_conteudoLateral:function(e,t){$("#trechoLayer").remove();$("<div id='trechoLayer' style='font-size:10px;color:white'></div>").appendTo("#trechos-tab");$("#trechoLayer").html(e).show();TweenMax.to($("#page"),.6,{left:240,right:0,delay:.4,onComplete:function(){vtlTrigger(vEV_RESIZE,"")}});t.call()},_hideLateral:function(){TweenMax.to($("#page"),.6,{left:0,right:0,delay:.2,onComplete:function(){vtlTrigger(vEV_RESIZE,"")}})},vEV_TASK_RITIMOTOOGLE:function(e){},vEV_TASK_ALTIMETRIATOOGLE:function(e){},vEV_TASK_KMSTOOGLE:function(e){}});vtl.MapaController=vtl.e2D.extend({name:"MapaController",_that:this,_moveStatus:"STILL",_zoomStatus:"STILL",_winH:0,_winW:0,_xOld:0,_yOld:0,_zOld:1,drag:{elem:null,x:0,y:0,state:!1},delta:{x:0,y:0},percurso:null,classid:"MapaController",checkMoveEndTh:function(){},checkZoomEndTh:function(){},init:function(e,t){vtl.ControllersObjects[this.name]=this;this._super();this.w(e);this.h(t);this.bindAll();_.bindAll(this);this.setupEvents();this.onWindowRezise();this.checkMoveEndTh=_.debounce(this.checkMoveEnd,700,!1);this.checkZoomEndTh=_.debounce(this.checkZoomEnd,500,!1);this.lagoLayer=new vtl.LagoLayer},setupEvents:function(){var e=this;$("#cr-stage").mousedown(e.mousedown);$("#cr-stage").mousemove(e.mousemove);$("#cr-stage").mouseup(e.mouseup);this.mouseWhellTh=_.throttle(e.mousewhellFunc,40);$("#cr-stage").mousewheel(e.mouseWhellTh);$("#cr-stage").dblclick(e.zoomIn);$(window).bind("resize",e.onWindowRezise)},vEV_LAGO_LOADED:function(e){this.percurso=new vtl.Percurso({paper:e.paper,url:VTL_MODELS+"percurso_100km.js",callback:this.showPercurso,context:this})},mousedown
:function(e){if(!this.drag.state){this.notificaEvento("vEV_MOUSE_DOWN");this.drag.x=e.pageX;this.drag.y=e.pageY;this.drag.state=!0;$("body,#cr-stage").addClass("grabbing")}return!1},mousemove:function(e){if(this.drag.state){this.delta.x=e.pageX-this.drag.x;this.delta.y=e.pageY-this.drag.y;this._x+=this.delta.x;this._y+=this.delta.y;this.notificaEvento("vEV_MOUSE_DRAG");this.drag.x=e.pageX;this.drag.y=e.pageY;this.updateInterno()}},mouseup:function(){if(this.drag.state){this.drag.state=!1;$("body,#cr-stage").removeClass("grabbing");this.notificaEvento("vEV_MOUSE_UP")}},mousewhellFunc:function(e,t,n,r){if(t===undefined)return;var i=t>0?.1:-0.1;prcX=(-this._x+e.pageX)/this._w/this._z;prcY=(-this._y+e.pageY)/this._h/this._z;pwX=e.pageX/this._winW;pwY=e.pageY/this._winH;var s={width:this._w*this._z,height:this._h*this._z};this._z+=i;this._z=Math.clamp(this._z,.35,6);var o={width:this._w*this._z,height:this._h*this._z},u={width:o.width-s.width,height:o.height-s.height};this._x-=u.width*prcX;this._y-=u.height*prcY;this.updateInterno();this.notificaEvento("vEV_MOUSE_WHELL");return!1},onWindowRezise:function(){vtlTrigger(vEV_RESIZE,"");this._winW=$("#mapa-wrap").width();this._winH=$("#mapa-wrap").height()},updateInterno:function(){if(this._moveStatus=="STILL"){this.notificaEvento("vEV_MOVE_START");this._moveStatus="MOVING"}else this.notificaEvento("vEV_MOVE_STEP");if(this._zOld!==this._z){if(this._zoomStatus=="STILL"){vtlTrigger("vEV_ZOOM_START",{z:this._z});this._zoomStatus="ZOOIMG"}else vtlTrigger("vEV_ZOOM_STEP",{z:this._z});this.checkZoomEndTh()}this._zOld=this._z;this.checkMoveEndTh();return this},notificaEvento:function(e){var t={x:this._x,y:this._y,z:this._z,rotation:this._rotation};vtlTrigger(e,t)},checkMoveEnd:function(){if(this._xOld!==this._x||this._yOld!==this._y||this._zOld!==this._z)this.checkMoveEndTh();else{this._moveStatus="STILL";this.notificaEvento("vEV_MOVE_END")}this._xOld=this._x;this._yOld=this._y;this._zOld=this._z},checkZoomEnd:function(){if(this._zOld!==this._z)this.checkZoomEnd();else{this._zoomStatus="STILL";vtlTrigger("vEV_ZOOM_END",{z:this._z})}this._zOld=this._z},vEV_MOUSE_DRAG:function(){VTL_TIMELINE.pause()},vEV_MOVE_START:function(){VTL_TIMELINE.pause()},vEV_MOVE_END:function(){VTL_TIMELINE.play()},vEV_MOUSE_UP:function(){VTL_TIMELINE.play()},vEV_ANIMA_MAPA:function(e){this._animate(e.data,e.time)},vEV_ANIMA_MAPA_BEZIER:function(e){this._animateBezier(e.data,e.time)},_animate:function(e,t,n){n=n||!0;this.xx=this._x;this.zz=this._z;this.yy=this._y;this.ev=n;TweenMax.to(this,t,{xx:e.x,yy:e.y,zz:e.z,onUpdateScope:this,onStartScope:this,onCompleteScope:this,onStart:function(){this.evfalse&&vtlTrigger("vEV_ANIMATION_START",{x:this._x,y:this._y,z:this._z})},onUpdate:function(){this._x=this.xx;this._y=this.yy;this._z=this.zz;vtlTrigger("vEV_ANIMATION_STEP",{x:this._x,y:this._y,z:this._z})},onComplete:function(){this.evfalse&&vtlTrigger("vEV_ANIMATION_END",{x:this._x,y:this._y,z:this._z})}})},_animateBezier:function(e,t){var n=this.xx=this._x,r=this.yy=this._y,i=this.zz=this._z,s=parseFloat(e.x),o=parseFloat(e.y),u=parseFloat(e.z);s=s?s:n;o=o?o:r;u=u?u:i+.5;var a=$(window).width(),f=$(window).height(),l=Math.abs((n-a/2)/i),c=Math.abs((r-f/2)/i),h=Math.abs((s-a/2)/u),p=Math.abs((o-f/2)/u),d=Math.abs((Math.max(l,h)+Math.min(l,h))/2),v=Math.abs((Math.max(c,p)+Math.min(c,p))/2),m=vtl.Util.math.distance3d(l,c,i,h,p,u),g=Math.atan2(u-i,h-l)*180/Math.PI,y=vtlu.math.distance(n,r,s,o),b=i-u,w=vtlu.math.distance3d(n,r,i,s,o,u),E=vtlu.math.distance(l*i,c*i,h*i,p*u)*i,S=Math.abs(u-i);t=vtlu.math.fromToInterpolation(0,3e3,1,6,m,!0);var x=vtlu.math.fromToInterpolation(800,1500,1,2,m,!0),T=vtlu.math.fromToInterpolation(300,2e3,0,1.5,E,!0),N=vtlu.math.fromToInterpolation(3.5,.36,0,1.5,i,!0);zmid=Math.min(i,u)-(T-N);zmid=Math.clamp(zmid,1,5);xmid=-d*zmid;ymid=-v*zmid;xmid+=a/2;ymid+=f/2;var C=[{xx:xmid,yy:ymid,zz:zmid},{xx:s,yy:o,zz:u}];if(E<a||i<.4||Math.abs(i-u)>4)C=[{xx:n,yy:r,zz:i},{xx:s,yy:o,zz:u}];TweenMax.to(this,t,{bezier:{values:C,type:"thru",curviness:x,timeResolution:0},onUpdateScope:this,onStartScope:this,onCompleteScope:this,onStart:function(){vtlTrigger("vEV_ANIMATION_START",{x:this._x,y:this._y,z:this._z})},onUpdate:function(){this._x=this.xx;this._y=this.yy;this._z=this.zz;vtlTrigger("vEV_ANIMATION_STEP",{x:this._x,y:this._y,z:this._z})},onComplete:function(){vtlTrigger("vEV_ANIMATION_END",{x:this._x,y:this._y,z:this._z})},ease:Sine.esaseInOut})},cameraZoomBound:function(e){var t=e.width,n=e.height,r=t>n?winW/t:winH/n;r*=.5;var i=e.x+t/2,s=e.y+n/2,o=this.xyFromCenterPoint(i,s,r);this._animate({x:-o.x,y:-o.y,z:r},1.5)},xyFromCenterPoint:function(e,t,n){n=n||this._z;var r=-e*n,i=-t*n,s=$(window).width(),o=$(window).height();r+=s/2;i+=o/2;return{x:r,y:i}},vEV_CENTER_VIEW_IN_POINT:function(e){this.cameraCenterInPoint(e)},cameraCenterInPoint:function(e){var t=$(window).width(),n=$(window).height(),r=-e._x*this._z,i=-e._y*this._z;r+=t/2;i+=n/2;this._animate({x:r,y:i,z:this._z},.4,!1)},vEV_ZOOMOUT_ACTION:function(){this.zoomOut()},vEV_ZOOMIN_ACTION:function(){this.zoomIn()},zoomIn:function(){val=.4;var e=$(window).width(),t=$(window).height(),n=this._w,r=this._h,i=this._x,s=this._z,o=this._y,u=(-i+e/2)/n/s,a=(-o+t/2)/r/s;pwX=.5;pwY=.5;var f={width:n*s,height:r*s};s+=val;s=Math.clamp(s,.35,6);var l={width:n*s,height:r*s},c={width:l.width-f.width,height:l.height-f.height};i-=c.width*u;o-=c.height*a;this._animate({x:i,y:o,z:s},.8);return!1},zoomOut:function(){val=-0.4;var e=$(window).width(),t=$(window).height(),n=this._w,r=this._h,i=this._x,s=this._z,o=this._y;prcX=(-i+e/2)/n/s;prcY=(-o+t/2)/r/s;pwX=.5;pwY=.5;var u={width:n*s,height:r*s};s+=val;s=Math.clamp(s,.35,6);var a={width:n*s,height:r*s},f={width:a.width-u.width,height:a.height-u.height};i-=f.width*prcX;o-=f.height*prcY;this._animate({x:i,y:o,z:s},.8);return!1}});vtl.MapaController2=function(){var e={},t,n,r,s,o,u,a,f,l,c,h=$(window),p=$(document),d,v;e.drag={elem:null,x:0,y:0,state:!1};e.delta={x:0,y:0};e.setup=function(){var i=this;t=0;s=0;o=.7;u=0;a=2057;f=1865;n=a/2;r=f/2;e.setupThrottleFunctions();e.onWindowRezise();this.lagoLayer=new vtl.LagoLayer;vtlBindScope(vEV_APP_START,this.setup2,this);$("#barra-lateral").tooltip({selector:"a[data-toggle=tooltip]"});$(".container").on("submit","form",function(e){e.preventDefault();var t=$(this).attr("method"),n=$(this).attr("action"),r=$(this).serialize();$.ajax({type:t,url:n,data:r,success:function(e){e=vtlu.parseHTML(e,"conteudo-principal");$("#conteudo-principal").html(e)}});return!1});$("#conteudo-wrap").jScrollPane({autoReinitialise:!0});$("#lado-page").jScrollPane({autoReinitialise:!0})};e.setup2=function(){var t=this;this.htmlLayer=new vtl.HtmlLayer;this.percurso=this.lagoLayer.addPercurso(VTL_MODELS+"percurso_100km.js");this.setupEvents();this.update();Modernizr.geolocation&&navigator.geolocation.getCurrentPosition(function(e){t.showMyLocation.call(t,e)},null);setTimeout(function(){$("#wrap").fadeTo("2000",1);$("#loader").fadeOut("slow",function(){$(this).remove()})},1e3);e.barcos=[];for(i=0;i<6;i++){xb=Math.random()*20;yb=Math.random()*20;barco=Crafty.e("2D, DOM, Raphael").attr({viewbox:"395.8 428.7 250 225",oriW:250,oriH:225,x:xb,y:yb,w:16,h:20}).importSVG(VTL_MODELS+"barco_simples_animado_sombra.svg");e.barcos.push(barco)}_.delay(e.animaBarcos,3e3)};e.animaBarcos=function(){for(i=0;i<e.barcos.length;i++){e.barcos[i].anima();var t=Math.random()*80+1100,n=Math.random()*80+750;$(e.barcos[i]._element).attr("data-rot",0);e.barcos[i].pos={x:t,y:n,rotation:0};VTL_TIMELINE.add(TweenMax.fromTo(e.barcos[i].pos,200,{css:{x:t,y:n}},{bezier:{type:"soft",values:[{x:t+400+Math.random()*10,y:n+20+Math.random()*30},{x:t+110+Math.random()*10,y:n+40+Math.random()*40},{x:t,y:n+80+Math.random()*10},{x:t,y:n}],autoRotate:["x","y","rotation",0,!1]},onUpdateScope:e.barcos[i],onUpdate:function(){scaleY=this.pos.rotation<-90||this.pos.rotation>90?-1:1;TweenMax.set(this._element,{css:{x:this.pos.x,y:this.pos.y,rotation:this.pos.rotation,scaleY:scaleY,transformOrigin:"50% 50%"}})},ease:"Linear.easeNone",yoyo:!0,immediateRender:!0,repeat:-1}),0)}};e.setupThrottleFunctions=function(){var e=this;e.mousemoveT=_.throttle(e.mousemove,40);e.mousewhellT=_.throttle(e.mousewhell,0);e.updateLagoT=_.throttle(e.updateLago,0);e.updateHTMLT=_.throttle(e.updateHTML,0);e.updateFastT=_.throttle(e.updateFast,20);e.triggerScroll=_.throttle(function(){vtlTrigger("deuzoom",o)},200)};e.setupEvents=function(){var t=this;h.bind("resize",this.onWindowRezise);if(VTL_DEBUG_MODE===!0){e=e;$("#cr-stage>div").bind("mousemove mousewheel",function(e){var t=e.offsetX!==null?e.offsetX:e.originalEvent.layerX,n=e.offsetY!==null?e.offsetY:e.originalEvent.layerY;log("xtop:"+parseInt(_VTLX,10)+" ytop:"+parseInt(_VTLY,10)+" xmouse:"+t+" ymouse:"+n+" zomm:"+_VTLZOOM)})}vtlBindScope(vEV_CENTER_VIEW_IN_POINT,this.cameraCenterInPoint,this);vtlBindScope(vEV_ZOOM_BOUNDS,this.cameraZoomBound,this);vtlBind(vEV_EM_MOVIMENTO,t.updateFastT);vtlBind(vEV_INICIO_MOVIMENTO,function(){VTL_TIMELINE.pause();$("#conteudo-principal").remove()});vtlBind(vEV_FIM_MOVIMENTO,function(){VTL_TIMELINE.play();e.triggerScroll();t.updateFastT()});vtlBind(vEV_CONTEUDO_LOAD,function(e,n){return t.conteudoLoad.call(t,n)});vtlBind(vEV_MODO_NAVEGACAO,function(e,n){t.setupNavegationEvents();$("#conteudo-wrap").fadeOut("800",function(){$("#conteudo-wrap").hide(0)});$("body").hasClass("menumode")&&n!="imediato"&&t.cameraMoveParaMenu(535,579,1.04,2,0);$("body").removeClass("menumode").addClass("navegationmode");$(".navegar").addClass("active");vtlTrigger("mostrarkms");return!1});vtlBind(vEV_MODO_MENU,function(){t.stopEvents();t.percurso.hideAllMarkes();$("body").removeClass("navegationmode").addClass("menumode");$(".navegar").removeClass("active");if(window.mostratreco===1){TweenMax.to($("#page"),.6,{left:0,right:0,delay:1,onComplete:function(){vtlTrigger(vEV_RESIZE,"")}});delete window.mostratreco}});vtlBind(vEV_ZOOMIN_ACTION,function(e,n){return t.zoomIn.call(t,n)});vtlBind(vEV_ZOOMOUT_ACTION,function(e,n){return t.zoomOut.call(t,n)});vtlBind("mostrartrechos",function(){if(window.mostratreco===undefined){TweenMax.to($("#page"),.6,{left:240,right:0,delay:1,onComplete:function(){vtlTrigger(vEV_RESIZE,"")}});window.mostratreco=1}else{TweenMax.to($("#page"),.6,{left:0,right:0,delay:1,onComplete:function(){vtlTrigger(vEV_RESIZE,"")}});delete window.mostratreco}});vtlBindScope(vEV_RESIZE,function(){c=$("#page").width();l=$("#page").height()},this);$("#lado-page").mousewheel(function(e){e.preventDefault();e.stopPropagation();return!1});$("#lado-page").jScrollPane({autoReinitialise:!0})};e.setupNavegationEvents=function(){$(document).mousedown(e.mousedown);$(document).mousemove(e.mousemoveT);$(document).mouseup(e.mouseup);$(document).mousewheel(e.mousewhellFunc)};e.stopEvents=function(){$(document).unbind();$(document).unbind("mousewheel")};e.update=function(){_VTLZOOM=o;_VTLX=t;_VTLY=s};e.updateLago=function(){_VTLZOOM=o;_VTLX=t;_VTLY=s;e.lagoLayer.moveCameraTo(t,s,o,u,.2,n,r)};e.updatePercursoInfos=function(){this.percurso?this.percurso.updateInfos():setTimeout(function(){vtl.MapaController.updatePercursoInfos()},1e3)};e.updateHTML=function(){_VTLZOOM=o;_VTLX=t;_VTLY=s;var e=this;setTimeout(function(){e.htmlLayer.moveCameraTo(t,s,o,u,.2,n,r)},0)};e.updateFast=function(){e.lagoLayer.moveCameraTo(t,s,o,u,0,n,r);e.htmlLayer.moveCameraTo(t,s,o,u,0,n,r)};e.boundaries=function(){var e=c-a*o;xLeft=e<0?e-c/2:0;xRight=e<0?c/2:e;var n=-(f*o)+l;yTop=n<0?n-l/2:0;yBottom=n<0?l/2:n;t=Math.clamp(t,xLeft,xRight);s=Math.clamp(s,yTop,yBottom)};e.mouseup=function(){if(e.drag.state){vtlTrigger(vEV_FIM_MOVIMENTO,"");e.drag.state=!1;$("body").removeClass("grabbing");vtlTrigger(vEV_MOUSE_DRAG,{x:t,y:s,z:o})}};e.mousemove=function(n){if(e.drag.state){e.drag.elem="#cr-stage>div";e.delta.x=n.pageX-e.drag.x;e.delta.y=n.pageY-e.drag.y;t+=e.delta.x;s+=e.delta.y;e.boundaries();vtlTrigger(vEV_MOUSE_DRAG,{x:t,y:s,z:o});e.drag.x=n.pageX;e.drag.y=n.pageY}};e.mousedown=function(t){if(!e.drag.state){vtlTrigger(vEV_INICIO_MOVIMENTO,"");e.drag.elem=this;e.drag.x=t.pageX;e.drag.y=t.pageY;e.drag.state=!0;$("body").addClass("grabbing")}return!1};e.mousewhellFunc=function(n,r,i,u){if(r===undefined)return;var l=vtlu.math.fromToInterpolation(2.4,.36,1,.04,o,!0);val=r/100*l;prcX=(-t+n.pageX)/a/o;prcY=(-s+n.pageY)/f/o;pwX=n.pageX/e.winW;pwY=n.pageY/e.winH;var c={width:a*o,height:f*o};o+=val;o=Math.clamp(o,.35,6);var h={width:a*o,height:f*o},p={width:h.width-c.width,height:h.height-c.height};t-=p.width*prcX;s-=p.height*prcY;var d={x:t,y:s,z:o};e.update();vtlTrigger(vEV_ZOOM,d);e.triggerScroll();return!1};e.cameraMoveParaMenu=function(n,r,i,u,a,f){f=f||1;u=u||5;a=a||0;n=-n;r=-r;px=Math.abs((t-c/2)/o);py=Math.abs((s-l/2)/o);pxf=Math.abs((n-c/2)/i);pyf=Math.abs((r-l/2)/i);pxm=Math.abs((Math.max(px,pxf)+Math.min(px,pxf))/2);pym=Math.abs((Math.max(py,pyf)+Math.min(py,pyf))/2);var h=vtlu.math.distance(t,s,n,r),p=o-i,d=vtlu.math.distance3d(t,s,o,n,r,i),v=vtlu.math.distance(px*o,py*o,pxf*o,pyf*i)*o;u=vtlu.math.fromToInterpolation(0,1500,0,1,d,!1);var m=vtlu.math.fromToInterpolation(800,1500,0,1,d,!0),g=vtlu.math.fromToInterpolation(300,2e3,0,1.5,v,!0),b=vtlu.math.fromToInterpolation(3.5,.36,0,1.5,o,!0);zmid=Math.min(o,i)-(g-b);zmid=Math.clamp(zmid,1,5);xmid=-pxm*zmid;ymid=-pym*zmid;xmid+=c/2;ymid+=l/2;var w=[{setx:xmid,sety:ymid,setz:zmid},{setx:n,sety:r,setz:i}];if(v<c||o<.4||Math.abs(o-i)>4)w=[{setx:t,sety:s,setz:o},{setx:n,sety:r,setz:i}];vtlTrigger(vEV_INICIO_MOVIMENTO,"");setTimeout(function(){vtlTrigger(vEV_MENU_CHEGOU,"")},u*1e3-u*1e3*.1);e=this;setTimeout(function(){TweenMax.to(e,u,{bezier:{values:w,type:"thru",curviness:m,timeResolution:0},onUpdateScope:e,onComplete:function(){vtlTrigger(vEV_FIM_MOVIMENTO,"")},onUpdate:function(){e.triggerScroll();vtlTrigger(vEV_EM_MOVIMENTO,{x:t,y:s,z:o})},ease:Sine.esaseInOut})},0)};e.cameraMoveAbs=function(t,n,r,i,s,o){t=-t;n=-n;o=o||1;i=i||2;s=s||0;TweenMax.to(e,i,{setx:t,sety:n,setz:r,seta:o,onUpdateScope:e,onUpdate:function(){this.updateFast()},delay:s})};e.cameraMove=function(t,n,r,i,s,o){t=-t*r;n=-n*r;o=o||1;i=i||2;s=s||0;TweenMax.to(e,i,{setx:t,sety:n,setz:r,seta:o,onUpdateScope:e,onUpdate:function(){this.updateFast()},delay:s})};e.cameraZoomBound=function(e){var t=e.width,n=e.height,r=t>n?c/t:l/n;r*=.5;var i=e.x+t/2,s=e.y+n/2,o=this.xyFromCenterPoint(i,s,r);this.cameraMoveAbs(-o.x,-o.y,r,1.5)};e.xyFromCenterPoint=function(e,t,n){n=n||o;var r=-e*n,i=-t*n;r+=c/2;i+=l/2;return{x:r,y:i}};e.zoomIn=function(){val=.4;prcX=(-t+c/2)/a/o;prcY=(-s+l/2)/f/o;pwX=.5;pwY=.5;var n={width:a*o,height:f*o};o+=val;o=Math.clamp(o,.35,6);var r={width:a*o,height:f*o},i={width:r.width-n.width,height:r.height-n.height};t-=i.width*prcX;s-=i.height*prcY;e.triggerScroll();vtlTrigger(vEV_MOUSE_DRAG,{x:t,y:s,z:o});return!1};e.zoomOut=function(){val=-0.4;prcX=(-t+c/2)/a/o;prcY=(-s+l/2)/f/o;pwX=.5;pwY=.5;var n={width:a*o,height:f*o};o+=val;o=Math.clamp(o,.35,6);var r={width:a*o,height:f*o},i={width:r.width-n.width,height:r.height-n.height};t-=i.width*prcX;s-=i.height*prcY;e.triggerScroll();vtlTrigger(vEV_MOUSE_DRAG,{x:t,y:s,z:o});return!1};e.cameraMoveCaminho=function(){var t=e.percurso.pegaPontosOptimizados(),t=e.percurso._pointsKmCartesian,n=[];for(var r=0;r<t.length;r++)n.push({setx:-(t[r][0]*o)+c/2,sety:-(t[r][1]*o)+l/2});TweenMax.to(e,30*o,{bezier:{values:n,type:"thru",curviness:1,timeResolution:140},onUpdateScope:e,onUpdate:function(){this.updateFast()},ease:Linear.easeNone})};e.cameraCenterInPoint=function(e){t=-e.x*o;s=-e.y*o;t+=c/2;s+=l/2;vtlTrigger(vEV_MOUSE_DRAG,{x:t,y:s,z:o})};e.setx=function(e){t=e;return t};e.getx=function(){return t};e.sety=function(e){s=e};e.gety=function(){return s};e.setz=function(e){o=vtl.Util.math.clamp(e,.24,10)};e.getz=function(){return o};e.seta=function(e){u=e};e.geta=function(){return u};e.showMyLocation=function(e){var t=e.coords.latitude,n=e.coords.longitude;this.myPosition=vtl.Util.toMercator(t,n);this.lagoLayer.paper.circle(this.myPosition[0],this.myPosition[1],4)};e.goToMenu=function(t,n,r,i){r=r||0;n=n||2;var s={};vtlTrigger(vEV_MODO_MENU,"");$("wrap").fadeTo("200",1);if(navegacao[t]===undefined)return;var o=navegacao[t];window.VTL_MENUATUAL=o;this.menuatual=window.VTL_MENUATUAL;window.VTL_MENUATUAL.nome=t;destx=o.x;dexty=o.y;destz=o.z;vtlTrigger(vEV_CONTEUDO_LOAD,i);e.cameraMoveParaMenu(destx,dexty,destz,n,r)};e.onWindowRezise=function(){vtlTrigger(vEV_RESIZE,"");c=$("#mapa-wrap").width();l=$("#mapa-wrap").height()};return e}();mousewhelllw(jQuery);